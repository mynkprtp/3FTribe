var N7=Object.defineProperty,M7=Object.defineProperties,x7=Object.getOwnPropertyDescriptors,PV=Object.getOwnPropertySymbols,O7=Object.prototype.hasOwnProperty,R7=Object.prototype.propertyIsEnumerable,kV=(Je,he,k)=>he in Je?N7(Je,he,{enumerable:!0,configurable:!0,writable:!0,value:k}):Je[he]=k,FV=(Je,he)=>{for(var k in he||(he={}))O7.call(he,k)&&kV(Je,k,he[k]);if(PV)for(var k of PV(he))R7.call(he,k)&&kV(Je,k,he[k]);return Je},LV=(Je,he)=>M7(Je,x7(he));(self.webpackChunkCProject=self.webpackChunkCProject||[]).push([[179],{2011:(Je,he,k)=>{"use strict";k.d(he,{hO:()=>Ue,xv:()=>se,Dh:()=>ee,GT:()=>te,cc:()=>Ce,on:()=>j,pX:()=>ae});var l=k(5e3),z=k(127),F=k(5813);Je=k.hmd(Je);const le=["ngOnDestroy"],ae=(ve,Te,Be,Pe={})=>new Proxy(ve,{get:(Oe,we)=>Be.runOutsideAngular(()=>{var ge;if(ve[we])return(null===(ge=null==Pe?void 0:Pe.spy)||void 0===ge?void 0:ge.get)&&Pe.spy.get(we,ve[we]),ve[we];if(le.indexOf(we)>-1)return()=>{};const fe=Te.toPromise().then(H=>{const oe=H&&H[we];return"function"==typeof oe?oe.bind(H):oe&&oe.then?oe.then(Ne=>Be.run(()=>Ne)):Be.run(()=>oe)});return new Proxy(()=>{},{get:(H,oe)=>fe[oe],apply:(H,oe,Ne)=>fe.then(rt=>{var We;const ht=rt&&rt(...Ne);return(null===(We=null==Pe?void 0:Pe.spy)||void 0===We?void 0:We.apply)&&Pe.spy.apply(we,Ne,ht),ht})})})}),te=(ve,Te)=>{Te.forEach(Be=>{Object.getOwnPropertyNames(Be.prototype||Be).forEach(Pe=>{Object.defineProperty(ve.prototype,Pe,Object.getOwnPropertyDescriptor(Be.prototype||Be,Pe))})})};class re{constructor(Te){return Te}}const ee=new l.OlP("angularfire2.app.options"),se=new l.OlP("angularfire2.app.name");function j(ve,Te,Be){const Oe="object"==typeof Be&&Be||{};Oe.name=Oe.name||"string"==typeof Be&&Be||"[DEFAULT]";const ge=z.Z.apps.filter(fe=>fe&&fe.name===Oe.name)[0]||Te.runOutsideAngular(()=>z.Z.initializeApp(ve,Oe));try{JSON.stringify(ve)!==JSON.stringify(ge.options)&&G("error",`${ge.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(fe){}return new re(ge)}const G=(ve,...Te)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ve](...Te)},ne={provide:re,useFactory:j,deps:[ee,l.R0b,[new l.FiY,se]]};let Ue=(()=>{class ve{constructor(Be){z.Z.registerVersion("angularfire",F.q4.full,"core"),z.Z.registerVersion("angularfire",F.q4.full,"app-compat"),z.Z.registerVersion("angular",l.q4F.full,Be.toString())}static initializeApp(Be,Pe){return{ngModule:ve,providers:[{provide:ee,useValue:Be},{provide:se,useValue:Pe}]}}}return ve.\u0275fac=function(Be){return new(Be||ve)(l.LFG(l.Lbi))},ve.\u0275mod=l.oAB({type:ve}),ve.\u0275inj=l.cJS({providers:[ne]}),ve})();function Ce(ve,Te,Be,Pe,Oe){const[,we,ge]=globalThis.\u0275AngularfireInstanceCache.find(fe=>fe[0]===ve)||[];if(we)return function Re(ve,Te){try{return ve.toString()===Te.toString()}catch(Be){return ve===Te}}(Oe,ge)||(ye("error",`${Te} was already initialized on the ${Be} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Oe,was:ge})),we;{const fe=Pe();return globalThis.\u0275AngularfireInstanceCache.push([ve,fe,Oe]),fe}}const je=!!Je.hot,ye=(ve,...Te)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ve](...Te)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Je,he,k)=>{"use strict";k.d(he,{q4:()=>Hs,iC:()=>Ua,fc:()=>ea,HU:()=>Im,vb:()=>jl,JM:()=>sh});var l=k(5e3),z=k(5867),F=k(5861),le=k(9681),ae=k(2090),te=k(4859),re=k(1877),ee=k(8766);const se="@firebase/installations",j="0.5.10",ne=`w:${j}`,Ue="FIS_v2",Te=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Be(I){return I instanceof ae.ZR&&I.code.includes("request-failed")}function Pe({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Oe(I){return{token:I.token,requestStatus:2,expiresIn:rt(I.expiresIn),creationTime:Date.now()}}function we(I,S){return ge.apply(this,arguments)}function ge(){return(ge=(0,F.Z)(function*(I,S){const V=(yield S.json()).error;return Te.create("request-failed",{requestName:I,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function fe({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function H(I,{refreshToken:S}){const R=fe(I);return R.append("Authorization",function We(I){return`${Ue} ${I}`}(S)),R}function oe(I){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,F.Z)(function*(I){const S=yield I();return S.status>=500&&S.status<600?I():S})).apply(this,arguments)}function rt(I){return Number(I.replace("s","000"))}function ht(I,S){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,F.Z)(function*({appConfig:I,heartbeatServiceProvider:S},{fid:R}){const V=Pe(I),Q=fe(I),ce=S.getImmediate({optional:!0});if(ce){const Bt=yield ce.getHeartbeatsHeader();Bt&&Q.append("x-firebase-client",Bt)}const Ve={method:"POST",headers:Q,body:JSON.stringify({fid:R,authVersion:Ue,appId:I.appId,sdkVersion:ne})},Ct=yield oe(()=>fetch(V,Ve));if(Ct.ok){const Bt=yield Ct.json();return{fid:Bt.fid||R,registrationStatus:2,refreshToken:Bt.refreshToken,authToken:Oe(Bt.authToken)}}throw yield we("Create Installation",Ct)})).apply(this,arguments)}function Xn(I){return new Promise(S=>{setTimeout(S,I)})}const Di=/^[cdef][\w-]{21}$/;function It(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const R=function yn(I){return function Fn(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Di.test(R)?R:""}catch(I){return""}}function vn(I){return`${I.appName}!${I.appId}`}const ln=new Map;function xt(I,S){const R=vn(I);St(R,S),function jn(I,S){const R=function Nt(){return!Gt&&"BroadcastChannel"in self&&(Gt=new BroadcastChannel("[Firebase] FID Change"),Gt.onmessage=I=>{St(I.data.key,I.data.fid)}),Gt}();R&&R.postMessage({key:I,fid:S}),function rn(){0===ln.size&&Gt&&(Gt.close(),Gt=null)}()}(R,S)}function St(I,S){const R=ln.get(I);if(R)for(const V of R)V(S)}let Gt=null;const cr="firebase-installations-store";let Yr=null;function _t(){return Yr||(Yr=(0,ee.X3)("firebase-installations-database",1,{upgrade:(I,S)=>{0===S&&I.createObjectStore(cr)}})),Yr}function kr(I,S){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,F.Z)(function*(I,S){const R=vn(I),Q=(yield _t()).transaction(cr,"readwrite"),ce=Q.objectStore(cr),Ie=yield ce.get(R);return yield ce.put(S,R),yield Q.done,(!Ie||Ie.fid!==S.fid)&&xt(I,S.fid),S})).apply(this,arguments)}function Hn(I){return no.apply(this,arguments)}function no(){return(no=(0,F.Z)(function*(I){const S=vn(I),V=(yield _t()).transaction(cr,"readwrite");yield V.objectStore(cr).delete(S),yield V.done})).apply(this,arguments)}function dr(I,S){return mi.apply(this,arguments)}function mi(){return(mi=(0,F.Z)(function*(I,S){const R=vn(I),Q=(yield _t()).transaction(cr,"readwrite"),ce=Q.objectStore(cr),Ie=yield ce.get(R),Ve=S(Ie);return void 0===Ve?yield ce.delete(R):yield ce.put(Ve,R),yield Q.done,Ve&&(!Ie||Ie.fid!==Ve.fid)&&xt(I,Ve.fid),Ve})).apply(this,arguments)}function Gn(I){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,F.Z)(function*(I){let S;const R=yield dr(I.appConfig,V=>{const Q=Po(V),ce=zt(I,Q);return S=ce.registrationPromise,ce.installationEntry});return""===R.fid?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}})).apply(this,arguments)}function Po(I){return ko(I||{fid:It(),registrationStatus:0})}function zt(I,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Te.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},V=function st(I,S){return bt.apply(this,arguments)}(I,R);return{installationEntry:R,registrationPromise:V}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Ui(I)}:{installationEntry:S}}function bt(){return(bt=(0,F.Z)(function*(I,S){try{const R=yield ht(I,S);return kr(I.appConfig,R)}catch(R){throw Be(R)&&409===R.customData.serverCode?yield Hn(I.appConfig):yield kr(I.appConfig,{fid:S.fid,registrationStatus:0}),R}})).apply(this,arguments)}function Ui(I){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,F.Z)(function*(I){let S=yield Wt(I.appConfig);for(;1===S.registrationStatus;)yield Xn(100),S=yield Wt(I.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:V}=yield Gn(I);return V||R}return S})).apply(this,arguments)}function Wt(I){return dr(I,S=>{if(!S)throw Te.create("installation-not-found");return ko(S)})}function ko(I){return function Vi(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ji(I,S){return $.apply(this,arguments)}function $(){return($=(0,F.Z)(function*({appConfig:I,heartbeatServiceProvider:S},R){const V=K(I,R),Q=H(I,R),ce=S.getImmediate({optional:!0});if(ce){const Bt=yield ce.getHeartbeatsHeader();Bt&&Q.append("x-firebase-client",Bt)}const Ve={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:ne,appId:I.appId}})},Ct=yield oe(()=>fetch(V,Ve));if(Ct.ok)return Oe(yield Ct.json());throw yield we("Generate Auth Token",Ct)})).apply(this,arguments)}function K(I,{fid:S}){return`${Pe(I)}/${S}/authTokens:generate`}function Y(I){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,F.Z)(function*(I,S=!1){let R;const V=yield dr(I.appConfig,ce=>{if(!wt(ce))throw Te.create("not-registered");const Ie=ce.authToken;if(!S&&wn(Ie))return ce;if(1===Ie.requestStatus)return R=q(I,S),ce;{if(!navigator.onLine)throw Te.create("app-offline");const Ve=ri(ce);return R=Xe(I,Ve),Ve}});return R?yield R:V.authToken})).apply(this,arguments)}function q(I,S){return ie.apply(this,arguments)}function ie(){return(ie=(0,F.Z)(function*(I,S){let R=yield Me(I.appConfig);for(;1===R.authToken.requestStatus;)yield Xn(100),R=yield Me(I.appConfig);const V=R.authToken;return 0===V.requestStatus?Y(I,S):V})).apply(this,arguments)}function Me(I){return dr(I,S=>{if(!wt(S))throw Te.create("not-registered");return function Ji(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Xe(I,S){return lt.apply(this,arguments)}function lt(){return(lt=(0,F.Z)(function*(I,S){try{const R=yield ji(I,S),V=Object.assign(Object.assign({},S),{authToken:R});return yield kr(I.appConfig,V),R}catch(R){if(!Be(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const V=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield kr(I.appConfig,V)}else yield Hn(I.appConfig);throw R}})).apply(this,arguments)}function wt(I){return void 0!==I&&2===I.registrationStatus}function wn(I){return 2===I.requestStatus&&!function Et(I){const S=Date.now();return S<I.creationTime||I.creationTime+I.expiresIn<S+36e5}(I)}function ri(I){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:S})}function yl(){return(yl=(0,F.Z)(function*(I){const S=I,{installationEntry:R,registrationPromise:V}=yield Gn(S);return V?V.catch(console.error):Y(S).catch(console.error),R.fid})).apply(this,arguments)}function vl(){return(vl=(0,F.Z)(function*(I,S=!1){const R=I;return yield si(R),(yield Y(R,S)).token})).apply(this,arguments)}function si(I){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,F.Z)(function*(I){const{registrationPromise:S}=yield Gn(I);S&&(yield S)})).apply(this,arguments)}function wa(I){return Te.create("missing-app-config-values",{valueName:I})}const fr="installations",at=I=>{const S=I.getProvider("app").getImmediate(),R=function Ii(I){if(!I||!I.options)throw wa("App Configuration");if(!I.name)throw wa("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!I.options[R])throw wa(R);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,le._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},un=I=>{const S=I.getProvider("app").getImmediate(),R=(0,le._getProvider)(S,fr).getImmediate();return{getId:()=>function _l(I){return yl.apply(this,arguments)}(R),getToken:Q=>function fu(I){return vl.apply(this,arguments)}(R,Q)}};(function pr(){(0,le._registerComponent)(new te.wA(fr,at,"PUBLIC")),(0,le._registerComponent)(new te.wA("installations-internal",un,"PRIVATE"))})(),(0,le.registerVersion)(se,j),(0,le.registerVersion)(se,j,"esm2017");const gs="@firebase/remote-config",$n=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class _u{constructor(S,R,V,Q){this.client=S,this.storage=R,this.storageCache=V,this.logger=Q}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-R,Q=V<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var R=this;return(0,F.Z)(function*(){const[V,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(S.cacheMaxAgeMillis,V))return Q;S.eTag=Q&&Q.eTag;const ce=yield R.client.fetch(S),Ie=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Ie.push(R.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Ie),ce})()}}function Fd(I=navigator){return I.languages&&I.languages[0]||I.language}class Hi{constructor(S,R,V,Q,ce,Ie){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=V,this.projectId=Q,this.apiKey=ce,this.appId=Ie}fetch(S){var R=this;return(0,F.Z)(function*(){var V,Q,ce;const[Ie,Ve]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Bt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},pt={sdk_version:R.sdkVersion,app_instance_id:Ie,app_instance_id_token:Ve,app_id:R.appId,language_code:Fd()},Oi={method:"POST",headers:qt,body:JSON.stringify(pt)},vr=fetch(Bt,Oi),Hl=new Promise((Ss,ss)=>{S.signal.addEventListener(()=>{const yo=new Error("The operation was aborted.");yo.name="AbortError",ss(yo)})});let is;try{yield Promise.race([vr,Hl]),is=yield vr}catch(Ss){let ss="fetch-client-network";throw"AbortError"===(null===(V=Ss)||void 0===V?void 0:V.name)&&(ss="fetch-timeout"),$n.create(ss,{originalErrorMessage:null===(Q=Ss)||void 0===Q?void 0:Q.message})}let br=is.status;const ah=is.headers.get("ETag")||void 0;let rs,Gl;if(200===is.status){let Ss;try{Ss=yield is.json()}catch(ss){throw $n.create("fetch-client-parse",{originalErrorMessage:null===(ce=ss)||void 0===ce?void 0:ce.message})}rs=Ss.entries,Gl=Ss.state}if("INSTANCE_STATE_UNSPECIFIED"===Gl?br=500:"NO_CHANGE"===Gl?br=304:("NO_TEMPLATE"===Gl||"EMPTY_CONFIG"===Gl)&&(rs={}),304!==br&&200!==br)throw $n.create("fetch-status",{httpStatus:br});return{status:br,eTag:ah,config:rs}})()}}class pm{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,F.Z)(function*(){const V=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,V)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:V}){var Q=this;return(0,F.Z)(function*(){yield function ao(I,S){return new Promise((R,V)=>{const Q=Math.max(S-Date.now(),0),ce=setTimeout(R,Q);I.addEventListener(()=>{clearTimeout(ce),V($n.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const ce=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Ld(I){if(!(I instanceof ae.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ce))throw ce;const Ie={throttleEndTimeMillis:Date.now()+(0,ae.$s)(V),backoffCount:V+1};return yield Q.storage.setThrottleMetadata(Ie),Q.attemptFetch(S,Ie)}})()}}class Bd{constructor(S,R,V,Q,ce){this.app=S,this._client=R,this._storageCache=V,this._storage=Q,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Dc(I,S){var R;const V=I.target.error||void 0;return $n.create(S,{originalErrorMessage:V&&(null===(R=V)||void 0===R?void 0:R.message)})}const lo="app_namespace_store";class ym{constructor(S,R,V,Q=function _m(){return new Promise((I,S)=>{var R;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=Q=>{S(Dc(Q,"storage-open"))},V.onsuccess=Q=>{I(Q.target.result)},V.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(lo,{keyPath:"compositeKey"})}}catch(V){S($n.create("storage-open",{originalErrorMessage:null===(R=V)||void 0===R?void 0:R.message}))}})}()){this.appId=S,this.appName=R,this.namespace=V,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,F.Z)(function*(){const V=yield R.openDbPromise;return new Promise((Q,ce)=>{var Ie;const Ct=V.transaction([lo],"readonly").objectStore(lo),Bt=R.createCompositeKey(S);try{const qt=Ct.get(Bt);qt.onerror=pt=>{ce(Dc(pt,"storage-get"))},qt.onsuccess=pt=>{const Oi=pt.target.result;Q(Oi?Oi.value:void 0)}}catch(qt){ce($n.create("storage-get",{originalErrorMessage:null===(Ie=qt)||void 0===Ie?void 0:Ie.message}))}})})()}set(S,R){var V=this;return(0,F.Z)(function*(){const Q=yield V.openDbPromise;return new Promise((ce,Ie)=>{var Ve;const Bt=Q.transaction([lo],"readwrite").objectStore(lo),qt=V.createCompositeKey(S);try{const pt=Bt.put({compositeKey:qt,value:R});pt.onerror=Oi=>{Ie(Dc(Oi,"storage-set"))},pt.onsuccess=()=>{ce()}}catch(pt){Ie($n.create("storage-set",{originalErrorMessage:null===(Ve=pt)||void 0===Ve?void 0:Ve.message}))}})})()}delete(S){var R=this;return(0,F.Z)(function*(){const V=yield R.openDbPromise;return new Promise((Q,ce)=>{var Ie;const Ct=V.transaction([lo],"readwrite").objectStore(lo),Bt=R.createCompositeKey(S);try{const qt=Ct.delete(Bt);qt.onerror=pt=>{ce(Dc(pt,"storage-delete"))},qt.onsuccess=()=>{Q()}}catch(qt){ce($n.create("storage-delete",{originalErrorMessage:null===(Ie=qt)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Vd{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,F.Z)(function*(){const R=S.storage.getLastFetchStatus(),V=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),ce=yield R;ce&&(S.lastFetchStatus=ce);const Ie=yield V;Ie&&(S.lastSuccessfulFetchTimestampMillis=Ie);const Ve=yield Q;Ve&&(S.activeConfig=Ve)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function yu(){return jd.apply(this,arguments)}function jd(){return(jd=(0,F.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(I){return!1}})).apply(this,arguments)}!function Ca(){(0,le._registerComponent)(new te.wA("remote-config",function I(S,{instanceIdentifier:R}){const V=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw $n.create("registration-window");if(!(0,ae.hl)())throw $n.create("indexed-db-unavailable");const{projectId:ce,apiKey:Ie,appId:Ve}=V.options;if(!ce)throw $n.create("registration-project-id");if(!Ie)throw $n.create("registration-api-key");if(!Ve)throw $n.create("registration-app-id");const Ct=new ym(Ve,V.name,R=R||"firebase"),Bt=new Vd(Ct),qt=new re.Yd(gs);qt.logLevel=re.in.ERROR;const pt=new Hi(Q,le.SDK_VERSION,R,ce,Ie,Ve),Oi=new pm(pt,Ct),vr=new _u(Oi,Ct,Bt,qt),Hl=new Bd(V,vr,Bt,Ct,qt);return function pn(I){const S=(0,ae.m9)(I);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Hl),Hl},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(gs,"0.3.9"),(0,le.registerVersion)(gs,"0.3.9","esm2017")}();const Hd="/firebase-messaging-sw.js",Gi="/firebase-cloud-messaging-push-scope",Bo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ta="google.c.a.c_id",Gd="google.c.a.c_l",Xf="google.c.a.ts",Xi="google.c.a.e";var Da=(()=>{return(I=Da||(Da={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Da;var I})();function er(I){const S=new Uint8Array(I);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function $d(I){const R=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(R),Q=new Uint8Array(V.length);for(let ce=0;ce<V.length;++ce)Q[ce]=V.charCodeAt(ce);return Q}const $i="fcm_token_details_db",Br="fcm_token_object_Store";function Ic(I){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,F.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes($i))return null;let S=null;return(yield(0,ee.X3)($i,5,{upgrade:(V=(0,F.Z)(function*(Q,ce,Ie,Ve){var Ct;if(ce<2||!Q.objectStoreNames.contains(Br))return;const Bt=Ve.objectStore(Br),qt=yield Bt.index("fcmSenderId").get(I);if(yield Bt.clear(),qt)if(2===ce){const pt=qt;if(!pt.auth||!pt.p256dh||!pt.endpoint)return;S={token:pt.fcmToken,createTime:null!==(Ct=pt.createTime)&&void 0!==Ct?Ct:Date.now(),subscriptionOptions:{auth:pt.auth,p256dh:pt.p256dh,endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:"string"==typeof pt.vapidKey?pt.vapidKey:er(pt.vapidKey)}}}else if(3===ce){const pt=qt;S={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:er(pt.auth),p256dh:er(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:er(pt.vapidKey)}}}else if(4===ce){const pt=qt;S={token:pt.fcmToken,createTime:pt.createTime,subscriptionOptions:{auth:er(pt.auth),p256dh:er(pt.p256dh),endpoint:pt.endpoint,swScope:pt.swScope,vapidKey:er(pt.vapidKey)}}}}),function(ce,Ie,Ve,Ct){return V.apply(this,arguments)})})).close(),yield(0,ee.Lj)($i),yield(0,ee.Lj)("fcm_vapid_details_db"),yield(0,ee.Lj)("undefined"),Sc(S)?S:null;var V}),Wd.apply(this,arguments)}function Sc(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:S}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const ws="firebase-messaging-store";let ep=null;function cn(){return ep||(ep=(0,ee.X3)("firebase-messaging-database",1,{upgrade:(I,S)=>{0===S&&I.createObjectStore(ws)}})),ep}function Cl(I){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,F.Z)(function*(I){const S=Si(I),V=yield(yield cn()).transaction(ws).objectStore(ws).get(S);if(V)return V;{const Q=yield Ic(I.appConfig.senderId);if(Q)return yield sn(I,Q),Q}})).apply(this,arguments)}function sn(I,S){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,F.Z)(function*(I,S){const R=Si(I),Q=(yield cn()).transaction(ws,"readwrite");return yield Q.objectStore(ws).put(S,R),yield Q.done,S})).apply(this,arguments)}function vu(I){return uo.apply(this,arguments)}function uo(){return(uo=(0,F.Z)(function*(I){const S=Si(I),V=(yield cn()).transaction(ws,"readwrite");yield V.objectStore(ws).delete(S),yield V.done})).apply(this,arguments)}function Si({appConfig:I}){return I.appId}const xn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Es(I,S){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,F.Z)(function*(I,S){const R=yield Aa(I),V=Na(S),Q={method:"POST",headers:R,body:JSON.stringify(V)};let ce;try{ce=yield(yield fetch(Cs(I.appConfig),Q)).json()}catch(Ie){throw xn.create("token-subscribe-failed",{errorInfo:Ie})}if(ce.error)throw xn.create("token-subscribe-failed",{errorInfo:ce.error.message});if(!ce.token)throw xn.create("token-subscribe-no-token");return ce.token})).apply(this,arguments)}function jo(I,S){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,F.Z)(function*(I,S){const R=yield Aa(I),V=Na(S.subscriptionOptions),Q={method:"PATCH",headers:R,body:JSON.stringify(V)};let ce;try{ce=yield(yield fetch(`${Cs(I.appConfig)}/${S.token}`,Q)).json()}catch(Ie){throw xn.create("token-update-failed",{errorInfo:Ie})}if(ce.error)throw xn.create("token-update-failed",{errorInfo:ce.error.message});if(!ce.token)throw xn.create("token-update-no-token");return ce.token})).apply(this,arguments)}function Dl(I,S){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,F.Z)(function*(I,S){const V={method:"DELETE",headers:yield Aa(I)};try{const ce=yield(yield fetch(`${Cs(I.appConfig)}/${S}`,V)).json();if(ce.error)throw xn.create("token-unsubscribe-failed",{errorInfo:ce.error.message})}catch(Q){throw xn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function Cs({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Aa(I){return ft.apply(this,arguments)}function ft(){return(ft=(0,F.Z)(function*({appConfig:I,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Na({p256dh:I,auth:S,endpoint:R,vapidKey:V}){const Q={web:{endpoint:R,auth:S,p256dh:I}};return V!==Bo&&(Q.web.applicationPubKey=V),Q}const bu=6048e5;function Il(I){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,F.Z)(function*(I){const S=yield Dn(I.swRegistration,I.vapidKey),R={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:S.endpoint,auth:er(S.getKey("auth")),p256dh:er(S.getKey("p256dh"))},V=yield Cl(I.firebaseDependencies);if(V){if(Ho(V.subscriptionOptions,R))return Date.now()>=V.createTime+bu?Oc(I,{token:V.token,createTime:Date.now(),subscriptionOptions:R}):V.token;try{yield Dl(I.firebaseDependencies,V.token)}catch(Q){console.warn(Q)}return Ut(I.firebaseDependencies,R)}return Ut(I.firebaseDependencies,R)})).apply(this,arguments)}function Sl(I){return xc.apply(this,arguments)}function xc(){return(xc=(0,F.Z)(function*(I){const S=yield Cl(I.firebaseDependencies);S&&(yield Dl(I.firebaseDependencies,S.token),yield vu(I.firebaseDependencies));const R=yield I.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Oc(I,S){return De.apply(this,arguments)}function De(){return(De=(0,F.Z)(function*(I,S){try{const R=yield jo(I.firebaseDependencies,S),V=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield sn(I.firebaseDependencies,V),R}catch(R){throw yield Sl(I),R}})).apply(this,arguments)}function Ut(I,S){return wu.apply(this,arguments)}function wu(){return(wu=(0,F.Z)(function*(I,S){const V={token:yield Es(I,S),createTime:Date.now(),subscriptionOptions:S};return yield sn(I,V),V.token})).apply(this,arguments)}function Dn(I,S){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,F.Z)(function*(I,S){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:$d(S)})})).apply(this,arguments)}function Ho(I,S){return S.vapidKey===I.vapidKey&&S.endpoint===I.endpoint&&S.auth===I.auth&&S.p256dh===I.p256dh}function Ur(I){const S={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Al(I,S){if(!S.notification)return;I.notification={};const R=S.notification.title;R&&(I.notification.title=R);const V=S.notification.body;V&&(I.notification.body=V);const Q=S.notification.image;Q&&(I.notification.image=Q)}(S,I),function Rc(I,S){!S.data||(I.data=S.data)}(S,I),function vm(I,S){var R,V,Q,ce,Ie;if(!S.fcmOptions&&!(null===(R=S.notification)||void 0===R?void 0:R.click_action))return;I.fcmOptions={};const Ve=null!==(Q=null===(V=S.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==Q?Q:null===(ce=S.notification)||void 0===ce?void 0:ce.click_action;Ve&&(I.fcmOptions.link=Ve);const Ct=null===(Ie=S.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;Ct&&(I.fcmOptions.analyticsLabel=Ct)}(S,I),S}function Eu(I){return"object"==typeof I&&!!I&&Ta in I}function Nl(I,S){const R=[];for(let V=0;V<I.length;V++)R.push(I.charAt(V)),V<S.length&&R.push(S.charAt(V));return R.join("")}function Wn(I){return xn.create("missing-app-config-values",{valueName:I})}Nl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Nl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bs{constructor(S,R,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Cu(I){if(!I||!I.options)throw Wn("App Configuration Object");if(!I.name)throw Wn("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=I;for(const V of S)if(!R[V])throw Wn(V);return{appName:I.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:R,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Ml(I){return co.apply(this,arguments)}function co(){return(co=(0,F.Z)(function*(I){var S;try{I.swRegistration=yield navigator.serviceWorker.register(Hd,{scope:Gi}),I.swRegistration.update().catch(()=>{})}catch(R){throw xn.create("failed-service-worker-registration",{browserErrorMessage:null===(S=R)||void 0===S?void 0:S.message})}})).apply(this,arguments)}function Xr(I,S){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,F.Z)(function*(I,S){if(!S&&!I.swRegistration&&(yield Ml(I)),S||!I.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");I.swRegistration=S}})).apply(this,arguments)}function Tu(I,S){return kc.apply(this,arguments)}function kc(){return(kc=(0,F.Z)(function*(I,S){S?I.vapidKey=S:I.vapidKey||(I.vapidKey=Bo)})).apply(this,arguments)}function xl(){return(xl=(0,F.Z)(function*(I,S){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield Tu(I,null==S?void 0:S.vapidKey),yield Xr(I,null==S?void 0:S.serviceWorkerRegistration),Il(I)})).apply(this,arguments)}function xa(I,S,R){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,F.Z)(function*(I,S,R){const V=Ol(S);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:R[Ta],message_name:R[Gd],message_time:R[Xf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ol(I){switch(I){case Da.NOTIFICATION_CLICKED:return"notification_open";case Da.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Lc(){return(Lc=(0,F.Z)(function*(I,S){const R=S.data;if(!R.isFirebaseMessaging)return;I.onMessageHandler&&R.messageType===Da.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(Ur(R)):I.onMessageHandler.next(Ur(R)));const V=R.data;Eu(V)&&"1"===V[Xi]&&(yield xa(I,R.messageType,V))})).apply(this,arguments)}const Oa="@firebase/messaging",qd=I=>{const S=new Bs(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function bm(I,S){return Lc.apply(this,arguments)}(S,R)),S},Ra=I=>{const S=I.getProvider("messaging").getImmediate();return{getToken:V=>function Du(I,S){return xl.apply(this,arguments)}(S,V)}};function Pa(){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,F.Z)(function*(){try{yield(0,ae.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,ae.hl)()&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zd(){(0,le._registerComponent)(new te.wA("messaging",qd,"PUBLIC")),(0,le._registerComponent)(new te.wA("messaging-internal",Ra,"PRIVATE")),(0,le.registerVersion)(Oa,"0.9.14"),(0,le.registerVersion)(Oa,"0.9.14","esm2017")}();const Zd="analytics",wm="firebase_id",Us="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ka="https://www.googletagmanager.com/gtag/js",yi=new re.Yd("@firebase/analytics");function ip(I){return Promise.all(I.map(S=>S.catch(R=>R)))}function Go(I,S){const R=document.createElement("script");R.src=`${ka}?l=${I}&id=${S}`,R.async=!0,document.head.appendChild(R)}function Yd(I,S,R,V,Q,ce){return Su.apply(this,arguments)}function Su(){return(Su=(0,F.Z)(function*(I,S,R,V,Q,ce){const Ie=V[Q];try{if(Ie)yield S[Ie];else{const Ct=(yield ip(R)).find(Bt=>Bt.measurementId===Q);Ct&&(yield S[Ct.appId])}}catch(Ve){yi.error(Ve)}I("config",Q,ce)})).apply(this,arguments)}function Au(I,S,R,V,Q){return $o.apply(this,arguments)}function $o(){return($o=(0,F.Z)(function*(I,S,R,V,Q){try{let ce=[];if(Q&&Q.send_to){let Ie=Q.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Ve=yield ip(R);for(const Ct of Ie){const Bt=Ve.find(pt=>pt.measurementId===Ct),qt=Bt&&S[Bt.appId];if(!qt){ce=[];break}ce.push(qt)}}0===ce.length&&(ce=Object.values(S)),yield Promise.all(ce),I("event",V,Q||{})}catch(ce){yi.error(ce)}})).apply(this,arguments)}function qn(){const I=window.document.getElementsByTagName("script");for(const S of Object.values(I))if(S.src&&S.src.includes(ka))return S;return null}const Ni=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Wo=new class Vr{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Mu(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function es(I){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,F.Z)(function*(I){var S;const{appId:R,apiKey:V}=I,Q={method:"GET",headers:Mu(V)},ce=Us.replace("{app-id}",R),Ie=yield fetch(ce,Q);if(200!==Ie.status&&304!==Ie.status){let Ve="";try{const Ct=yield Ie.json();(null===(S=Ct.error)||void 0===S?void 0:S.message)&&(Ve=Ct.error.message)}catch(Ct){}throw Ni.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Ve})}return Ie.json()})).apply(this,arguments)}function yt(I){return On.apply(this,arguments)}function On(){return(On=(0,F.Z)(function*(I,S=Wo,R){const{appId:V,apiKey:Q,measurementId:ce}=I.options;if(!V)throw Ni.create("no-app-id");if(!Q){if(ce)return{measurementId:ce,appId:V};throw Ni.create("no-api-key")}const Ie=S.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ve=new eh;return setTimeout((0,F.Z)(function*(){Ve.abort()}),void 0!==R?R:6e4),qo({appId:V,apiKey:Q,measurementId:ce},Ie,Ve,S)})).apply(this,arguments)}function qo(I,S,R){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,F.Z)(function*(I,{throttleEndTimeMillis:S,backoffCount:R},V,Q=Wo){const{appId:ce,measurementId:Ie}=I;try{yield xu(V,S)}catch(Ve){if(Ie)return yi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ce,measurementId:Ie};throw Ve}try{const Ve=yield es(I);return Q.deleteThrottleMetadata(ce),Ve}catch(Ve){if(!Xd(Ve)){if(Q.deleteThrottleMetadata(ce),Ie)return yi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${Ve.message}]`),{appId:ce,measurementId:Ie};throw Ve}const Ct=503===Number(Ve.customData.httpStatus)?(0,ae.$s)(R,Q.intervalMillis,30):(0,ae.$s)(R,Q.intervalMillis),Bt={throttleEndTimeMillis:Date.now()+Ct,backoffCount:R+1};return Q.setThrottleMetadata(ce,Bt),yi.debug(`Calling attemptFetch again in ${Ct} millis`),qo(I,Bt,V,Q)}})).apply(this,arguments)}function xu(I,S){return new Promise((R,V)=>{const Q=Math.max(S-Date.now(),0),ce=setTimeout(R,Q);I.addEventListener(()=>{clearTimeout(ce),V(Ni.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Xd(I){if(!(I instanceof ae.ZR&&I.customData))return!1;const S=Number(I.customData.httpStatus);return 429===S||500===S||503===S||504===S}class eh{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function th(){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,F.Z)(function*(){if(!(0,ae.hl)())return yi.warn(Ni.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(I){return yi.warn(Ni.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function dn(){return(dn=(0,F.Z)(function*(I,S,R,V,Q,ce,Ie){var Ve;const Ct=yt(I);Ct.then(vr=>{R[vr.measurementId]=vr.appId,I.options.measurementId&&vr.measurementId!==I.options.measurementId&&yi.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${vr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(vr=>yi.error(vr)),S.push(Ct);const Bt=th().then(vr=>{if(vr)return V.getId()}),[qt,pt]=yield Promise.all([Ct,Bt]);qn()||Go(ce,qt.measurementId),Q("js",new Date);const Oi=null!==(Ve=null==Ie?void 0:Ie.config)&&void 0!==Ve?Ve:{};return Oi.origin="firebase",Oi.update=!0,null!=pt&&(Oi[wm]=pt),Q("config",qt.measurementId,Oi),qt.measurementId})).apply(this,arguments)}class et{constructor(S){this.app=S}_delete(){return delete Wi[this.app.options.appId],Promise.resolve()}}let Wi={},nh=[];const zo={};let Ou,_r,Zo="dataLayer",qi=!1;function Tm(I,S,R){!function Fa(){const I=[];if((0,ae.ru)()&&I.push("This is a browser extension environment."),(0,ae.zI)()||I.push("Cookies are not available."),I.length>0){const S=I.map((V,Q)=>`(${Q+1}) ${V}`).join(" "),R=Ni.create("invalid-analytics-context",{errorInfo:S});yi.warn(R.message)}}();const V=I.options.appId;if(!V)throw Ni.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Ni.create("no-api-key");yi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wi[V])throw Ni.create("already-exists",{id:V});if(!qi){!function Iu(I){let S=[];Array.isArray(window[I])?S=window[I]:window[I]=S}(Zo);const{wrappedGtag:ce,gtagCore:Ie}=function Em(I,S,R,V,Q){let ce=function(...Ie){window[V].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ce=window[Q]),window[Q]=function Jd(I,S,R,V){function ce(){return(ce=(0,F.Z)(function*(Ie,Ve,Ct){try{"event"===Ie?yield Au(I,S,R,Ve,Ct):"config"===Ie?yield Yd(I,S,R,V,Ve,Ct):I("set",Ve)}catch(Bt){yi.error(Bt)}})).apply(this,arguments)}return function Q(Ie,Ve,Ct){return ce.apply(this,arguments)}}(ce,I,S,R),{gtagCore:ce,wrappedGtag:window[Q]}}(Wi,nh,zo,Zo,"gtag");_r=ce,Ou=Ie,qi=!0}return Wi[V]=function mr(I,S,R,V,Q,ce,Ie){return dn.apply(this,arguments)}(I,nh,zo,S,Ou,Zo,R),new et(I)}function Ru(){return(Ru=(0,F.Z)(function*(I,S,R,V,Q){if(Q&&Q.global)I("event",R,V);else{const ce=yield S;I("event",R,Object.assign(Object.assign({},V),{send_to:ce}))}})).apply(this,arguments)}function rp(){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,F.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(I){return!1}})).apply(this,arguments)}const rh="@firebase/analytics";!function ap(){(0,le._registerComponent)(new te.wA(Zd,(S,{options:R})=>Tm(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,le._registerComponent)(new te.wA("analytics-internal",function I(S){try{const R=S.getProvider(Zd).getImmediate();return{logEvent:(V,Q,ce)=>function op(I,S,R,V){I=(0,ae.m9)(I),function Ko(I,S,R,V,Q){return Ru.apply(this,arguments)}(_r,Wi[I.app.options.appId],S,R,V).catch(Q=>yi.error(Q))}(R,V,Q,ce)}}catch(R){throw Ni.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,le.registerVersion)(rh,"0.7.10"),(0,le.registerVersion)(rh,"0.7.10","esm2017")}();var Bl=k(4408),Rn=k(7565);const ho=new class Ul extends Rn.v{}(class lp extends Bl.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(S,R,V):S.flush(this)}});var ku=k(4986),yr=k(8505),nr=k(5363),Jo=k(9468);const Hs=new l.GfV("7.4.1"),fo="__angularfire_symbol__analyticsIsSupportedValue",Qo="__angularfire_symbol__analyticsIsSupported",po="__angularfire_symbol__remoteConfigIsSupportedValue",xi="__angularfire_symbol__remoteConfigIsSupported",ai="__angularfire_symbol__messagingIsSupportedValue",jc="__angularfire_symbol__messagingIsSupported";function sh(I,S,R){if(S){if(1===S.length)return S[0];const ce=S.filter(Ie=>Ie.app===R);if(1===ce.length)return ce[0]}return R.container.getProvider(I).getImmediate({optional:!0})}globalThis[Qo]||(globalThis[Qo]=rp().then(I=>globalThis[fo]=I).catch(()=>globalThis[fo]=!1)),globalThis[jc]||(globalThis[jc]=Pa().then(I=>globalThis[ai]=I).catch(()=>globalThis[ai]=!1)),globalThis[xi]||(globalThis[xi]=yu().then(I=>globalThis[po]=I).catch(()=>globalThis[po]=!1));const jl=(I,S)=>{const R=S?[S]:(0,z.C6)(),V=[];return R.forEach(Q=>{Q.container.getProvider(I).instances.forEach(Ie=>{V.includes(Ie)||V.push(Ie)})}),V};function go(){}class Fu{constructor(S,R=ho){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,V){const Q=this.zone;return this.delegate.schedule(function(Ie){Q.runGuarded(()=>{S.apply(this,[Ie])})},R,V)}}class Gc{constructor(S){this.zone=S,this.task=null}call(S,R){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",go,{},go,go)),R.pipe((0,yr.b)({next:V,complete:V,error:V})).subscribe(S).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Im=(()=>{class I{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Fu(Zone.current)),this.insideAngular=R.run(()=>new Fu(Zone.current,ku.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(R){return new(R||I)(l.LFG(l.R0b))},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function mo(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function ea(I){return I.pipe((0,nr.Q)(mo().outsideAngular))}function Ua(I){return mo(),function Va(I){return function(R){return(R=R.lift(new Gc(I.ngZone))).pipe((0,Jo.R)(I.outsideAngular),(0,nr.Q)(I.insideAngular))}}(mo())(I)}},2090:(Je,he,k)=>{"use strict";k.d(he,{BH:()=>Ue,LL:()=>Ge,ZR:()=>ht,gQ:()=>cr,zI:()=>Ne,hu:()=>z,g5:()=>F,US:()=>te,tV:()=>se,h$:()=>re,L:()=>ee,$s:()=>Wt,r3:()=>bn,Sg:()=>Ce,ne:()=>Yr,p$:()=>j,vZ:()=>Gt,ZB:()=>G,gK:()=>dr,pd:()=>Kr,m9:()=>ji,z$:()=>Re,GJ:()=>xt,jU:()=>ve,ru:()=>Te,d:()=>Pe,xb:()=>St,w1:()=>Oe,hl:()=>H,uI:()=>je,UG:()=>ye,Yr:()=>ge,b$:()=>Be,G6:()=>fe,Mn:()=>we,w9:()=>ln,cI:()=>Di,UI:()=>jn,xO:()=>rn,zd:()=>ei,DV:()=>Lt,ug:()=>zt,dS:()=>Po,Pz:()=>jt,Dv:()=>no,Wj:()=>Gn,lb:()=>Fr,eu:()=>oe});const z=function($,K){if(!$)throw F(K)},F=function($){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$)},le=function($){const K=[];let Y=0;for(let Ee=0;Ee<$.length;Ee++){let q=$.charCodeAt(Ee);q<128?K[Y++]=q:q<2048?(K[Y++]=q>>6|192,K[Y++]=63&q|128):55296==(64512&q)&&Ee+1<$.length&&56320==(64512&$.charCodeAt(Ee+1))?(q=65536+((1023&q)<<10)+(1023&$.charCodeAt(++Ee)),K[Y++]=q>>18|240,K[Y++]=q>>12&63|128,K[Y++]=q>>6&63|128,K[Y++]=63&q|128):(K[Y++]=q>>12|224,K[Y++]=q>>6&63|128,K[Y++]=63&q|128)}return K},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,K){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let q=0;q<$.length;q+=3){const ie=$[q],Me=q+1<$.length,Xe=Me?$[q+1]:0,lt=q+2<$.length,wt=lt?$[q+2]:0;let ri=(15&Xe)<<2|wt>>6,Ji=63&wt;lt||(Ji=64,Me||(ri=64)),Ee.push(Y[ie>>2],Y[(3&ie)<<4|Xe>>4],Y[ri],Y[Ji])}return Ee.join("")},encodeString($,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa($):this.encodeByteArray(le($),K)},decodeString($,K){return this.HAS_NATIVE_SUPPORT&&!K?atob($):function($){const K=[];let Y=0,Ee=0;for(;Y<$.length;){const q=$[Y++];if(q<128)K[Ee++]=String.fromCharCode(q);else if(q>191&&q<224){const ie=$[Y++];K[Ee++]=String.fromCharCode((31&q)<<6|63&ie)}else if(q>239&&q<365){const lt=((7&q)<<18|(63&$[Y++])<<12|(63&$[Y++])<<6|63&$[Y++])-65536;K[Ee++]=String.fromCharCode(55296+(lt>>10)),K[Ee++]=String.fromCharCode(56320+(1023&lt))}else{const ie=$[Y++],Me=$[Y++];K[Ee++]=String.fromCharCode((15&q)<<12|(63&ie)<<6|63&Me)}}return K.join("")}(this.decodeStringToByteArray($,K))},decodeStringToByteArray($,K){this.init_();const Y=K?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let q=0;q<$.length;){const ie=Y[$.charAt(q++)],Xe=q<$.length?Y[$.charAt(q)]:0;++q;const wt=q<$.length?Y[$.charAt(q)]:64;++q;const Et=q<$.length?Y[$.charAt(q)]:64;if(++q,null==ie||null==Xe||null==wt||null==Et)throw Error();Ee.push(ie<<2|Xe>>4),64!==wt&&(Ee.push(Xe<<4&240|wt>>2),64!==Et&&Ee.push(wt<<6&192|Et))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}},re=function($){const K=le($);return te.encodeByteArray(K,!0)},ee=function($){return re($).replace(/\./g,"")},se=function($){try{return te.decodeString($,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function j($){return G(void 0,$)}function G($,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return K}for(const Y in K)!K.hasOwnProperty(Y)||!ne(Y)||($[Y]=G($[Y],K[Y]));return $}function ne($){return"__proto__"!==$}class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,Y)=>{this.resolve=K,this.reject=Y})}wrapCallback(K){return(Y,Ee)=>{Y?this.reject(Y):this.resolve(Ee),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(Y):K(Y,Ee))}}}function Ce($,K){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=K||"demo-project",q=$.iat||0,ie=$.sub||$.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Me=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:q,exp:q+3600,auth_time:q,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},$);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(Me)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function je(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function ye(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch($){return!1}}function ve(){return"object"==typeof self&&self.self===self}function Te(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){return Re().indexOf("Electron/")>=0}function Oe(){const $=Re();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function we(){return Re().indexOf("MSAppHost/")>=0}function ge(){return!1}function fe(){return!ye()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H(){return"object"==typeof indexedDB}function oe(){return new Promise(($,K)=>{try{let Y=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Ee);q.onsuccess=()=>{q.result.close(),Y||self.indexedDB.deleteDatabase(Ee),$(!0)},q.onupgradeneeded=()=>{Y=!1},q.onerror=()=>{var ie;K((null===(ie=q.error)||void 0===ie?void 0:ie.message)||"")}}catch(Y){K(Y)}})}function Ne(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ht extends Error{constructor(K,Y,Ee){super(Y),this.code=K,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(K,Y,Ee){this.service=K,this.serviceName=Y,this.errors=Ee}create(K,...Y){const Ee=Y[0]||{},q=`${this.service}/${K}`,ie=this.errors[K],Me=ie?function Xn($,K){return $.replace(Fn,(Y,Ee)=>{const q=K[Ee];return null!=q?String(q):`<${Ee}?>`})}(ie,Ee):"Error";return new ht(q,`${this.serviceName}: ${Me} (${q}).`,Ee)}}const Fn=/\{\$([^}]+)}/g;function Di($){return JSON.parse($)}function jt($){return JSON.stringify($)}const It=function($){let K={},Y={},Ee={},q="";try{const ie=$.split(".");K=Di(se(ie[0])||""),Y=Di(se(ie[1])||""),q=ie[2],Ee=Y.d||{},delete Y.d}catch(ie){}return{header:K,claims:Y,data:Ee,signature:q}},ln=function($){const Y=It($).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},xt=function($){const K=It($).claims;return"object"==typeof K&&!0===K.admin};function bn($,K){return Object.prototype.hasOwnProperty.call($,K)}function Lt($,K){if(Object.prototype.hasOwnProperty.call($,K))return $[K]}function St($){for(const K in $)if(Object.prototype.hasOwnProperty.call($,K))return!1;return!0}function jn($,K,Y){const Ee={};for(const q in $)Object.prototype.hasOwnProperty.call($,q)&&(Ee[q]=K.call(Y,$[q],q,$));return Ee}function Gt($,K){if($===K)return!0;const Y=Object.keys($),Ee=Object.keys(K);for(const q of Y){if(!Ee.includes(q))return!1;const ie=$[q],Me=K[q];if(Nt(ie)&&Nt(Me)){if(!Gt(ie,Me))return!1}else if(ie!==Me)return!1}for(const q of Ee)if(!Y.includes(q))return!1;return!0}function Nt($){return null!==$&&"object"==typeof $}function rn($){const K=[];for(const[Y,Ee]of Object.entries($))Array.isArray(Ee)?Ee.forEach(q=>{K.push(encodeURIComponent(Y)+"="+encodeURIComponent(q))}):K.push(encodeURIComponent(Y)+"="+encodeURIComponent(Ee));return K.length?"&"+K.join("&"):""}function ei($){const K={};return $.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[q,ie]=Ee.split("=");K[decodeURIComponent(q)]=decodeURIComponent(ie)}}),K}function Kr($){const K=$.indexOf("?");if(!K)return"";const Y=$.indexOf("#",K);return $.substring(K,Y>0?Y:void 0)}class cr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let K=1;K<this.blockSize;++K)this.pad_[K]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(K,Y){Y||(Y=0);const Ee=this.W_;if("string"==typeof K)for(let Et=0;Et<16;Et++)Ee[Et]=K.charCodeAt(Y)<<24|K.charCodeAt(Y+1)<<16|K.charCodeAt(Y+2)<<8|K.charCodeAt(Y+3),Y+=4;else for(let Et=0;Et<16;Et++)Ee[Et]=K[Y]<<24|K[Y+1]<<16|K[Y+2]<<8|K[Y+3],Y+=4;for(let Et=16;Et<80;Et++){const ri=Ee[Et-3]^Ee[Et-8]^Ee[Et-14]^Ee[Et-16];Ee[Et]=4294967295&(ri<<1|ri>>>31)}let wt,wn,q=this.chain_[0],ie=this.chain_[1],Me=this.chain_[2],Xe=this.chain_[3],lt=this.chain_[4];for(let Et=0;Et<80;Et++){Et<40?Et<20?(wt=Xe^ie&(Me^Xe),wn=1518500249):(wt=ie^Me^Xe,wn=1859775393):Et<60?(wt=ie&Me|Xe&(ie|Me),wn=2400959708):(wt=ie^Me^Xe,wn=3395469782);const ri=(q<<5|q>>>27)+wt+lt+wn+Ee[Et]&4294967295;lt=Xe,Xe=Me,Me=4294967295&(ie<<30|ie>>>2),ie=q,q=ri}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+ie&4294967295,this.chain_[2]=this.chain_[2]+Me&4294967295,this.chain_[3]=this.chain_[3]+Xe&4294967295,this.chain_[4]=this.chain_[4]+lt&4294967295}update(K,Y){if(null==K)return;void 0===Y&&(Y=K.length);const Ee=Y-this.blockSize;let q=0;const ie=this.buf_;let Me=this.inbuf_;for(;q<Y;){if(0===Me)for(;q<=Ee;)this.compress_(K,q),q+=this.blockSize;if("string"==typeof K){for(;q<Y;)if(ie[Me]=K.charCodeAt(q),++Me,++q,Me===this.blockSize){this.compress_(ie),Me=0;break}}else for(;q<Y;)if(ie[Me]=K[q],++Me,++q,Me===this.blockSize){this.compress_(ie),Me=0;break}}this.inbuf_=Me,this.total_+=Y}digest(){const K=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&Y,Y/=256;this.compress_(this.buf_);let Ee=0;for(let q=0;q<5;q++)for(let ie=24;ie>=0;ie-=8)K[Ee]=this.chain_[q]>>ie&255,++Ee;return K}}function Yr($,K){const Y=new _t($,K);return Y.subscribe.bind(Y)}class _t{constructor(K,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{K(this)}).catch(Ee=>{this.error(Ee)})}next(K){this.forEachObserver(Y=>{Y.next(K)})}error(K){this.forEachObserver(Y=>{Y.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,Y,Ee){let q;if(void 0===K&&void 0===Y&&void 0===Ee)throw new Error("Missing Observer.");q=function Ln($,K){if("object"!=typeof $||null===$)return!1;for(const Y of K)if(Y in $&&"function"==typeof $[Y])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:Y,complete:Ee},void 0===q.next&&(q.next=Hn),void 0===q.error&&(q.error=Hn),void 0===q.complete&&(q.complete=Hn);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(Me){}}),this.observers.push(q),ie}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,K)}sendOne(K,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{Y(this.observers[K])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hn(){}const no=function($,K,Y,Ee){let q;if(Ee<K?q="at least "+K:Ee>Y&&(q=0===Y?"none":"no more than "+Y),q)throw new Error($+" failed: Was called with "+Ee+(1===Ee?" argument.":" arguments.")+" Expects "+q+".")};function dr($,K){return`${$} failed: ${K} argument `}function Gn($,K,Y,Ee){if((!Ee||Y)&&"function"!=typeof Y)throw new Error(dr($,K)+"must be a valid function.")}function Fr($,K,Y,Ee){if((!Ee||Y)&&("object"!=typeof Y||null===Y))throw new Error(dr($,K)+"must be a valid context object.")}const Po=function($){const K=[];let Y=0;for(let Ee=0;Ee<$.length;Ee++){let q=$.charCodeAt(Ee);if(q>=55296&&q<=56319){const ie=q-55296;Ee++,z(Ee<$.length,"Surrogate pair missing trail surrogate."),q=65536+(ie<<10)+($.charCodeAt(Ee)-56320)}q<128?K[Y++]=q:q<2048?(K[Y++]=q>>6|192,K[Y++]=63&q|128):q<65536?(K[Y++]=q>>12|224,K[Y++]=q>>6&63|128,K[Y++]=63&q|128):(K[Y++]=q>>18|240,K[Y++]=q>>12&63|128,K[Y++]=q>>6&63|128,K[Y++]=63&q|128)}return K},zt=function($){let K=0;for(let Y=0;Y<$.length;Y++){const Ee=$.charCodeAt(Y);Ee<128?K++:Ee<2048?K+=2:Ee>=55296&&Ee<=56319?(K+=4,Y++):K+=3}return K};function Wt($,K=1e3,Y=2){const Ee=K*Math.pow(Y,$),q=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+q)}function ji($){return $&&$._delegate?$._delegate:$}},7590:(Je,he,k)=>{"use strict";var l=k(5e3);let z=null;function F(){return z}const re=new l.OlP("DocumentToken");let ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function se(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const j=new l.OlP("Location Initialized");let G=(()=>{class n extends ee{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){ne()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){ne()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ue(){return new G((0,l.LFG)(re))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Ce(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Re(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(n){const e=(0,l.LFG)(re).location;return new Be((0,l.LFG)(ee),e&&e.origin||"")}()},providedIn:"root"}),n})();const Te=new l.OlP("appBaseHref");let Be=(()=>{class n extends ye{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ce(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+je(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+je(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+je(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ee),l.LFG(Te,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n extends ye{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ce(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+je(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+je(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ee),l.LFG(Te,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Re(fe(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+je(i))}normalize(t){return n.stripTrailingSlash(function ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,fe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=je,n.joinWithSlash=Ce,n.stripTrailingSlash=Re,n.\u0275fac=function(t){return new(t||n)(l.LFG(ye),l.LFG(ee))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function we(){return new Oe((0,l.LFG)(ye),(0,l.LFG)(ee))}()},providedIn:"root"}),n})();function fe(n){return n.replace(/\/index.html$/,"")}function Ea(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}class so{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cn=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new so(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const h=i.get(s);i.move(h,c),Lo(h,r)}});for(let r=0,s=i.length;r<s;r++){const h=i.get(r).context;h.index=r,h.count=s,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Lo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Lo(n,e){n.context.$implicit=e.item}let Tn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new pn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class pn{constructor(){this.$implicit=null,this.ngIf=null}}function gu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let _u=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[l.TTD]}),n})(),Xi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Uo="browser";function Ia(n){return"server"===n}let Sc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Sa((0,l.LFG)(re),window)}),n})();class Sa{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ws(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ac(this.window.history)||Ac(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ac(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cn{}class Vo extends class Cl extends class te{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){z||(z=n)}(new Vo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Tl(){return sn=sn||document.querySelector("base"),sn?sn.getAttribute("href"):null}();return null==t?null:function uo(n){vu=vu||document.createElement("a"),vu.setAttribute("href",n);const e=vu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){sn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ea(document.cookie,e)}}let vu,sn=null;const Si=new l.OlP("TRANSITION_ID"),xn=[{provide:l.ip1,useFactory:function Nc(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=F(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Si,re,l.zs3],multi:!0}];class Es{static init(){(0,l.VLi)(new Es)}addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const h=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ai=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const jo=new l.OlP("EventManagerPlugins");let Ls=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Dl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=F().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Qr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Cs=(()=>{class n extends Qr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Aa),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Aa))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Aa(n){F().remove(n)}const ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Na=/%COMP%/g;function De(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?De(n,r,t):(r=r.replace(Na,n),t.push(r))}return t}function Ut(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ma(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Al(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new Rc(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=De(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ls),l.LFG(Cs),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Ma{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ft[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=ft[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ft[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ut(i)):this.eventManager.addEventListener(e,t,Ut(i))}}class Al extends Ma{constructor(e,t,i,r){super(e),this.component=i;const s=De(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function xc(n){return"_ngcontent-%COMP%".replace(Na,n)}(r+"-"+i.id),this.hostAttr=function Oc(n){return"_nghost-%COMP%".replace(Na,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Rc extends Ma{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=De(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const h=document.createElement("style");h.textContent=s[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let vm=(()=>{class n extends Dl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Eu=["alt","control","meta","shift"],Cu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ml=(()=>{class n extends Dl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(Eu.forEach(p=>{const y=i.indexOf(p);y>-1&&(i.splice(y,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const h={};return h.domEventName=r,h.fullKey=c,h}static getEventFullKey(t){let i="",r=function co(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Wn.hasOwnProperty(e)&&(e=Wn[e]))}return Cu[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Eu.forEach(s=>{s!=r&&Bs[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Du=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Uo},{provide:l.g9A,useValue:function Xr(){Vo.makeCurrent(),Es.init()},multi:!0},{provide:re,useFactory:function Tu(){return(0,l.RDi)(document),document},deps:[]}]),xl=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Pc(){return new l.qLn},deps:[]},{provide:jo,useClass:vm,multi:!0,deps:[re,l.R0b,l.Lbi]},{provide:jo,useClass:Ml,multi:!0,deps:[re]},{provide:Dn,useClass:Dn,deps:[Ls,Cs,l.AFp]},{provide:l.FYo,useExisting:Dn},{provide:Qr,useExisting:Cs},{provide:Cs,useClass:Cs,deps:[re]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Ls,useClass:Ls,deps:[jo,l.R0b]},{provide:cn,useClass:Ai,deps:[]}];let xa=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Si,useExisting:l.AFp},xn]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:xl,imports:[Xi,l.hGG]}),n})();"undefined"!=typeof window&&window;var qn=k(7579),Cm=k(6063);class Ni extends qn.x{constructor(e=1/0,t=1/0,i=Cm.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let h=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)h=p;h&&i.splice(0,h+1)}}}function Is(){return window}function Nu(){return Is().YT}function Vr(){return Nu().Player}const Wo={height:270,width:367};let Mu=(()=>{class n{constructor(t){this.zone=t,this.api=new Ni(1),this.createApi()}loadPlayerApi(t){const i=Is().document;if(!n.ytApiLoaded){n.ytApiLoaded=!0;const r=i.createElement("script");r.type="text/javascript",r.src=`${t.protocol}://www.youtube.com/iframe_api`,i.body.appendChild(r)}}setupPlayer(t,i,r,s="",c){this.api.subscribe(()=>{Vr&&this.createPlayer(t,i,r,s,c)})}play(t){t.playVideo()}pause(t){t.pauseVideo()}playVideo(t,i){i.loadVideoById(t.id.videoId?t.id.videoId:t.id),this.play(i)}isPlaying(t){const i=t&&t.getPlayerState,r=i?t.getPlayerState():{};return!!i&&r!==Nu().PlayerState.ENDED&&r!==Nu().PlayerState.PAUSED}createPlayer(t,i,r,s="",c={}){const h={height:r.height||Wo.height,width:r.width||Wo.width};return new(Vr())(t,Object.assign(Object.assign({},h),{events:{onReady:y=>{this.zone.run(()=>i.ready&&i.ready.next(y.target))},onStateChange:y=>{this.zone.run(()=>i.change&&i.change.next(y))}},playerVars:c,videoId:s}))}toggleFullScreen(t,i){let{height:r,width:s}=Wo;i||(r=window.innerHeight,s=window.innerWidth),t.setSize(s,r)}generateUniqueId(){return Math.random().toString(35).substr(2,7)}createApi(){Is().onYouTubeIframeAPIReady=()=>{Is()&&(Is().onYouTubeIframeAPIReadyCalled=!0,this.api.next())},Is().onYouTubeIframeAPIReadyCalled&&this.api.next()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.ytApiLoaded=!1,n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(l.R0b))},token:n,providedIn:"root"}),n})(),es=(()=>{class n{constructor(t,i,r){this.playerService=t,this.elementRef=i,this.renderer=r,this.videoId="",this.height=Wo.height,this.width=Wo.width,this.protocol=this.getProtocol(),this.playerVars={},this.ready=new l.vpe,this.change=new l.vpe}ngAfterContentInit(){const t=this.playerService.generateUniqueId(),i={height:this.height,width:this.width},r=this.renderer.selectRootElement("#yt-player-ngx-component");this.renderer.setAttribute(r,"id",t),this.playerService.loadPlayerApi({protocol:this.protocol}),this.playerService.setupPlayer(t,{change:this.change,ready:this.ready},i,this.videoId,this.playerVars)}getProtocol(){return window&&window.location?window.location.protocol.replace(":",""):"http"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Mu),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["youtube-player"]],inputs:{videoId:"videoId",height:"height",width:"width",protocol:"protocol",playerVars:"playerVars"},outputs:{ready:"ready",change:"change"},decls:1,vars:0,consts:[["id","yt-player-ngx-component"]],template:function(t,i){1&t&&l._UZ(0,"div",0)},encapsulation:2,changeDetection:0}),n})(),Bc=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Mu]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Mu],imports:[[]]}),n})();var yt=k(8996),On=k(8306);const{isArray:qo}=Array,{getPrototypeOf:Qd,prototype:xu,keys:Xd}=Object;function eh(n){if(1===n.length){const e=n[0];if(qo(e))return{args:e,keys:null};if(function th(n){return n&&"object"==typeof n&&Qd(n)===xu}(e)){const t=Xd(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Mi=k(8421),mr=k(3269),dn=k(5403),et=k(4004);const{isArray:Wi}=Array;function zo(n){return(0,et.U)(e=>function nh(n,e){return Wi(e)?n(...e):n(e)}(n,e))}function Zo(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}let Ou=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),_r=(()=>{class n extends Ou{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const qi=new l.OlP("NgValueAccessor"),Tm={provide:qi,useExisting:(0,l.Gpc)(()=>Vs),multi:!0},Ru=new l.OlP("CompositionEventMode");let Vs=(()=>{class n extends Ou{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ko(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ru,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([Tm]),l.qOj]}),n})();function ts(n){return null==n||0===n.length}const zn=new l.OlP("NgValidators"),tr=new l.OlP("NgAsyncValidators"),js=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function Yo(n){return ts(n.value)?{required:!0}:null}function Pu(n){return ts(n.value)||js.test(n.value)?null:{email:!0}}function ih(n){return null}function op(n){return null!=n}function rh(n){const e=(0,l.QGY)(n)?(0,yt.D)(n):n;return(0,l.CqO)(e),e}function Vc(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ap(n,e){return e.map(t=>t(n))}function lp(n){return n.map(e=>function Bl(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ul(n){return null!=n?function Rn(n){if(!n)return null;const e=n.filter(op);return 0==e.length?null:function(t){return Vc(ap(t,e))}}(lp(n)):null}function up(n){return null!=n?function ho(n){if(!n)return null;const e=n.filter(op);return 0==e.length?null:function(t){return function kl(...n){const e=(0,mr.jO)(n),{args:t,keys:i}=eh(n),r=new On.y(s=>{const{length:c}=t;if(!c)return void s.complete();const h=new Array(c);let p=c,y=c;for(let C=0;C<c;C++){let D=!1;(0,Mi.Xf)(t[C]).subscribe(new dn.Q(s,M=>{D||(D=!0,y--),h[C]=M},()=>p--,void 0,()=>{(!p||!D)&&(y||s.next(i?Zo(i,h):h),s.complete())}))}});return e?r.pipe(zo(e)):r}(ap(t,e).map(rh)).pipe((0,et.U)(Vc))}}(lp(n)):null}function ku(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Jo(n){return n?Array.isArray(n)?n:[n]:[]}function Hs(n,e){return Array.isArray(n)?n.includes(e):n===e}function fo(n,e){const t=Jo(e);return Jo(n).forEach(r=>{Hs(t,r)||t.push(r)}),t}function Qo(n,e){return Jo(e).filter(t=>!Hs(n,t))}class po{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ul(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=up(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xi extends po{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ai extends po{get formDirective(){return null}get path(){return null}}class jc{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let Vl=(()=>{class n extends jc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xi,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})(),Xo=(()=>{class n extends jc{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ai,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function R(n,e){Ie(n,e),e.valueAccessor.writeValue(n.value),function Ct(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qt(n,e)})}(n,e),function pt(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Bt(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qt(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ce(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Q(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ie(n,e){const t=function yr(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ku(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=function nr(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ku(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Q(e._rawValidators,r),Q(e._rawAsyncValidators,r)}function qt(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yo(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const $l="VALID",ta="INVALID",vo="PENDING",Wc="DISABLED";function uh(n){return(Wl(n)?n.validators:n)||null}function Am(n){return Array.isArray(n)?Ul(n):n||null}function cp(n,e){return(Wl(e)?e.asyncValidators:n)||null}function Nm(n){return Array.isArray(n)?up(n):n||null}function Wl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Lu=n=>n instanceof zl;function ql(n){return(n=>n instanceof qc)(n)?n.value:n.getRawValue()}function xm(n,e){const t=Lu(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")}function Om(n,e){Lu(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})}class Rm{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Am(this._rawValidators),this._composedAsyncValidatorFn=Nm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===$l}get invalid(){return this.status===ta}get pending(){return this.status==vo}get disabled(){return this.status===Wc}get enabled(){return this.status!==Wc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Am(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Nm(e)}addValidators(e){this.setValidators(fo(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(fo(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qo(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qo(e,this._rawAsyncValidators))}hasValidator(e){return Hs(this._rawValidators,e)}hasAsyncValidator(e){return Hs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=vo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$l,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$l||this.status===vo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wc:$l}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=vo,this._hasOwnPendingAsyncValidator=!0;const t=rh(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Sm(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=Lu(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof Pm)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Wc:this.errors?ta:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vo)?vo:this._anyControlsHaveStatus(ta)?ta:$l}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class qc extends Rm{constructor(e=null,t,i){super(uh(t),cp(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wl(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yo(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yo(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class zl extends Rm{constructor(e,t,i){super(uh(t),cp(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Om(this,e),Object.keys(e).forEach(i=>{xm(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=ql(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Pm extends Rm{constructor(e,t,i){super(uh(t),cp(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Om(this,e),e.forEach((i,r)=>{xm(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>ql(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const km={provide:ai,useExisting:(0,l.Gpc)(()=>zc)},Bu=(()=>Promise.resolve(null))();let zc=(()=>{class n extends ai{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new zl({},Ul(t),up(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Bu.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),R(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Bu.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Bu.then(()=>{const i=this._findContainer(t.path),r=new zl({});(function Oi(n,e){Ie(n,e)})(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Bu.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Bu.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Ss(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(zn,10),l.Y36(tr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([km]),l.qOj]}),n})();const Rv={provide:xi,useExisting:(0,l.Gpc)(()=>Lm)},hp=(()=>Promise.resolve(null))();let Lm=(()=>{class n extends xi{constructor(t,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new qc,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function ss(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Vs?t=s:function Gl(n){return Object.getPrototypeOf(n.constructor)===_r}(s)?i=s:r=s}),r||i||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function rs(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){R(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hp.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;hp.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function S(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ai,9),l.Y36(zn,10),l.Y36(tr,10),l.Y36(qi,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Rv]),l.qOj,l.TTD]}),n})(),Bm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),pp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const mp={provide:qi,useExisting:(0,l.Gpc)(()=>Zc),multi:!0};function Bv(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Zc=(()=>{class n extends _r{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=Bv(this._getOptionId(t),t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){const i=function UE(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i):t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([mp]),l.qOj]}),n})(),Hm=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Bv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Zc,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Gm={provide:qi,useExisting:(0,l.Gpc)(()=>$a),multi:!0};function ph(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let $a=(()=>{class n extends _r{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let i;if(this.value=t,Array.isArray(t)){const r=t.map(s=>this._getOptionId(s));i=(s,c)=>{s._setSelected(r.indexOf(c.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const c=s;for(let h=0;h<c.length;h++){const y=this._getOptionValue(c[h].value);r.push(y)}}else{const c=i.options;for(let h=0;h<c.length;h++){const p=c[h];if(p.selected){const y=this._getOptionValue(p.value);r.push(y)}}}this.value=r,t(r)}}_registerOption(t){const i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){const i=function Uv(n){return n.split(":")[0]}(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,i){1&t&&l.NdJ("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Gm]),l.qOj]}),n})(),gh=(()=>{class n{constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ph(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ph(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36($a,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Kl=(()=>{class n{constructor(){this._validator=ih}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ih,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const Gv={provide:zn,useExisting:(0,l.Gpc)(()=>yh),multi:!0};let yh=(()=>{class n extends Kl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function jv(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Yo}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Gv]),l.qOj]}),n})();const VE={provide:zn,useExisting:(0,l.Gpc)(()=>yp),multi:!0};let yp=(()=>{class n extends Kl{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=t=>""===t||!0===t||"true"===t,this.createValidator=t=>Pu}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l._Bn([VE]),l.qOj]}),n})(),Cp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[pp]]}),n})(),Tp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Cp]}),n})();var ni=k(2011);function ut(...n){const e=(0,mr.yG)(n);return(0,yt.D)(n,e)}var Jc=k(6451),Qc=k(5363),Ri=k(4482);function hn(n,e){return(0,Ri.e)((t,i)=>{let r=null,s=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe(new dn.Q(i,p=>{null==r||r.unsubscribe();let y=0;const C=s++;(0,Mi.Xf)(n(p,C)).subscribe(r=new dn.Q(i,D=>i.next(e?e(p,D,C,y++):D),()=>{r=null,h()}))},()=>{c=!0,h()}))})}var Dp=k(3099);function Wm(n,e,t){var i,r;let s,c=!1;return n&&"object"==typeof n?(s=null!==(i=n.bufferSize)&&void 0!==i?i:1/0,e=null!==(r=n.windowTime)&&void 0!==r?r:1/0,c=!!n.refCount,t=n.scheduler):s=null!=n?n:1/0,(0,Dp.B)({connector:()=>new Ni(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}const bh=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Pi(n,e){return(0,Ri.e)((t,i)=>{let r=0;t.subscribe(new dn.Q(i,s=>n.call(e,s,r++)&&i.next(s)))})}var gn=k(5698);function wh(n){return(0,Ri.e)((e,t)=>{let i=!1;e.subscribe(new dn.Q(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Eh(n=qm){return(0,Ri.e)((e,t)=>{let i=!1;e.subscribe(new dn.Q(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function qm(){return new bh}var jr=k(4671);function Ws(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Pi((r,s)=>n(r,s,i)):jr.y,(0,gn.q)(1),t?wh(e):Eh(()=>new bh))}var qs=k(576);function Ip(n,e){return(0,qs.m)(e)?hn(()=>n,e):hn(()=>n)}var Sp=k(9468),Zt=k(5813);k(5867);var _e=k(5861),wr=k(9681),ki=k(4859),L=k(2090),os=k(1877);const Th=new Map,Dh={activated:!1,tokenObservers:[]},Zm={initialized:!1,enabled:!1};function ui(n){return Th.get(n)||Dh}function Ms(n,e){Th.set(n,e)}function Ih(){return Zm}class rS{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,_e.Z)(function*(){t.stop();try{t.pending=new L.BH,yield function sS(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new L.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hr=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Jv(n){if(!ui(n).activated)throw Hr.create("use-before-activation",{appName:n.name})}function Xv(n,e){return Km.apply(this,arguments)}function Km(){return(Km=(0,_e.Z)(function*({url:n,body:e},t){var i,r;const s={"Content-Type":"application/json"},c=t.getImmediate({optional:!0});if(c){const O=yield c.getHeartbeatsHeader();O&&(s["X-Firebase-Client"]=O)}const h={method:"POST",body:JSON.stringify(e),headers:s};let p,y;try{p=yield fetch(n,h)}catch(O){throw Hr.create("fetch-network-error",{originalErrorMessage:null===(i=O)||void 0===i?void 0:i.message})}if(200!==p.status)throw Hr.create("fetch-status-error",{httpStatus:p.status});try{y=yield p.json()}catch(O){throw Hr.create("fetch-parse-error",{originalErrorMessage:null===(r=O)||void 0===r?void 0:r.message})}const C=y.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw Hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const D=1e3*Number(C[1]),M=Date.now();return{token:y.token,expireTimeMillis:M+D,issuedAtTimeMillis:M}})).apply(this,arguments)}function e0(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Gu="firebase-app-check-store";let Sh=null;function n0(){return Sh||(Sh=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;e(Hr.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Gu,{keyPath:"compositeKey"})}}catch(i){e(Hr.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),Sh)}function s0(){return(s0=(0,_e.Z)(function*(n,e){const i=(yield n0()).transaction(Gu,"readwrite"),s=i.objectStore(Gu).put({compositeKey:n,value:e});return new Promise((c,h)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var y;h(Hr.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Jm=new os.Yd("@firebase/app-check");function u0(n,e){return(0,L.hl)()?function Ap(n,e){return function KE(n,e){return s0.apply(this,arguments)}(function a0(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Jm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function bo(){return Ih().enabled}function JE(){return Qm.apply(this,arguments)}function Qm(){return(Qm=(0,_e.Z)(function*(){const n=Ih();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const uS={error:"UNKNOWN_ERROR"};function cS(n){return L.US.encodeString(JSON.stringify(n),!1)}function Xm(n){return e_.apply(this,arguments)}function e_(){return(e_=(0,_e.Z)(function*(n,e=!1){const t=n.app;Jv(t);const i=ui(t);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&Mp(p)&&(r=p)}if(!e&&r&&Mp(r))return{token:r.token};let h,c=!1;if(bo()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Xv(e0(t,yield JE()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0);const p=yield i.exchangeTokenPromise;return yield u0(t,p),Ms(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Jm.warn(p.message):Jm.error(p),s=p}return r?(h={token:r.token},Ms(t,Object.assign(Object.assign({},i),{token:r})),yield u0(t,r)):h=XE(s),c&&f0(t,h),h})).apply(this,arguments)}function h0(n,e){const t=ui(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ms(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function QE(n){const{app:e}=n,t=ui(e);let i=t.tokenRefresher;i||(i=function Ft(n){const{app:e}=n;return new rS((0,_e.Z)(function*(){let i;if(i=ui(e).token?yield Xm(n,!0):yield Xm(n),i.error)throw i.error}),()=>!0,()=>{const t=ui(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ms(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function f0(n,e){const t=ui(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function Mp(n){return n.expireTimeMillis-Date.now()>0}function XE(n){return{token:cS(uS),error:n}}class t_{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ui(this.app);for(const t of e)h0(this.app,t.next);return Promise.resolve()}}const lC="app-check-internal";!function w0(){(0,wr._registerComponent)(new ki.wA("app-check",n=>function ia(n,e){return new t_(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(lC).initialize()})),(0,wr._registerComponent)(new ki.wA(lC,n=>function eC(n){return{getToken:e=>Xm(n,e),addTokenListener:e=>function d0(n,e,t,i){const{app:r}=n,s=ui(r),c={next:t,error:i,type:e};if(Ms(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&Mp(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),QE(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>QE(n))}(n,"INTERNAL",e),removeTokenListener:e=>h0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,wr.registerVersion)("@firebase/app-check","0.5.9")}();class r_{constructor(){return(0,Zt.vb)("app-check")}}"undefined"!=typeof window&&window;var ra=k(127);const E0=new l.OlP("angularfire2.auth.use-emulator"),xp=new l.OlP("angularfire2.auth.settings"),C0=new l.OlP("angularfire2.auth.tenant-id"),s_=new l.OlP("angularfire2.auth.langugage-code"),T0=new l.OlP("angularfire2.auth.use-device-language"),D0=new l.OlP("angularfire.auth.persistence"),nd=(n,e,t,i,r,s,c,h)=>(0,ni.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[y,C]of Object.entries(c))p.settings[y]=C;return h&&p.setPersistence(h),p},[t,i,r,s,c,h]);let Jl=(()=>{class n{constructor(t,i,r,s,c,h,p,y,C,D,M,O){const B=new qn.x,Z=ut(void 0).pipe((0,Qc.Q)(c.outsideAngular),hn(()=>s.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9916)))),(0,et.U)(()=>(0,ni.on)(t,s,i)),(0,et.U)(ue=>nd(ue,s,h,y,C,D,p,M)),Wm({bufferSize:1,refCount:!1}));if(Ia(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ut(null);else{Z.pipe(Ws()).subscribe();const xe=Z.pipe(hn($e=>$e.getRedirectResult().then(mt=>mt,()=>null)),Zt.iC,Wm({bufferSize:1,refCount:!1})),ke=Z.pipe(hn($e=>new On.y(mt=>({unsubscribe:s.runOutsideAngular(()=>$e.onAuthStateChanged(Dt=>mt.next(Dt),Dt=>mt.error(Dt),()=>mt.complete()))})))),ze=Z.pipe(hn($e=>new On.y(mt=>({unsubscribe:s.runOutsideAngular(()=>$e.onIdTokenChanged(Dt=>mt.next(Dt),Dt=>mt.error(Dt),()=>mt.complete()))}))));this.authState=xe.pipe(Ip(ke),(0,Sp.R)(c.outsideAngular),(0,Qc.Q)(c.insideAngular)),this.user=xe.pipe(Ip(ze),(0,Sp.R)(c.outsideAngular),(0,Qc.Q)(c.insideAngular)),this.idToken=this.user.pipe(hn($e=>$e?(0,yt.D)($e.getIdToken()):ut(null))),this.idTokenResult=this.user.pipe(hn($e=>$e?(0,yt.D)($e.getIdTokenResult()):ut(null))),this.credential=(0,Jc.T)(xe,B,this.authState.pipe(Pi($e=>!$e))).pipe((0,et.U)($e=>(null==$e?void 0:$e.user)?$e:null),(0,Sp.R)(c.outsideAngular),(0,Qc.Q)(c.insideAngular))}return(0,ni.pX)(this,Z,s,{spy:{apply:(ue,xe,ke)=>{(ue.startsWith("signIn")||ue.startsWith("createUser"))&&ke.then(ze=>B.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni.Dh),l.LFG(ni.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Zt.HU),l.LFG(E0,8),l.LFG(xp,8),l.LFG(C0,8),l.LFG(s_,8),l.LFG(T0,8),l.LFG(D0,8),l.LFG(r_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),I0=(()=>{class n{constructor(){ra.Z.registerVersion("angularfire",Zt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Jl]}),n})();var qa=k(4986),$u=k(3942);const gC="firebasestorage.googleapis.com",S0="storageBucket";class Zn extends L.ZR{constructor(e,t){super(o_(e),`Firebase Storage: ${t} (${o_(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Zn.prototype)}_codeEquals(e){return o_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function o_(n){return"storage/"+n}function Nh(){return new Zn("unknown","An unknown error occurred, please check the error payload for server response.")}function N0(){return new Zn("canceled","User canceled the upload/download.")}function bC(){return new Zn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Rp(n){return new Zn("invalid-argument",n)}function M0(){return new Zn("app-deleted","The Firebase app was deleted.")}function TS(n){return new Zn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pp(n,e){return new Zn("invalid-format","String does not match format '"+n+"': "+e)}function id(n){throw new Zn("internal-error","Internal error: "+n)}class Er{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Er.makeFromUrl(e,t)}catch(r){return new Er(e,"")}if(""===i.path)return i;throw function ES(n){return new Zn("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function y($e){$e.path_=decodeURIComponent($e.path)}const D=t.replace(/[.]/g,"\\."),ze=[{regex:h,indices:{bucket:1,path:3},postModify:function s($e){"/"===$e.path.charAt($e.path.length-1)&&($e.path_=$e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===gC?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let $e=0;$e<ze.length;$e++){const mt=ze[$e],Dt=mt.regex.exec(e);if(Dt){let An=Dt[mt.indices.path];An||(An=""),i=new Er(Dt[mt.indices.bucket],An),mt.postModify(i);break}}if(null==i)throw function wS(n){return new Zn("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class DS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function a_(n){return"string"==typeof n||n instanceof String}function CC(n){return l_()&&n instanceof Blob}function l_(){return"undefined"!=typeof Blob}function u_(n,e,t,i){if(i<e)throw Rp(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw Rp(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ql(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function sa(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var za=(()=>{return(n=za||(za={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",za;var n})();class NS{constructor(e,t,i,r,s,c,h,p,y,C,D){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=C,this.connectionFactory_=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,O)=>{this.resolve_=M,this.reject_=O,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function wC(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==h){const p=Nh();p.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,p):p)}else c(r.canceled?this.appDelete_?M0():N0():function bS(){return new Zn("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new c_(!1,null,!0)):this.backoffId_=function IS(n,e,t){let i=1,r=null,s=null,c=!1,h=0;function p(){return 2===h}let y=!1;function C(...ue){y||(y=!0,e.apply(null,ue))}function D(ue){r=setTimeout(()=>{r=null,n(O,p())},ue)}function M(){s&&clearTimeout(s)}function O(ue,...xe){if(y)return void M();if(ue)return M(),void C.call(null,ue,...xe);if(p()||c)return M(),void C.call(null,ue,...xe);let ze;i<64&&(i*=2),1===h?(h=2,ze=0):ze=1e3*(i+Math.random()),D(ze)}let B=!1;function Z(ue){B||(B=!0,M(),!y&&(null!==r?(ue||(h=2),clearTimeout(r),D(0)):ue||(h=1)))}return D(0),s=setTimeout(()=>{c=!0,Z(!0)},t),Z}((i,r)=>{if(r)return void i(!1,new c_(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const h=s.getErrorCode()===za.NO_ERROR,p=s.getStatus();if(!h||this.isRetryStatusCode_(p)){const C=s.getErrorCode()===za.ABORT;return void i(!1,new c_(!1,null,C))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new c_(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function SS(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class c_{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function RS(...n){const e=function x0(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(l_())return new Blob(n);throw new Zn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const as={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class O0{constructor(e,t){this.data=e,this.contentType=t||null}}function kp(n,e){switch(n){case as.RAW:return new O0(h_(e));case as.BASE64:case as.BASE64URL:return new O0(IC(n,e));case as.DATA_URL:return new O0(function R0(n){const e=new SC(n);return e.base64?IC(as.BASE64,e.rest):function DC(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Pp(as.DATA_URL,"Malformed data URL.")}return h_(e)}(e.rest)}(e),function FR(n){return new SC(n).contentType}(e))}throw Nh()}function h_(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function IC(n,e){switch(n){case as.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Pp(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case as.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Pp(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function d_(n){return atob(n)}(e)}catch(r){throw Pp(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class SC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Pp(as.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function kS(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class oa{constructor(e,t){let i=0,r="";CC(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(CC(this.data_)){const r=function PS(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new oa(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new oa(i,!0)}}static getBlob(...e){if(l_()){const t=e.map(i=>i instanceof oa?i.data_:i);return new oa(RS.apply(null,t))}{const t=e.map(c=>a_(c)?kp(as.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[s++]=c[h]}),new oa(r,!0)}}uploadData(){return this.data_}}function f_(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function EC(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function P0(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Xl(n,e){return e}class rr{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||Xl}}let p_=null;function g_(){if(p_)return p_;const n=[];n.push(new rr("bucket")),n.push(new rr("generation")),n.push(new rr("metageneration")),n.push(new rr("name","fullPath",!0));const t=new rr("name");t.xform=function e(s,c){return function FS(n){return!a_(n)||n.length<2?n:P0(n)}(c)},n.push(t);const r=new rr("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new rr("timeCreated")),n.push(new rr("updated")),n.push(new rr("md5Hash",null,!0)),n.push(new rr("cacheControl",null,!0)),n.push(new rr("contentDisposition",null,!0)),n.push(new rr("contentEncoding",null,!0)),n.push(new rr("contentLanguage",null,!0)),n.push(new rr("contentType",null,!0)),n.push(new rr("metadata","customMetadata",!0)),p_=n,p_}function m_(n,e,t){const i=f_(e);return null===i?null:function MC(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function k0(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new Er(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function F0(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const __="prefixes";class Za{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function wo(n){if(!n)throw Nh()}function y_(n,e){return function t(i,r){const s=m_(n,r,e);return wo(null!==s),s}}function aa(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function yC(){return new Zn("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function RR(){return new Zn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function _C(n){return new Zn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function vC(n){return new Zn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Mh(n){const e=aa(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function vS(n){return new Zn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function PC(n,e,t){const r=Ql(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Za(r,"GET",y_(n,t),c);return h.errorHandler=Mh(e),h}function BS(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const h=Ql(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,C=new Za(h,"GET",function LS(n,e){return function t(i,r){const s=function OC(n,e,t){const i=f_(t);return null===i?null:function xC(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[__])for(const r of t[__]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new Er(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new Er(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return wo(null!==s),s}}(n,e.bucket),y);return C.urlParams=s,C.errorHandler=aa(e),C}function Eo(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function HS(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class Lp{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function b_(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){wo(!1)}return wo(!!t&&-1!==(e||["active"]).indexOf(t)),t}const $S={STATE_CHANGED:"state_changed"},ls={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function w_(n){switch(n){case"running":case"pausing":case"canceling":return ls.RUNNING;case"paused":return ls.PAUSED;case"success":return ls.SUCCESS;case"canceled":return ls.CANCELED;default:return ls.ERROR}}class LR{constructor(e,t,i){if(function AS(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function sd(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class BR extends class WS{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw id("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw id("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw id("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw id("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw id("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Ka(){return new BR}class zS{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=g_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function kC(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=Eo(e,i,r),h={name:c.fullPath},p=Ql(s,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=F0(c,t),B=new Za(p,"POST",function O(Z){let ue;b_(Z);try{ue=Z.getResponseHeader("X-Goog-Upload-URL")}catch(xe){wo(!1)}return wo(a_(ue)),ue},n.maxUploadRetryTime);return B.urlParams=h,B.headers=C,B.body=D,B.errorHandler=aa(e),B}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ka,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function FC(n,e,t,i){const p=new Za(t,"POST",function s(y){const C=b_(y,["active","final"]);let D=null;try{D=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch(O){wo(!1)}D||wo(!1);const M=Number(D);return wo(!isNaN(M)),new Lp(M,i.size(),"final"===C)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=aa(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,Ka,t,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Lp(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function GS(n,e,t,i,r,s,c,h){const p=new Lp(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function CS(){return new Zn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let C=y;r>0&&(C=Math.min(C,r));const D=p.current,B={"X-Goog-Upload-Command":C===y?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},Z=i.slice(D,D+C);if(null===Z)throw bC();const ze=new Za(t,"POST",function ue($e,mt){const Dt=b_($e,["active","final"]),Jt=p.current+C,An=i.size();let va;return va="final"===Dt?y_(e,s)($e,mt):null,new Lp(Jt,An,"final"===Dt,va)},e.maxUploadRetryTime);return ze.headers=B,ze.body=Z.uploadData(),ze.progressCallback=h||null,ze.errorHandler=aa(n),ze}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const h=this._ref.storage._makeRequest(c,Ka,r,s);this._request=h,h.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=PC(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,Ka,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function v_(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function h(){let ze="";for(let $e=0;$e<2;$e++)ze+=Math.random().toString().slice(2);return ze}();c["Content-Type"]="multipart/related; boundary="+p;const y=Eo(e,i,r),C=F0(y,t),O=oa.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===O)throw bC();const B={name:y.fullPath},Z=Ql(s,n.host,n._protocol),xe=n.maxUploadRetryTime,ke=new Za(Z,"POST",y_(n,t),xe);return ke.urlParams=B,ke.headers=c,ke.body=O.uploadData(),ke.errorHandler=aa(e),ke}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,Ka,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=N0(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=w_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new LR(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(w_(this._state)){case ls.SUCCESS:sd(this._resolve.bind(null,this.snapshot))();break;case ls.CANCELED:case ls.ERROR:sd(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(w_(this._state)){case ls.RUNNING:case ls.PAUSED:e.next&&sd(e.next.bind(e,this.snapshot))();break;case ls.SUCCESS:e.complete&&sd(e.complete.bind(e))();break;default:e.error&&sd(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Cr{constructor(e,t){this._service=e,this._location=t instanceof Er?t:Er.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Cr(e,t)}get root(){const e=new Er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return P0(this._location.path)}get storage(){return this._service}get parent(){const e=function AC(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Er(this._location.bucket,e);return new Cr(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw TS(e)}}function KS(n,e,t){return E_.apply(this,arguments)}function E_(){return(E_=(0,_e.Z)(function*(n,e,t){const r=yield C_(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield KS(n,e,r.nextPageToken))})).apply(this,arguments)}function C_(n,e){null!=e&&"number"==typeof e.maxResults&&u_("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=BS(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,Ka)}function JS(n){n._throwIfRoot("getDownloadURL");const e=function US(n,e,t){const r=Ql(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Za(r,"GET",function RC(n,e){return function t(i,r){const s=m_(n,r,e);return wo(null!==s),function Fp(n,e,t,i){const r=f_(e);if(null===r||!a_(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(y=>{const D=n.fullPath;return Ql("/b/"+c(n.bucket)+"/o/"+c(D),t,i)+sa({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=Mh(e),h}(n.storage,n._location,g_());return n.storage.makeRequestWithTokens(e,Ka).then(t=>{if(null===t)throw function PR(){return new Zn("no-download-url","The given file does not have any download URLs.")}();return t})}function GC(n,e){const t=function NC(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Er(n._location.bucket,t);return new Cr(n.storage,i)}function $C(n,e){if(n instanceof ad){const t=n;if(null==t._bucket)throw function zs(){return new Zn("no-default-bucket","No default bucket found. Did you set the '"+S0+"' property when initializing the app?")}();const i=new Cr(t,t._bucket);return null!=e?$C(i,e):i}return void 0!==e?GC(n,e):n}function T_(n,e){if(e&&function XS(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof ad)return function eA(n,e){return new Cr(n,e)}(n,e);throw Rp("To use ref(service, url), the first argument must be a Storage instance.")}return $C(n,e)}function od(n,e){const t=null==e?void 0:e[S0];return null==t?null:Er.makeFromBucketSpec(t,n)}class ad{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=gC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Er.makeFromBucketSpec(r,this._host):od(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Er.makeFromBucketSpec(this._url,e):od(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){u_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){u_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,_e.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,_e.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cr(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new DS(M0());{const s=function OS(n,e,t,i,r,s){const c=sa(n.urlParams),h=n.url+c,p=Object.assign({},n.headers);return function MS(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function kR(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function TC(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(p,s),function xS(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new NS(h,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,_e.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const WC="@firebase/storage";function ud(n,e){return T_(n=(0,L.m9)(n),e)}function zC(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new ad(t,i,r,e,wr.SDK_VERSION)}!function ZC(){(0,wr._registerComponent)(new ki.wA("storage",zC,"PUBLIC").setMultipleInstances(!0)),(0,wr.registerVersion)(WC,"0.9.7",""),(0,wr.registerVersion)(WC,"0.9.7","esm2017")}();class jp{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class H0{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new jp(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new jp(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new jp(c,this,this._ref)):{next:t.next?c=>t.next(new jp(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class G0{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ya(e,this._service))}get items(){return this._delegate.items.map(e=>new Ya(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ya{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Ph(n,e){return GC(n,e)}(this._delegate,e);return new Ya(t,this.storage)}get root(){return new Ya(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ya(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new H0(function ld(n,e,t){return function jC(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new zS(n,new oa(e),t)}(n=(0,L.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=as.RAW,i){this._throwIfRoot("putString");const r=kp(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new H0(new zS(this._delegate,new oa(r.data,!0),s),this)}listAll(){return function xh(n){return function ZS(n){const e={prefixes:[],items:[]};return KS(n,e).then(()=>e)}(n=(0,L.m9)(n))}(this._delegate).then(e=>new G0(e,this.storage))}list(e){return function j0(n,e){return C_(n=(0,L.m9)(n),e)}(this._delegate,e||void 0).then(t=>new G0(t,this.storage))}getMetadata(){return function S_(n){return function YS(n){n._throwIfRoot("getMetadata");const e=PC(n.storage,n._location,g_());return n.storage.makeRequestWithTokens(e,Ka)}(n=(0,L.m9)(n))}(this._delegate)}updateMetadata(e){return function Co(n,e){return function V0(n,e){n._throwIfRoot("updateMetadata");const t=function VS(n,e,t,i){const s=Ql(e.fullServerUrl(),n.host,n._protocol),h=F0(t,i),y=n.maxOperationRetryTime,C=new Za(s,"PATCH",y_(n,i),y);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=h,C.errorHandler=Mh(e),C}(n.storage,n._location,e,g_());return n.storage.makeRequestWithTokens(t,Ka)}(n=(0,L.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Oh(n){return JS(n=(0,L.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Rh(n){return function QS(n){n._throwIfRoot("deleteObject");const e=function jS(n,e){const i=Ql(e.fullServerUrl(),n.host,n._protocol),h=new Za(i,"DELETE",function c(p,y){},n.maxOperationRetryTime);return h.successCodes=[200,204],h.errorHandler=Mh(e),h}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ka)}(n=(0,L.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw TS(e)}}class $0{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(W0(e))throw Rp("ref() expected a child path but got a URL, use refFromURL instead.");return new Ya(ud(this._delegate,e),this)}refFromURL(e){if(!W0(e))throw Rp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Er.makeFromUrl(e,this._delegate.host)}catch(t){throw Rp("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ya(ud(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function kh(n,e,t,i={}){!function tA(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,L.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function W0(n){return/^[A-Za-z]+:\/\//.test(n)}function iA(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new $0(t,i)}function XC(n){const e=function QC(n){return new On.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(function Op(n,e=qa.z){return(0,Ri.e)((t,i)=>{let r=null,s=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function p(){const y=c+n,C=e.now();if(C<y)return r=this.schedule(void 0,y-C),void i.add(r);h()}t.subscribe(new dn.Q(i,y=>{s=y,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,et.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function A_(n){return{getDownloadURL:()=>ut(void 0).pipe(Zt.fc,hn(()=>n.getDownloadURL()),Zt.iC),getMetadata:()=>ut(void 0).pipe(Zt.fc,hn(()=>n.getMetadata()),Zt.iC),delete:()=>(0,yt.D)(n.delete()),child:e=>A_(n.child(e)),updateMetadata:e=>(0,yt.D)(n.updateMetadata(e)),put:(e,t)=>XC(n.put(e,t)),putString:(e,t,i)=>XC(n.putString(e,t,i)),list:e=>(0,yt.D)(n.list(e)),listAll:()=>(0,yt.D)(n.listAll())}}!function JC(n){const e={TaskState:ls,TaskEvent:$S,StringFormat:as,Storage:$0,Reference:Ya};n.INTERNAL.registerComponent(new ki.wA("storage-compat",iA,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.15")}($u.Z);const eT=new l.OlP("angularfire2.storageBucket"),rA=new l.OlP("angularfire2.storage.maxUploadRetryTime"),tT=new l.OlP("angularfire2.storage.maxOperationRetryTime"),sA=new l.OlP("angularfire2.storage.use-emulator");let oA=(()=>{class n{constructor(t,i,r,s,c,h,p,y,C,D){const M=(0,ni.on)(t,c,i);this.storage=(0,ni.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const O=c.runOutsideAngular(()=>M.storage(r||void 0)),B=C;return B&&O.useEmulator(...B),p&&O.setMaxUploadRetryTime(p),y&&O.setMaxOperationRetryTime(y),O},[p,y])}ref(t){return A_(this.storage.ref(t))}refFromURL(t){return A_(this.storage.refFromURL(t))}upload(t,i,r){return A_(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni.Dh),l.LFG(ni.xv,8),l.LFG(eT,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Zt.HU),l.LFG(rA,8),l.LFG(tT,8),l.LFG(sA,8),l.LFG(r_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),aA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),q0=(()=>{class n{constructor(){ra.Z.registerVersion("angularfire",Zt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[oA],imports:[aA]}),n})();var Fh=k(8189);function N_(...n){return function lA(){return(0,Fh.J)(1)}()((0,yt.D)(n,(0,mr.yG)(n)))}function Lh(...n){const e=(0,mr.yG)(n);return(0,Ri.e)((t,i)=>{(e?N_(n,t,e):N_(n,t)).subscribe(i)})}function nT(){return(0,Ri.e)((n,e)=>{let t,i=!1;n.subscribe(new dn.Q(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}function uA(n,e,t,i,r){return(s,c)=>{let h=t,p=e,y=0;s.subscribe(new dn.Q(c,C=>{const D=y++;p=h?n(p,C,D):(h=!0,C),i&&c.next(p)},r&&(()=>{h&&c.next(p),c.complete()})))}}function Wu(n,e){return(0,Ri.e)(uA(n,e,arguments.length>=2,!0))}function M_(n,e=jr.y){return n=null!=n?n:cA,(0,Ri.e)((t,i)=>{let r,s=!0;t.subscribe(new dn.Q(i,c=>{const h=e(c);(s||!n(r,h))&&(s=!1,r=h,i.next(c))}))})}function cA(n,e){return n===e}k(9916);var tt,dA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ja={},x_=x_||{},Mt=dA||self;function O_(){}function R_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Gp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var z0="closure_uid_"+(1e9*Math.random()>>>0),fA=0;function pA(n,e,t){return n.call.apply(n.bind,arguments)}function iT(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Tr(n,e,t){return(Tr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pA:iT).apply(null,arguments)}function $p(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function sr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function Qa(){this.s=this.s,this.o=this.o}var Z0={};Qa.prototype.s=!1,Qa.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function hA(n){return Object.prototype.hasOwnProperty.call(n,z0)&&n[z0]||(n[z0]=++fA)}(this);delete Z0[n]}},Qa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},gA=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function K0(n){return Array.prototype.concat.apply([],arguments)}function qp(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Bh(n){return/^[\s\xa0]*$/.test(n)}var Dr,sT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function or(n,e){return-1!=n.indexOf(e)}function Uh(n,e){return n<e?-1:n>e?1:0}e:{var mA=Mt.navigator;if(mA){var oT=mA.userAgent;if(oT){Dr=oT;break e}}Dr=""}function zp(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function P_(n){const e={};for(const t in n)e[t]=n[t];return e}var Y0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J0(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Y0.length;s++)t=Y0[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Zp(n){return Zp[" "](n),n}Zp[" "]=O_;var Kp,n,lT=or(Dr,"Opera"),qu=or(Dr,"Trident")||or(Dr,"MSIE"),Q0=or(Dr,"Edge"),X0=Q0||qu,eb=or(Dr,"Gecko")&&!(or(Dr.toLowerCase(),"webkit")&&!or(Dr,"Edge"))&&!(or(Dr,"Trident")||or(Dr,"MSIE"))&&!or(Dr,"Edge"),uT=or(Dr.toLowerCase(),"webkit")&&!or(Dr,"Edge");function k_(){var n=Mt.document;return n?n.documentMode:void 0}e:{var tb="",F_=(n=Dr,eb?/rv:([^\);]+)(\)|;)/.exec(n):Q0?/Edge\/([\d\.]+)/.exec(n):qu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uT?/WebKit\/(\S+)/.exec(n):lT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(F_&&(tb=F_?F_[1]:""),qu){var L_=k_();if(null!=L_&&L_>parseFloat(tb)){Kp=String(L_);break e}}Kp=tb}var nb={};var cT=Mt.document&&qu&&(k_()||parseInt(Kp,10))||void 0,dT=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Mt.addEventListener("test",O_,e),Mt.removeEventListener("test",O_,e)}catch(t){}return n}();function Ir(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Vh(n,e){if(Ir.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eb){e:{try{Zp(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:hT[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vh.Z.h.call(this)}}Ir.prototype.h=function(){this.defaultPrevented=!0},sr(Vh,Ir);var hT={2:"touch",3:"pen",4:"mouse"};Vh.prototype.h=function(){Vh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var jh="closure_listenable_"+(1e6*Math.random()|0),HR=0;function _A(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++HR,this.ca=this.fa=!1}function V_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Yp(n){this.src=n,this.g={},this.h=0}function rb(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=rT(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(V_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function bi(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}Yp.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=bi(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new _A(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var j_="closure_lm_"+(1e6*Math.random()|0),sb={};function fT(n,e,t,i,r){if(i&&i.once)return ab(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fT(n,e[s],t,i,r);return null}return t=G_(t),n&&n[jh]?n.N(e,t,Gp(i)?!!i.capture:!!i,r):ob(n,e,t,!1,i,r)}function ob(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=Gp(r)?!!r.capture:!!r,h=H_(n);if(h||(n[j_]=h=new Yp(n)),(t=h.add(e,t,i,c,s)).proxy)return t;if(i=function yA(){var e=vA;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)dT||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(pT(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function ab(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ab(n,e[s],t,i,r);return null}return t=G_(t),n&&n[jh]?n.O(e,t,Gp(i)?!!i.capture:!!i,r):ob(n,e,t,!0,i,r)}function lb(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)lb(n,e[s],t,i,r);else i=Gp(i)?!!i.capture:!!i,t=G_(t),n&&n[jh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=bi(s=n.g[e],t,i,r))&&(V_(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=H_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=bi(e,t,i,r)),(t=-1<n?e[n]:null)&&zu(t))}function zu(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[jh])rb(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(pT(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=H_(e))?(rb(t,n),0==t.h&&(t.src=null,e[j_]=null)):V_(n)}}}function pT(n){return n in sb?sb[n]:sb[n]="on"+n}function vA(n,e){if(n.ca)n=!0;else{e=new Vh(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&zu(n),n=t.call(i,e)}return n}function H_(n){return(n=n[j_])instanceof Yp?n:null}var ub="__closure_events_fn_"+(1e9*Math.random()>>>0);function G_(n){return"function"==typeof n?n:(n[ub]||(n[ub]=function(e){return n.handleEvent(e)}),n[ub])}function Sr(){Qa.call(this),this.i=new Yp(this),this.P=this,this.I=null}function zi(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Ir(e,n);else if(e instanceof Ir)e.target=e.target||n;else{var r=e;J0(e=new Ir(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=Hh(c,i,!0,e)&&r}if(r=Hh(c=e.g=n,i,!0,e)&&r,r=Hh(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=Hh(c=e.g=t[s],i,!1,e)&&r}function Hh(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ca&&c.capture==t){var h=c.listener,p=c.ia||c.src;c.fa&&rb(n.i,c),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}sr(Sr,Qa),Sr.prototype[jh]=!0,Sr.prototype.removeEventListener=function(n,e,t,i){lb(this,n,e,t,i)},Sr.prototype.M=function(){if(Sr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)V_(t[i]);delete n.g[e],n.h--}}this.I=null},Sr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Sr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var To=Mt.JSON.stringify;function bA(){var n=mT;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var W_,la=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ua,n=>n.reset());class ua{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ca(n){Mt.setTimeout(()=>{throw n},0)}function $_(n,e){W_||function wA(){var n=Mt.Promise.resolve(void 0);W_=function(){n.then(EA)}}(),cb||(W_(),cb=!0),mT.add(n,e)}var cb=!1,mT=new class gT{constructor(){this.h=this.g=null}add(e,t){const i=la.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function EA(){for(var n;n=bA();){try{n.h.call(n.g)}catch(t){ca(t)}var e=la;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}cb=!1}function Gh(n,e){Sr.call(this),this.h=n||1,this.g=e||Mt,this.j=Tr(this.kb,this),this.l=Date.now()}function cd(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function db(n,e,t){if("function"==typeof n)t&&(n=Tr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Tr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Mt.setTimeout(n,e||0)}function hb(n){n.g=db(()=>{n.g=null,n.i&&(n.i=!1,hb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}sr(Gh,Sr),(tt=Gh.prototype).da=!1,tt.S=null,tt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zi(this,"tick"),this.da&&(cd(this),this.start()))}},tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.M=function(){Gh.Z.M.call(this),cd(this),delete this.g};class CA extends Qa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hb(this)}M(){super.M(),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $h(n){Qa.call(this),this.h=n,this.g={}}sr($h,Qa);var fb=[];function Jp(n,e,t,i){Array.isArray(t)||(t&&(fb[0]=t.toString()),t=fb);for(var r=0;r<t.length;r++){var s=fT(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function _T(n){zp(n.g,function(e,t){this.g.hasOwnProperty(t)&&zu(e)},n),n.g={}}function Qp(){this.g=!0}function tu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bT(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return To(t)}catch(h){return e}}(n,t)+(i?" "+i:"")})}$h.prototype.M=function(){$h.Z.M.call(this),_T(this)},$h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qp.prototype.Aa=function(){this.g=!1},Qp.prototype.info=function(){};var Zu={},gb=null;function Xp(){return gb=gb||new Sr}function mb(n){Ir.call(this,Zu.Ma,n)}function Wh(n){const e=Xp();zi(e,new mb(e,n))}function _b(n,e){Ir.call(this,Zu.STAT_EVENT,n),this.stat=e}function cs(n){const e=Xp();zi(e,new _b(e,n))}function wT(n,e){Ir.call(this,Zu.Na,n),this.size=e}function eg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){n()},e)}Zu.Ma="serverreachability",sr(mb,Ir),Zu.STAT_EVENT="statevent",sr(_b,Ir),Zu.Na="timingevent",sr(wT,Ir);var q_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ET={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yb(){}function TT(){}yb.prototype.h=null;var wb,tg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vb(){Ir.call(this,"d")}function bb(){Ir.call(this,"c")}function z_(){}function ng(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new $h(this),this.P=TA,this.W=new Gh(n=X0?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new DT}function DT(){this.i=null,this.g="",this.h=!1}sr(vb,Ir),sr(bb,Ir),sr(z_,yb),z_.prototype.g=function(){return new XMLHttpRequest},z_.prototype.i=function(){return{}},wb=new z_;var TA=45e3,Eb={},Z_={};function K_(n,e,t){n.K=1,n.v=hd(Xa(e)),n.s=t,n.U=!0,Cb(n,null)}function Cb(n,e){n.F=Date.now(),qh(n),n.A=Xa(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),OT(t.h,"t",i),n.C=0,t=n.l.H,n.h=new DT,n.g=KT(n.l,t?e:null,!n.s),0<n.O&&(n.L=new CA(Tr(n.Ia,n,n.g),n.O)),Jp(n.V,n.g,"readystatechange",n.gb),e=n.H?P_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Wh(1),function yT(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",h=s.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var C=y[0];y=y[1];var D=C.split("_");c=2<=D.length&&"type"==D[1]?c+(C+"=")+y+"&":c+(C+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Tb(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Db(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=IT(n,t),r==Z_){4==e&&(n.o=4,cs(14),i=!1),tu(n.j,n.m,null,"[Incomplete Response]");break}if(r==Eb){n.o=4,cs(15),tu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}tu(n.j,n.m,r,null),Y_(n,r)}Tb(n)&&r!=Z_&&r!=Eb&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,cs(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Bb(e),e.L=!0,cs(11))):(tu(n.j,n.m,t,"[Invalid Chunked Response]"),nu(n),zh(n))}function IT(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Z_:(t=Number(e.substring(t,i)),isNaN(t)?Eb:(i+=1)+t>e.length?Z_:(e=e.substr(i,t),n.C=i+t,e))}function qh(n){n.Y=Date.now()+n.P,Ib(n,n.P)}function Ib(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=eg(Tr(n.eb,n),e)}function ig(n){n.B&&(Mt.clearTimeout(n.B),n.B=null)}function zh(n){0==n.l.G||n.I||dy(n.l,n)}function nu(n){ig(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,cd(n.W),_T(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Y_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ty(t.i,n)))if(t.I=n.N,!n.J&&ty(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=eg(Tr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;cy(t),ag(t)}uy(t),cs(18)}if(1>=xb(t.i)&&t.ka){try{t.ka()}catch(y){}t.ka=void 0}}else Qu(t,11)}else if((n.J||t.g==n)&&cy(t),!Bh(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const C=y[3];null!=C&&(t.ma=C,t.h.info("VER="+t.ma));const D=y[4];null!=D&&(t.za=D,t.h.info("SVER="+t.za));const M=y[5];null!=M&&"number"==typeof M&&0<M&&(t.K=i=1.5*M,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const O=n.g;if(O){const B=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var s=i.i;!s.g&&(or(B,"spdy")||or(B,"quic")||or(B,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Ob(s,s.h),s.h=null))}if(i.D){const Z=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;Z&&(i.sa=Z,Kn(i.F,i.D,Z))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=ZT(i,i.H?i.la:null,i.W),c.J){Jh(i.i,c);var h=c,p=i.K;p&&h.setTimeout(p),h.B&&(ig(h),qh(h)),i.g=c}else Lb(i);0<t.l.length&&ly(t)}else"stop"!=y[0]&&"close"!=y[0]||Qu(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Qu(t,7):Fb(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}Wh(4)}catch(y){}}function Sb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(R_(n)||"string"==typeof n)gA(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(R_(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function dd(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(R_(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function Zh(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Zh)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function Ku(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Kh(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Kh(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Kh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(tt=ng.prototype).setTimeout=function(n){this.P=n},tt.gb=function(n){n=n.target;const e=this.L;e&&3==ru(n)?e.l():this.Ia(n)},tt.Ia=function(n){try{if(n==this.g)e:{const C=ru(this.g);var e=this.g.Da();const D=this.g.ba();if(!(3>C)&&(3!=C||X0||this.g&&(this.h.h||this.g.ga()||UT(this.g)))){this.I||4!=C||7==e||Wh(8==e||0>=D?3:2),ig(this);var t=this.g.ba();this.N=t;t:if(Tb(this)){var i=UT(this.g);n="";var r=i.length,s=4==ru(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){nu(this),zh(this);var c="";break t}this.h.i=new Mt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function pb(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,C,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bh(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,cs(12),nu(this),zh(this);break e}tu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Y_(this,t)}this.U?(Db(this,C,c),X0&&this.i&&3==C&&(Jp(this.V,this.W,"tick",this.fb),this.W.start())):(tu(this.j,this.m,c,null),Y_(this,c)),4==C&&nu(this),this.i&&!this.I&&(4==C?dy(this.l,this):(this.i=!1,qh(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,cs(12)):(this.o=0,cs(13)),nu(this),zh(this)}}}catch(C){}},tt.fb=function(){if(this.g){var n=ru(this.g),e=this.g.ga();this.C<e.length&&(ig(this),Db(this,n,e),this.i&&4!=n&&qh(this))}},tt.cancel=function(){this.I=!0,nu(this)},tt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function vT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wh(3),cs(17)),nu(this),this.o=2,zh(this)):Ib(this,this.Y-n)},(tt=Zh.prototype).R=function(){Ku(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},tt.T=function(){return Ku(this),this.g.concat()},tt.get=function(n,e){return Kh(this.h,n)?this.h[n]:e},tt.set=function(n,e){Kh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},tt.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var J_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Yu){this.g=void 0!==e?e:n.g,Ab(this,n.j),this.s=n.s,gt(this,n.i),Q_(this,n.m),this.l=n.l,e=n.h;var t=new Yh;t.i=e.i,e.g&&(t.g=new Zh(e.g),t.h=e.h),ST(this,t),this.o=n.o}else n&&(t=String(n).match(J_))?(this.g=!!e,Ab(this,t[1]||"",!0),this.s=Ju(t[2]||""),gt(this,t[3]||"",!0),Q_(this,t[4]),this.l=Ju(t[5]||"",!0),ST(this,t[6]||"",!0),this.o=Ju(t[7]||"")):(this.g=!!e,this.h=new Yh(null,this.g))}function Xa(n){return new Yu(n)}function Ab(n,e,t){n.j=t?Ju(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gt(n,e,t){n.i=t?Ju(e,!0):e}function Q_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function ST(n,e,t){e instanceof Yh?(n.h=e,function AA(n,e){e&&!n.j&&(iu(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(MT(this,i),OT(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=kn(e,AT)),n.h=new Yh(e,n.g))}function Kn(n,e,t){n.h.set(e,t)}function hd(n){return Kn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ju(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kn(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,$R),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $R(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kn(e,Nb,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kn(e,Nb,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(kn(t,"/"==t.charAt(0)?SA:IA,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kn(t,NT)),n.join("")};var Nb=/[#\/\?@]/g,IA=/[#\?:]/g,SA=/[#\?]/g,AT=/[#\?@]/g,NT=/#/g;function Yh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function iu(n){n.g||(n.g=new Zh,n.h=0,n.i&&function GR(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function MT(n,e){iu(n),e=el(n,e),Kh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Kh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Ku(n)))}function xT(n,e){return iu(n),e=el(n,e),Kh(n.g.h,e)}function OT(n,e,t){MT(n,e),0<t.length&&(n.i=null,n.g.set(el(n,e),qp(t)),n.h+=t.length)}function el(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function RT(n){this.l=n||ey,n=Mt.PerformanceNavigationTiming?0<(n=Mt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ea&&Mt.g.Ea()&&Mt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=Yh.prototype).add=function(n,e){iu(this),this.i=null,n=el(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){iu(this),this.g.forEach(function(t,i){gA(t,function(r){n.call(e,r,i,this)},this)},this)},tt.T=function(){iu(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},tt.R=function(n){iu(this);var e=[];if("string"==typeof n)xT(this,n)&&(e=K0(e,this.g.get(el(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=K0(e,n[t])}return e},tt.set=function(n,e){return iu(this),this.i=null,xT(this,n=el(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var ey=10;function Mb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xb(n){return n.h?1:n.g?n.g.size:0}function ty(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ob(n,e){n.g?n.g.add(e):n.h=e}function Jh(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Qh(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return qp(n.i)}function Rb(){}function MA(){this.g=new Rb}function xA(n,e,t){const i=t||"";try{Sb(n,function(r,s){let c=r;Gp(r)&&(c=To(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function rg(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function Xh(n){this.l=n.$b||null,this.j=n.ib||!1}function ny(n,e){Sr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=iy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}RT.prototype.cancel=function(){if(this.i=Qh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Rb.prototype.stringify=function(n){return Mt.JSON.stringify(n,void 0)},Rb.prototype.parse=function(n){return Mt.JSON.parse(n,void 0)},sr(Xh,yb),Xh.prototype.g=function(){return new ny(this.l,this.j)},Xh.prototype.i=function(n){return function(){return n}}({}),sr(ny,Sr);var iy=0;function kT(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function sg(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ry(n)}function ry(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=ny.prototype).open=function(n,e){if(this.readyState!=iy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ry(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Mt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sg(this)),this.readyState=iy},tt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ry(this)),this.g&&(this.readyState=3,ry(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Mt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kT(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},tt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sg(this):ry(this),3==this.readyState&&kT(this)}},tt.Ua=function(n){this.g&&(this.response=this.responseText=n,sg(this))},tt.Ta=function(n){this.g&&(this.response=n,sg(this))},tt.ha=function(){this.g&&sg(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ny.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var WR=Mt.JSON.parse;function Zi(n){Sr.call(this),this.headers=new Zh,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OA,this.K=this.L=!1}sr(Zi,Sr);var OA="",FT=/^https?$/i,sy=["POST","PUT"];function PA(n){return"content-type"==n.toLowerCase()}function Pb(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ef(n),oy(n)}function ef(n){n.D||(n.D=!0,zi(n,"complete"),zi(n,"error"))}function LT(n){if(n.h&&void 0!==x_&&(!n.C[1]||4!=ru(n)||2!=n.ba()))if(n.v&&4==ru(n))db(n.Fa,0,n);else if(zi(n,"readystatechange"),4==ru(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(J_)[1]||null;if(!r&&Mt.self&&Mt.self.location){var s=Mt.self.location.protocol;r=s.substr(0,s.length-1)}i=!FT.test(r?r.toLowerCase():"")}t=i}if(t)zi(n,"complete"),zi(n,"success");else{n.m=6;try{var c=2<ru(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",ef(n)}}finally{oy(n)}}}function oy(n,e){if(n.g){BT(n);const t=n.g,i=n.C[0]?O_:null;n.g=null,n.C=null,e||zi(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function BT(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Mt.clearTimeout(n.A),n.A=null)}function ru(n){return n.g?n.g.readyState:0}function UT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case OA:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function kb(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function VT(n){let e="";return zp(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Kn(n,e,t))}function og(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function fd(n){this.za=0,this.l=[],this.h=new Qp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=og("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=og("baseRetryDelayMs",5e3,n),this.$a=og("retryDelaySeedMs",1e4,n),this.Ya=og("forwardChannelMaxRetries",2,n),this.ra=og("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new RT(n&&n.concurrentRequestLimit),this.Ca=new MA,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Fb(n){if(jT(n),3==n.G){var e=n.V++,t=Xa(n.F);Kn(t,"SID",n.J),Kn(t,"RID",e),Kn(t,"TYPE","terminate"),pd(n,t),(e=new ng(n,n.h,e,void 0)).K=2,e.v=hd(Xa(t)),t=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(t=Mt.navigator.sendBeacon(e.v.toString(),"")),!t&&Mt.Image&&((new Image).src=e.v,t=!0),t||(e.g=KT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),qh(e)}zT(n)}function ag(n){n.g&&(Bb(n),n.g.cancel(),n.g=null)}function jT(n){ag(n),n.u&&(Mt.clearTimeout(n.u),n.u=null),cy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Mt.clearTimeout(n.m),n.m=null)}function ay(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ly(n)}function ly(n){Mb(n.i)||n.m||(n.m=!0,$_(n.Ha,n),n.C=0)}function GT(n,e){var t;t=e?e.m:n.V++;const i=Xa(n.F);Kn(i,"SID",n.J),Kn(i,"RID",t),Kn(i,"AID",n.U),pd(n,i),n.o&&n.s&&kb(i,n.o,n.s),t=new ng(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=$T(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Ob(n.i,t),K_(t,i,e)}function pd(n,e){n.j&&Sb({},function(t,i){Kn(e,i,t)})}function $T(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Tr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let h=!0;for(let p=0;p<t;p++){let y=r[p].h;const C=r[p].g;if(y-=s,0>y)s=Math.max(0,r[p].h-100),h=!1;else try{xA(C,c,"req"+y+"_")}catch(D){i&&i(C)}}if(h){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function Lb(n){n.g||n.u||(n.Y=1,$_(n.Ga,n),n.A=0)}function uy(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=eg(Tr(n.Ga,n),qT(n,n.A)),n.A++,0))}function Bb(n){null!=n.B&&(Mt.clearTimeout(n.B),n.B=null)}function WT(n){n.g=new ng(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Xa(n.oa);Kn(e,"RID","rpc"),Kn(e,"SID",n.J),Kn(e,"CI",n.N?"0":"1"),Kn(e,"AID",n.U),pd(n,e),Kn(e,"TYPE","xmlhttp"),n.o&&n.s&&kb(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=hd(Xa(e)),t.s=null,t.U=!0,Cb(t,n)}function cy(n){null!=n.v&&(Mt.clearTimeout(n.v),n.v=null)}function dy(n,e){var t=null;if(n.g==e){cy(n),Bb(n),n.g=null;var i=2}else{if(!ty(n.i,e))return;t=e.D,Jh(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;zi(i=Xp(),new wT(i,t,e,r)),ly(n)}else Lb(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function HT(n,e){return!(xb(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=eg(Tr(n.Ha,n,e),qT(n,n.C)),n.C++,0)))}(n,e)||2==i&&uy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Qu(n,5);break;case 4:Qu(n,10);break;case 3:Qu(n,6);break;default:Qu(n,2)}}function qT(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Qu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Tr(n.jb,n);t||(t=new Yu("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||Ab(t,"https"),hd(t)),function PT(n,e){const t=new Qp;if(Mt.Image){const i=new Image;i.onload=$p(rg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=$p(rg,t,i,"TestLoadImage: error",!1,e),i.onabort=$p(rg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=$p(rg,t,i,"TestLoadImage: timeout",!1,e),Mt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else cs(2);n.G=0,n.j&&n.j.va(e),zT(n),jT(n)}function zT(n){n.G=0,n.I=-1,n.j&&((0!=Qh(n.i).length||0!=n.l.length)&&(n.i.i.length=0,qp(n.l),n.l.length=0),n.j.ua())}function ZT(n,e,t){let i=function DA(n){return n instanceof Yu?Xa(n):new Yu(n,void 0)}(t);if(""!=i.i)e&&gt(i,e+"."+i.i),Q_(i,i.m);else{const r=Mt.location;i=function X_(n,e,t,i){var r=new Yu(null,void 0);return n&&Ab(r,n),e&&gt(r,e),t&&Q_(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&zp(n.aa,function(r,s){Kn(i,s,r)}),t=n.sa,(e=n.D)&&t&&Kn(i,e,t),Kn(i,"VER",n.ma),pd(n,i),i}function KT(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zi(t&&n.Ba&&!n.qa?new Xh({ib:!0}):n.qa)).L=n.H,e}function YT(){}function hy(){if(qu&&!(10<=Number(cT)))throw Error("Environmental error: no available transport.")}function Zs(n,e){Sr.call(this),this.g=new fd(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Bh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bh(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new gd(this)}function JT(n){vb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function QT(){bb.call(this),this.status=1}function gd(n){this.g=n}(tt=Zi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wb.g(),this.C=function CT(n){return n.h||(n.h=n.i())}(this.u?this.u:wb),this.g.onreadystatechange=Tr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void Pb(this,s)}n=t||"";const r=new Zh(this.headers);i&&Sb(i,function(s,c){r.set(c,s)}),i=function Wp(n){e:{var e=PA;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Mt.FormData&&n instanceof Mt.FormData,!(0<=rT(sy,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{BT(this),0<this.B&&((this.K=function RA(n){return qu&&function B_(){return function aT(n){var e=nb;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=sT(String(Kp)).split("."),t=sT("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=Uh(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||Uh(0==r[2].length,0==s[2].length)||Uh(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tr(this.pa,this)):this.A=db(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){Pb(this,s)}},tt.pa=function(){void 0!==x_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zi(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zi(this,"complete"),zi(this,"abort"),oy(this))},tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oy(this,!0)),Zi.Z.M.call(this)},tt.Fa=function(){this.s||(this.F||this.v||this.l?LT(this):this.cb())},tt.cb=function(){LT(this)},tt.ba=function(){try{return 2<ru(this)?this.g.status:-1}catch(n){return-1}},tt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},tt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),WR(e)}},tt.Da=function(){return this.m},tt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=fd.prototype).ma=8,tt.G=1,tt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},tt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new ng(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=P_(s),J0(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$T(this,r,e),Kn(t=Xa(this.F),"RID",n),Kn(t,"CVER",22),this.D&&Kn(t,"X-HTTP-Session-Id",this.D),pd(this,t),this.o&&s&&kb(t,this.o,s),Ob(this.i,r),this.Ra&&Kn(t,"TYPE","init"),this.ja?(Kn(t,"$req",e),Kn(t,"SID","null"),r.$=!0,K_(r,t,null)):K_(r,t,e),this.G=2}}else 3==this.G&&(n?GT(this,n):0==this.l.length||Mb(this.i)||GT(this))},tt.Ga=function(){if(this.u=null,WT(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=eg(Tr(this.bb,this),n)}},tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,cs(10),ag(this),WT(this))},tt.ab=function(){null!=this.v&&(this.v=null,ag(this),uy(this),cs(19))},tt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),cs(2)):(this.h.info("Failed to ping google.com"),cs(1))},(tt=YT.prototype).xa=function(){},tt.wa=function(){},tt.va=function(){},tt.ua=function(){},tt.Oa=function(){},hy.prototype.g=function(n,e){return new Zs(n,e)},sr(Zs,Sr),Zs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),$_(Tr(n.hb,n,e))),cs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ZT(n,null,n.W),ly(n)},Zs.prototype.close=function(){Fb(this.g)},Zs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ay(this.g,e)}else this.v?((e={}).__data__=To(n),ay(this.g,e)):ay(this.g,n)},Zs.prototype.M=function(){this.g.j=null,delete this.j,Fb(this.g),delete this.g,Zs.Z.M.call(this)},sr(JT,vb),sr(QT,bb),sr(gd,YT),gd.prototype.xa=function(){zi(this.g,"a")},gd.prototype.wa=function(n){zi(this.g,new JT(n))},gd.prototype.va=function(n){zi(this.g,new QT(n))},gd.prototype.ua=function(){zi(this.g,"b")},hy.prototype.createWebChannel=hy.prototype.g,Zs.prototype.send=Zs.prototype.u,Zs.prototype.open=Zs.prototype.m,Zs.prototype.close=Zs.prototype.close,q_.NO_ERROR=0,q_.TIMEOUT=8,q_.HTTP_ERROR=6,ET.COMPLETE="complete",TT.EventType=tg,tg.OPEN="a",tg.CLOSE="b",tg.ERROR="c",tg.MESSAGE="d",Sr.prototype.listen=Sr.prototype.N,Zi.prototype.listenOnce=Zi.prototype.O,Zi.prototype.getLastError=Zi.prototype.La,Zi.prototype.getLastErrorCode=Zi.prototype.Da,Zi.prototype.getStatus=Zi.prototype.ba,Zi.prototype.getResponseJson=Zi.prototype.Qa,Zi.prototype.getResponseText=Zi.prototype.ga,Zi.prototype.send=Zi.prototype.ea;var XT=Ja.createWebChannelTransport=function(){return new hy},e1=Ja.getStatEventTarget=function(){return Xp()},Ub=Ja.ErrorCode=q_,Vb=Ja.EventType=ET,t1=Ja.Event=Zu,n1=Ja.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kA=Ja.FetchXmlHttpFactory=Xh,tf=Ja.WebChannel=TT,jb=Ja.XhrIo=Zi;const Hb="@firebase/firestore";class Fi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fi.UNAUTHENTICATED=new Fi(null),Fi.GOOGLE_CREDENTIALS=new Fi("google-credentials-uid"),Fi.FIRST_PARTY=new Fi("first-party-uid"),Fi.MOCK_USER=new Fi("mock-user");let nf="9.8.3";const Xu=new os.Yd("@firebase/firestore");function lg(){return Xu.logLevel}function Fe(n,...e){if(Xu.logLevel<=os.in.DEBUG){const t=e.map(Gb);Xu.debug(`Firestore (${nf}): ${n}`,...t)}}function Li(n,...e){if(Xu.logLevel<=os.in.ERROR){const t=e.map(Gb);Xu.error(`Firestore (${nf}): ${n}`,...t)}}function rf(n,...e){if(Xu.logLevel<=os.in.WARN){const t=e.map(Gb);Xu.warn(`Firestore (${nf}): ${n}`,...t)}}function Gb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${nf}) INTERNAL ASSERTION FAILED: `+n;throw Li(e),new Error(e)}function Ot(n,e){n||nt()}function Ke(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends L.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class i1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fi.UNAUTHENTICATED))}shutdown(){}}class r1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BA{constructor(e){this.t=e,this.currentUser=Fi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let c=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ci,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=c;e.enqueueRetryable((0,_e.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},p=y=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ci)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ot("string"==typeof i.accessToken),new i1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new Fi(e)}}class UA{constructor(e,t,i){this.type="FirstParty",this.user=Fi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class VA{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new UA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o1{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,Fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.p=t.token,new s1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $b(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class ug{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=$b(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function Pt(n,e){return n<e?-1:n>e?1:0}function sf(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function Wb(n){return n+"\0"}class Un{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Un.fromMillis(Date.now())}static fromDate(e){return Un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Un(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(e){this.timestamp=e}static fromTimestamp(e){return new At(e)}static min(){return new At(new Un(0,0))}static max(){return new At(new Un(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cg{constructor(e,t,i){void 0===t?t=0:t>e.length&&nt(),void 0===i?i=e.length-t:i>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===cg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cg?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends cg{construct(e,t,i){return new Qt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ae(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const HA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bi extends cg{construct(e,t,i){return new Bi(e,t,i)}static isValidIdentifier(e){return HA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Ae(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Ae(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Ae(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(s(),r++)}if(s(),c)throw new Ae(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bi(t)}static emptyPath(){return new Bi([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(Qt.fromString(e))}static fromName(e){return new Ze(Qt.fromString(e).popFirst(5))}static empty(){return new Ze(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new Qt(e.slice()))}}class fy{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function ec(n){return n.fields.find(e=>2===e.kind)}function tc(n){return n.fields.filter(e=>2!==e.kind)}fy.UNKNOWN_ID=-1;class su{constructor(e,t){this.fieldPath=e,this.kind=t}}class py{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new py(0,Do.min())}}function qb(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=At.fromTimestamp(1e9===i?new Un(t+1,0):new Un(t,i));return new Do(r,Ze.empty(),e)}function a1(n){return new Do(n.readTime,n.key,-1)}class Do{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Do(At.min(),Ze.empty(),-1)}static max(){return new Do(At.max(),Ze.empty(),-1)}}function gy(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:Pt(n.largestBatchId,e.largestBatchId))}const GA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function tl(n){return my.apply(this,arguments)}function my(){return my=(0,_e.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==GA)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),my.apply(this,arguments)}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,i)=>{t(e)})}static reject(e){return new de((t,i)=>{i(e)})}static waitFor(e){return new de((t,i)=>{let r=0,s=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=de.resolve(!1);for(const i of e)t=t.next(r=>r?de.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new de((i,r)=>{const s=e.length,c=new Array(s);let h=0;for(let p=0;p<s;p++){const y=p;t(e[y]).next(C=>{c[y]=C,++h,h===s&&i(c)},C=>r(C))}})}static doWhile(e,t){return new de((i,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):i()};s()})}}class dg{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new ci,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new hg(e,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=_d(i.target.error);this.T.reject(new hg(e,r))}}static open(e,t,i,r){try{return new dg(t,e.transaction(r,i))}catch(s){throw new hg(t,s)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new WA(t)}}class Io{constructor(e,t,i){this.name=e,this.version=t,this.P=i,12.2===Io.v((0,L.z$)())&&Li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),md(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,L.hl)())return!1;if(Io.S())return!0;const e=(0,L.z$)(),t=Io.v(e),i=0<t&&t<10,r=Io.D(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(e){var t=this;return(0,_e.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new hg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Ae(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ae(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new hg(e,h))},s.onupgradeneeded=c=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.P.O(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=i=>t.M(i)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,_e.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{s.db=yield s.k(e);const p=dg.open(s.db,e,c?"readonly":"readwrite",i),y=r(p).next(C=>(p.R(),C)).catch(C=>(p.abort(C),de.reject(C))).toPromise();return y.catch(()=>{}),yield p.A,y}catch(p){const y="FirebaseError"!==p.name&&h<3;if(Fe("SimpleDb","Transaction failed with error:",p.message,"Retrying:",y),s.close(),!y)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class $A{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return md(this.$.delete())}}class hg extends Ae{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function nc(n){return"IndexedDbTransactionError"===n.name}class WA{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),md(i)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),md(this.store.add(e))}get(e){return md(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),md(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),md(this.store.count())}K(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.G(r,(c,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new de((s,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new de((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}W(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.G(r,(s,c,h)=>h.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Y(e){const t=this.cursor({});return new de((i,r)=>{t.onerror=s=>{const c=_d(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}G(e,t){const i=[];return new de((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const p=new $A(h),y=t(h.primaryKey,h.value,p);if(y instanceof de){const C=y.catch(D=>(p.done(),de.reject(D)));i.push(C)}p.isDone?r():null===p.U?h.continue():h.continue(p.U)}}).next(()=>de.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function md(n){return new de((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=_d(i.target.error);t(r)}})}let l1=!1;function _d(n){const e=Io.v((0,L.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ae("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return l1||(l1=!0,setTimeout(()=>{throw i},0)),i}}return n}class u1{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Fe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,_e.Z)(function*(){t.task=null;try{Fe("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){nc(i)?Fe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield tl(i)}yield t.Z(1)}))}}class c1{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,_e.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,e))})()}et(e,t){const i=new Set;let r=t,s=!0;return de.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Fe("IndexBackiller",`Processing collection: ${c}`),this.nt(e,c,r).next(h=>{r-=h,i.add(c)});s=!1})).next(()=>t-r)}nt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.st(r,s)).next(h=>(Fe("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}st(e,t){let i=e;return t.changes.forEach((r,s)=>{const c=a1(s);gy(c,i)>0&&(i=c)}),new Do(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ds{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Zb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ic(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}ds.ot=-1;class di{constructor(e,t){this.comparator=e,this.root=t||Ar.EMPTY}insert(e,t){return new di(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ar.BLACK,null,null))}remove(e){return new di(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _y(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _y(this.root,e,this.comparator,!1)}getReverseIterator(){return new _y(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _y(this.root,e,this.comparator,!0)}}class _y{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ar{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:Ar.RED,this.left=null!=r?r:Ar.EMPTY,this.right=null!=s?s:Ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Ar(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ar.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Ar.EMPTY=null,Ar.RED=!0,Ar.BLACK=!1,Ar.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Ar(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class In{constructor(e){this.comparator=e,this.data=new di(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new h1(this.data.getIterator())}getIteratorFrom(e){return new h1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof In)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new In(this.comparator);return t.data=e,t}}class h1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function af(n){return n.hasNext()?n.getNext():void 0}class Nr{constructor(e){this.fields=e,e.sort(Bi.comparator)}static empty(){return new Nr([])}unionWith(e){let t=new In(Bi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new wi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new wi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const nl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rc(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=nl.exec(n);if(Ot(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Yn(n.seconds),nanos:Yn(n.nanos)}}function Yn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function da(n){return"string"==typeof n?wi.fromBase64String(n):wi.fromUint8Array(n)}function Kb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function f1(n){const e=n.mapValue.fields.__previous_value__;return Kb(e)?f1(e):e}function fg(n){const e=rc(n.mapValue.fields.__local_write_time__.timestampValue);return new Un(e.seconds,e.nanos)}class yy{constructor(e,t,i,r,s,c,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class So{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new So("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}function pg(n){return null==n}function gg(n){return 0===n&&1/n==-1/0}function Yb(n){return"number"==typeof n&&Number.isInteger(n)&&!gg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ou={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lf={nullValue:"NULL_VALUE"};function sc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kb(n)?4:Ey(n)?9007199254740991:10:nt()}function il(n,e){if(n===e)return!0;const t=sc(n);if(t!==sc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fg(n).isEqual(fg(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=rc(i.timestampValue),c=rc(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,da(n.bytesValue).isEqual(da(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Yn(i.geoPointValue.latitude)===Yn(r.geoPointValue.latitude)&&Yn(i.geoPointValue.longitude)===Yn(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Yn(i.integerValue)===Yn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Yn(i.doubleValue),c=Yn(r.doubleValue);return s===c?gg(s)===gg(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return sf(n.arrayValue.values||[],e.arrayValue.values||[],il);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(Zb(s)!==Zb(c))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===c[h]||!il(s[h],c[h])))return!1;return!0}(n,e);default:return nt()}var r}function mg(n,e){return void 0!==(n.values||[]).find(t=>il(t,e))}function yd(n,e){if(n===e)return 0;const t=sc(n),i=sc(e);if(t!==i)return Pt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=Yn(r.integerValue||r.doubleValue),h=Yn(s.integerValue||s.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return vy(n.timestampValue,e.timestampValue);case 4:return vy(fg(n),fg(e));case 5:return Pt(n.stringValue,e.stringValue);case 6:return function(r,s){const c=da(r),h=da(s);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),h=s.split("/");for(let p=0;p<c.length&&p<h.length;p++){const y=Pt(c[p],h[p]);if(0!==y)return y}return Pt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=Pt(Yn(r.latitude),Yn(s.latitude));return 0!==c?c:Pt(Yn(r.longitude),Yn(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],h=s.values||[];for(let p=0;p<c.length&&p<h.length;++p){const y=yd(c[p],h[p]);if(y)return y}return Pt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===ou.mapValue&&s===ou.mapValue)return 0;if(r===ou.mapValue)return 1;if(s===ou.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),p=s.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let C=0;C<h.length&&C<y.length;++C){const D=Pt(h[C],y[C]);if(0!==D)return D;const M=yd(c[h[C]],p[y[C]]);if(0!==M)return M}return Pt(h.length,y.length)}(n.mapValue,e.mapValue);default:throw nt()}}function vy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Pt(n,e);const t=rc(n),i=rc(e),r=Pt(t.seconds,i.seconds);return 0!==r?r:Pt(t.nanos,i.nanos)}function oc(n){return by(n)}function by(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=rc(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?da(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=by(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const h of r)c?c=!1:s+=",",s+=`${h}:${by(i.fields[h])}`;return s+"}"}(n.mapValue):nt();var e}function au(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _g(n){return!!n&&"integerValue"in n}function yg(n){return!!n&&"arrayValue"in n}function p1(n){return!!n&&"nullValue"in n}function g1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wy(n){return!!n&&"mapValue"in n}function uf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ic(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=uf(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Ey(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function m1(n){return"nullValue"in n?lf:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?au(So.empty(),Ze.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:nt()}function _1(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?au(So.empty(),Ze.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ou:nt()}function Jb(n,e){const t=yd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Qb(n,e){const t=yd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Mr{constructor(e){this.value=e}static empty(){return new Mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!wy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uf(t)}setAll(e){let t=Bi.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=uf(c):r.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());wy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return il(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];wy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ic(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Mr(uf(this.value))}}function Xb(n){const e=[];return ic(n.fields,(t,i)=>{const r=new Bi([t]);if(wy(i)){const s=Xb(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new Nr(e)}class Mn{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new Mn(e,0,At.min(),At.min(),Mr.empty(),0)}static newFoundDocument(e,t,i){return new Mn(e,1,t,At.min(),i,0)}static newNoDocument(e,t){return new Mn(e,2,t,At.min(),Mr.empty(),0)}static newUnknownDocument(e,t){return new Mn(e,3,t,At.min(),Mr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zA{constructor(e,t=null,i=[],r=[],s=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=h,this.ut=null}}function ew(n,e=null,t=[],i=[],r=null,s=null,c=null){return new zA(n,e,t,i,r,s,c)}function ac(n){const e=Ke(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+oc(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),pg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>oc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>oc(i)).join(",")),e.ut=t}return e.ut}function rl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!zR(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!il(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!E1(n.startAt,e.startAt)&&E1(n.endAt,e.endAt)}function Cy(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ty(n,e){return n.filters.filter(t=>t instanceof xr&&t.field.isEqual(e))}function ZA(n,e,t){let i=lf,r=!0;for(const s of Ty(n,e)){let c=lf,h=!0;switch(s.op){case"<":case"<=":c=m1(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,h=!1;break;case"!=":case"not-in":c=lf}Jb({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];Jb({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function cf(n,e,t){let i=ou,r=!0;for(const s of Ty(n,e)){let c=ou,h=!0;switch(s.op){case">=":case">":c=_1(s.value),h=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,h=!1;break;case"!=":case"not-in":c=ou}Qb({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];Qb({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class xr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,i):new tw(e,t,i):"array-contains"===t?new YA(e,i):"in"===t?new nw(e,i):"not-in"===t?new b1(e,i):"array-contains-any"===t?new w1(e,i):new xr(e,t,i)}static ct(e,t,i){return"in"===t?new KA(e,i):new y1(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(yd(t,this.value)):null!==t&&sc(this.value)===sc(t)&&this.at(yd(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tw extends xr{constructor(e,t,i){super(e,t,i),this.key=Ze.fromName(i.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.at(t)}}class KA extends xr{constructor(e,t){super(e,"in",t),this.keys=v1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class y1 extends xr{constructor(e,t){super(e,"not-in",t),this.keys=v1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function v1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Ze.fromName(i.referenceValue))}class YA extends xr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yg(t)&&mg(t.arrayValue,this.value)}}class nw extends xr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&mg(this.value.arrayValue,t)}}class b1 extends xr{constructor(e,t){super(e,"not-in",t)}matches(e){if(mg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!mg(this.value.arrayValue,t)}}class w1 extends xr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>mg(this.value.arrayValue,i))}}class ha{constructor(e,t){this.position=e,this.inclusive=t}}class lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function zR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function iw(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?Ze.comparator(Ze.fromName(c.referenceValue),t.key):yd(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function E1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!il(n.position[t],e.position[t]))return!1;return!0}class sl{constructor(e,t=null,i=[],r=[],s=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=h,this.endAt=p,this.lt=null,this.ft=null}}function vg(n,e,t,i,r,s,c,h){return new sl(n,e,t,i,r,s,c,h)}function vd(n){return new sl(n)}function bg(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function wg(n){for(const e of n.filters)if(e.ht())return e.field;return null}function C1(n){return null!==n.collectionGroup}function df(n){const e=Ke(n);if(null===e.lt){e.lt=[];const t=wg(e),i=bg(e);if(null!==t&&null===i)t.isKeyField()||e.lt.push(new lc(t)),e.lt.push(new lc(Bi.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new lc(Bi.keyField(),s))}}}return e.lt}function Ao(n){const e=Ke(n);if(!e.ft)if("F"===e.limitType)e.ft=ew(e.path,e.collectionGroup,df(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of df(e))t.push(new lc(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new ha(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ha(e.startAt.position,e.startAt.inclusive):null;e.ft=ew(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.ft}function rw(n,e,t){return new sl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hf(n,e){return rl(Ao(n),Ao(e))&&n.limitType===e.limitType}function T1(n){return`${ac(Ao(n))}|lt:${n.limitType}`}function Dy(n){return`Query(target=${function hs(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${oc(i.value)}`;var i}).join(", ")}]`),pg(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>oc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>oc(t)).join(",")),`Target(${e})`}(Ao(n))}; limitType=${n.limitType})`}function Iy(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Ze.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const h=iw(r,s,c);return r.inclusive?h<=0:h<0}(t.startAt,df(t),i)||t.endAt&&!function(r,s,c){const h=iw(r,s,c);return r.inclusive?h>=0:h>0}(t.endAt,df(t),i)));var t,i}function D1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function I1(n){return(e,t)=>{let i=!1;for(const r of df(n)){const s=S1(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function S1(n,e,t){const i=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(r,s,c){const h=s.data.field(r),p=c.data.field(r);return null!==h&&null!==p?yd(h,p):nt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return nt()}}function A1(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gg(e)?"-0":e}}function sw(n){return{integerValue:""+n}}function ow(n,e){return Yb(e)?sw(e):A1(n,e)}class Eg{constructor(){this._=void 0}}function N1(n,e,t){return n instanceof Cg?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof uc?XA(n,e):n instanceof ff?eN(n,e):function(i,r){const s=M1(i,r),c=tN(s)+tN(i._t);return _g(s)&&_g(i._t)?sw(c):A1(i.wt,c)}(n,e)}function QA(n,e,t){return n instanceof uc?XA(n,e):n instanceof ff?eN(n,e):t}function M1(n,e){return n instanceof Tg?_g(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Cg extends Eg{}class uc extends Eg{constructor(e){super(),this.elements=e}}function XA(n,e){const t=nN(e);for(const i of n.elements)t.some(r=>il(r,i))||t.push(i);return{arrayValue:{values:t}}}class ff extends Eg{constructor(e){super(),this.elements=e}}function eN(n,e){let t=nN(e);for(const i of n.elements)t=t.filter(r=>!il(r,i));return{arrayValue:{values:t}}}class Tg extends Eg{constructor(e,t){super(),this.wt=e,this._t=t}}function tN(n){return Yn(n.integerValue||n.doubleValue)}function nN(n){return yg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Sy{constructor(e,t){this.field=e,this.transform=t}}class Ay{constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class pf{}function aw(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new cc(n.key,hi.none()):new bd(n.key,n.data,hi.none());{const t=n.data,i=Mr.empty();let r=new In(Bi.comparator);for(let s of e.fields)if(!r.has(s)){let c=t.field(s);null===c&&s.length>1&&(s=s.popLast(),c=t.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new ol(n.key,i,new Nr(r.toArray()),hi.none())}}function x1(n,e,t){n instanceof bd?function(i,r,s){const c=i.value.clone(),h=cw(i.fieldTransforms,r,s.transformResults);c.setAll(h),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ol?function(i,r,s){if(!Dg(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=cw(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(iN(i)),h.setAll(c),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ny(n,e,t,i){return n instanceof bd?function(r,s,c,h){if(!Dg(r.precondition,s))return c;const p=r.value.clone(),y=O1(r.fieldTransforms,h,s);return p.setAll(y),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof ol?function(r,s,c,h){if(!Dg(r.precondition,s))return c;const p=O1(r.fieldTransforms,h,s),y=s.data;return y.setAll(iN(r)),y.setAll(p),s.convertToFoundDocument(s.version,y).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(C=>C.field))}(n,e,t,i):(c=t,Dg(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function lw(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=M1(i.transform,r||null);null!=s&&(null===t&&(t=Mr.empty()),t.set(i.field,s))}return t||null}function uw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&sf(t,i,(r,s)=>function ZR(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof uc&&i instanceof uc||t instanceof ff&&i instanceof ff?sf(t.elements,i.elements,il):t instanceof Tg&&i instanceof Tg?il(t._t,i._t):t instanceof Cg&&i instanceof Cg);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class bd extends pf{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ol extends pf{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function iN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function cw(n,e,t){const i=new Map;Ot(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,h=e.data.field(s.field);i.set(s.field,QA(c,h,t[r]))}return i}function O1(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,N1(s,c,e))}return i}class cc extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dw extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KR{constructor(e){this.count=e}}var Ki,on;function R1(n){switch(n){default:return nt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function P1(n){if(void 0===n)return Li("GRPC error has no .code"),pe.UNKNOWN;switch(n){case Ki.OK:return pe.OK;case Ki.CANCELLED:return pe.CANCELLED;case Ki.UNKNOWN:return pe.UNKNOWN;case Ki.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Ki.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Ki.INTERNAL:return pe.INTERNAL;case Ki.UNAVAILABLE:return pe.UNAVAILABLE;case Ki.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Ki.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Ki.NOT_FOUND:return pe.NOT_FOUND;case Ki.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Ki.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Ki.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Ki.ABORTED:return pe.ABORTED;case Ki.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Ki.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Ki.DATA_LOSS:return pe.DATA_LOSS;default:return nt()}}(on=Ki||(Ki={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class dc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ic(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}const YR=new di(Ze.comparator);function xs(){return YR}const My=new di(Ze.comparator);function Ig(...n){let e=My;for(const t of n)e=e.insert(t.key,t);return e}function No(n){let e=My;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function al(){return Sg()}function xy(){return Sg()}function Sg(){return new dc(n=>n.toString(),(n,e)=>n.isEqual(e))}const rN=new di(Ze.comparator),hw=new In(Ze.comparator);function Vt(...n){let e=hw;for(const t of n)e=e.add(t);return e}const k1=new In(Pt);function Oy(){return k1}class gf{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,mf.createSynthesizedTargetChangeForCurrentChange(e,t)),new gf(At.min(),i,Oy(),xs(),Vt())}}class mf{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new mf(wi.EMPTY_BYTE_STRING,t,Vt(),Vt(),Vt())}}class Ry{constructor(e,t,i,r){this.gt=e,this.removedTargetIds=t,this.key=i,this.yt=r}}class F1{constructor(e,t){this.targetId=e,this.It=t}}class Py{constructor(e,t,i=wi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Mo{constructor(){this.Tt=0,this.Et=L1(),this.At=wi.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Vt(),t=Vt(),i=Vt();return this.Et.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:nt()}}),new mf(this.At,this.Rt,e,t,i)}Dt(){this.bt=!1,this.Et=L1()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class sN{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=xs(),this.Bt=oN(),this.Lt=new In(Pt)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const i=this.Qt(t);switch(e.state){case 0:this.jt(t)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Ot(),i.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((i,r)=>{this.jt(r)&&t(r)})}zt(e){const t=e.targetId,i=e.It.count,r=this.Ht(t);if(r){const s=r.target;if(Cy(s))if(0===i){const c=new Ze(s.path);this.Kt(t,c,Mn.newNoDocument(c,At.min()))}else Ot(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((s,c)=>{const h=this.Ht(c);if(h){if(s.current&&Cy(h.target)){const p=new Ze(h.target.path);null!==this.$t.get(p)||this.Xt(c,p)||this.Kt(c,p,Mn.newNoDocument(p,e))}s.vt&&(t.set(c,s.St()),s.Dt())}});let i=Vt();this.Bt.forEach((s,c)=>{let h=!0;c.forEachWhile(p=>{const y=this.Ht(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.$t.forEach((s,c)=>c.setReadTime(e));const r=new gf(e,t,this.Lt,this.$t,i);return this.$t=xs(),this.Bt=oN(),this.Lt=new In(Pt),r}qt(e,t){if(!this.jt(e))return;const i=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,i){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Mo,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new In(Pt),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Mo),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function oN(){return new di(Ze.comparator)}function L1(){return new di(Ze.comparator)}const B1={asc:"ASCENDING",desc:"DESCENDING"},aN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class lN{constructor(e,t){this.databaseId=e,this.dt=t}}function _f(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U1(n,e){return n.dt?e.toBase64():e.toUint8Array()}function JR(n,e){return _f(n,e.toTimestamp())}function Yi(n){return Ot(!!n),At.fromTimestamp(function(e){const t=rc(e);return new Un(t.seconds,t.nanos)}(n))}function ky(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function V1(n){const e=Qt.fromString(n);return Ot(gw(e)),e}function Ag(n,e){return ky(n.databaseId,e.path)}function fa(n,e){const t=V1(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(j1(t))}function Ng(n,e){return ky(n.databaseId,e)}function Fy(n){const e=V1(n);return 4===e.length?Qt.emptyPath():j1(e)}function yf(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function j1(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fw(n,e,t){return{name:Ag(n,e),fields:t.value.mapValue.fields}}function pw(n,e,t){const i=fa(n,e.name),r=Yi(e.updateTime),s=new Mr({mapValue:{fields:e.fields}}),c=Mn.newFoundDocument(i,r,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Ly(n,e){let t;if(e instanceof bd)t={update:fw(n,e.key,e.value)};else if(e instanceof cc)t={delete:Ag(n,e.key)};else if(e instanceof ol)t={update:fw(n,e.key,e.data),updateMask:fN(e.fieldMask)};else{if(!(e instanceof dw))return nt();t={verify:Ag(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Cg)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof uc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ff)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Tg)return{fieldPath:s.field.canonicalString(),increment:c._t};throw nt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:JR(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:nt()),t;var r}function H1(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?hi.updateTime(Yi(r.updateTime)):void 0!==r.exists?hi.exists(r.exists):hi.none():hi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let h=null;"setToServerValue"in c?(Ot("REQUEST_TIME"===c.setToServerValue),h=new Cg):"appendMissingElements"in c?h=new uc(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new ff(c.removeAllFromArray.values||[]):"increment"in c?h=new Tg(s,c.increment):nt();const p=Bi.fromServerFormat(c.fieldPath);return new Sy(p,h)}(n,r)):[];var r;if(e.update){const r=fa(n,e.update.name),s=new Mr({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Nr((e.updateMask.fieldPaths||[]).map(y=>Bi.fromServerFormat(y)));return new ol(r,s,c,t,i)}return new bd(r,s,t,i)}if(e.delete){const r=fa(n,e.delete);return new cc(r,t)}if(e.verify){const r=fa(n,e.verify);return new dw(r,t)}return nt()}function $1(n,e){return{documents:[Ng(n,e.path)]}}function W1(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Ng(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ng(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(C=>function(D){if("=="===D.op){if(g1(D.value))return{unaryFilter:{field:Mg(D.field),op:"IS_NAN"}};if(p1(D.value))return{unaryFilter:{field:Mg(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(g1(D.value))return{unaryFilter:{field:Mg(D.field),op:"IS_NOT_NAN"}};if(p1(D.value))return{unaryFilter:{field:Mg(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mg(D.field),op:eP(D.op),value:D.value}}}(C));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:Mg((C=y).field),direction:XR(C.dir)};var C})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(y=e.limit,n.dt||pg(y)?y:{value:y});var y,h,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function q1(n){let e=Fy(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Ot(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let s=[];t.where&&(s=dN(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new lc(vf((D=C).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let h=null;t.limit&&(h=function(C){let D;return D="object"==typeof C?C.value:C,pg(D)?null:D}(t.limit));let p=null;var C;t.startAt&&(p=new ha((C=t.startAt).values||[],!!C.before));let y=null;return t.endAt&&(y=function(C){return new ha(C.values||[],!C.before)}(t.endAt)),vg(e,r,c,s,h,"F",p,y)}function dN(n){return n?void 0!==n.unaryFilter?[hN(n)]:void 0!==n.fieldFilter?[By(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>dN(e)).reduce((e,t)=>e.concat(t)):nt():[]}function XR(n){return B1[n]}function eP(n){return aN[n]}function Mg(n){return{fieldPath:n.canonicalString()}}function vf(n){return Bi.fromServerFormat(n.fieldPath)}function By(n){return xr.create(vf(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(n.fieldFilter.op),n.fieldFilter.value)}function hN(n){switch(n.unaryFilter.op){case"IS_NAN":const e=vf(n.unaryFilter.field);return xr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=vf(n.unaryFilter.field);return xr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vf(n.unaryFilter.field);return xr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=vf(n.unaryFilter.field);return xr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}function fN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gw(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ei(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Uy(e)),e=z1(n.get(t),e);return Uy(e)}function z1(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function Uy(n){return n+"\x01\x01"}function xo(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&nt(),n.charAt(c+1)){case"\x01":const h=n.substring(s,c);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:nt()}s=c+2}return new Qt(i)}const Z1=["userId","batchId"];function bf(n,e){return[n,Ei(e)]}function Vy(n,e,t){return[n,Ei(e),t]}const jy={},tP=["prefixPath","collectionGroup","readTime","documentId"],nP=["prefixPath","collectionGroup","documentId"],iP=["collectionGroup","readTime","prefixPath","documentId"],rP=["canonicalId","targetId"],K1=["targetId","path"],pN=["path","targetId"],gN=["collectionId","parent"],mN=["indexId","uid"],_N=["uid","sequenceNumber"],Y1=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],J1=["indexId","uid","orderedDocumentKey"],Q1=["userId","collectionPath","documentId"],yN=["userId","collectionPath","largestBatchId"],vN=["userId","collectionGroup","largestBatchId"],mw=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_w=[...mw,"documentOverlays"],bN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],yw=bN,vw=[...yw,"indexConfiguration","indexState","indexEntries"];class bw extends zb{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function ar(n,e){const t=Ke(n);return Io.N(t.ee,e)}class X1{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&x1(s,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ny(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Ny(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=xy();return this.mutations.forEach(r=>{const s=e.get(r.key),c=s.overlayedDocument;let h=this.applyToLocalView(c,s.mutatedFields);h=t.has(r.key)?null:h;const p=aw(c,h);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(At.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Vt())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,(t,i)=>uw(t,i))&&sf(this.baseMutations,e.baseMutations,(t,i)=>uw(t,i))}}class eD{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Ot(e.mutations.length===i.length);let r=rN;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new eD(e,t,i,r)}}class tD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hc{constructor(e,t,i,r,s=At.min(),c=At.min(),h=wi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new hc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class nD{constructor(e){this.ne=e}}function wN(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ww(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Ag(r=n.ne,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:_f(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:wf(e.version)};else{if(!e.isUnknownDocument())return nt();i.unknownDocument={path:t.path.toArray(),version:wf(e.version)}}var r,s;return i}function ww(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function wf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ef(n){const e=new Un(n.seconds,n.nanoseconds);return At.fromTimestamp(e)}function wd(n,e){const t=(e.baseMutations||[]).map(s=>H1(n.ne,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>H1(n.ne,s)),r=Un.fromMillis(e.localWriteTimeMs);return new X1(e.batchId,r,t,i)}function Hy(n){const e=Ef(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ef(n.lastLimboFreeSnapshotVersion):At.min();let i;var r;return void 0!==n.query.documents?(Ot(1===(r=n.query).documents.length),i=Ao(vd(Fy(r.documents[0])))):i=Ao(q1(n.query)),new hc(i,n.targetId,0,n.lastListenSequenceNumber,e,t,wi.fromBase64String(n.resumeToken))}function EN(n,e){const t=wf(e.snapshotVersion),i=wf(e.lastLimboFreeSnapshotVersion);let r;r=Cy(e.target)?$1(n.ne,e.target):W1(n.ne,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ac(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function iD(n){const e=q1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?rw(e,e.limit,"L"):e}function rD(n,e){return new tD(e.largestBatchId,H1(n.ne,e.overlayMutation))}function o(n,e){const t=e.path.lastSegment();return[n,Ei(e.path.popLast()),t]}function a(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:wf(i.readTime),documentKey:Ei(i.documentKey.path),largestBatchId:i.largestBatchId}}class u{getBundleMetadata(e,t){return d(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Ef(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return d(e).put({bundleId:(i=t).id,createTime:wf(Yi(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return f(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:iD(r.bundledQuery),readTime:Ef(r.readTime)};var r})}saveNamedQuery(e,t){return f(e).put({name:(i=t).name,readTime:wf(Yi(i.readTime)),bundledQuery:i.bundledQuery});var i}}function d(n){return ar(n,"bundles")}function f(n){return ar(n,"namedQueries")}class m{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new m(e,t.uid||"")}getOverlay(e,t){return b(e).get(o(this.userId,t)).next(i=>i?rD(this.wt,i):null)}getOverlays(e,t){const i=al();return de.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const h=new tD(t,c);r.push(this.ie(e,h))}),de.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Ei(c.getCollectionPath())));const s=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(b(e).W("collectionPathOverlayIndex",h))}),de.waitFor(s)}getOverlaysForCollection(e,t,i){const r=al(),s=Ei(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return b(e).K("collectionPathOverlayIndex",c).next(h=>{for(const p of h){const y=rD(this.wt,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=al();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return b(e).J({index:"collectionGroupOverlayIndex",range:h},(p,y,C)=>{const D=rD(this.wt,y);s.size()<r||D.largestBatchId===c?(s.set(D.getKey(),D),c=D.largestBatchId):C.done()}).next(()=>s)}ie(e,t){return b(e).put(function(i,r,s){const[c,h,p]=o(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ly(i.ne,s.mutation)}}(this.wt,this.userId,t))}}function b(n){return ar(n,"documentOverlays")}class E{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Yn(e.integerValue));else if("doubleValue"in e){const i=Yn(e.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),gg(i)?t.ae(0):t.ae(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(da(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Ey(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):nt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const i=e.fields||{};this.ce(t,55);for(const r of Object.keys(i))this.le(r,t),this.oe(i[r],t)}me(e,t){const i=e.values||[];this.ce(t,50);for(const r of i)this.oe(r,t)}_e(e,t){this.ce(t,37),Ze.fromName(e).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function T(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function N(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=T(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}E.ye=new E;class x{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=t.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(e){const t=this.Ve(e),i=N(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),i=N(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class U{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class W{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class X{constructor(){this.Me=new x,this.Fe=new U(this.Me),this.$e=new W(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class be{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new be(this.indexId,this.documentKey,this.arrayValue,i)}}function Le(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=qe(n.arrayValue,e.arrayValue),0!==t?t:(t=qe(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function qe(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class it{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(e){const t=ec(e);if(void 0!==t&&!this.Qe(t))return!1;const i=tc(e);let r=0,s=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const c=i[r];if(!this.je(this.Ke,c)||!this.We(this.Ue[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ue.length||!this.We(this.Ue[s++],c))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Se{constructor(){this.ze=new dt}addToCollectionParentIndex(e,t){return this.ze.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(Do.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(Do.min())}updateCollectionGroup(e,t,i){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class dt{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new In(Qt.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new In(Qt.comparator)).toArray()}}const $t=new Uint8Array(0);class mn{constructor(e,t){this.user=e,this.databaseId=t,this.He=new dt,this.Je=new dc(i=>ac(i),(i,r)=>rl(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const s={collectionId:i,parent:Ei(r)};return Os(e).put(s)}return de.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[Wb(t),""],!1,!0);return Os(e).K(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(xo(c.parent))}return i})}addFieldIndex(e,t){const i=Cf(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const s=i.add(r);if(t.indexState){const c=Ed(e);return s.next(h=>{c.put(a(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const i=Cf(e),r=Ed(e),s=pa(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=pa(e);let r=!0;const s=new Map;return de.forEach(this.Ye(t),c=>this.Xe(e,c).next(h=>{r&&(r=!!h),s.set(c,h)})).next(()=>{if(r){let c=Vt();const h=[];return de.forEach(s,(p,y)=>{var C;Fe("IndexedDbIndexManager",`Using index ${C=p,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${ac(t)}`);const D=function(ze,$e){const mt=ec($e);if(void 0===mt)return null;for(const Dt of Ty(ze,mt.fieldPath))switch(Dt.op){case"array-contains-any":return Dt.value.arrayValue.values||[];case"array-contains":return[Dt.value]}return null}(y,p),M=function(ze,$e){const mt=new Map;for(const Dt of tc($e))for(const Jt of Ty(ze,Dt.fieldPath))switch(Jt.op){case"==":case"in":mt.set(Dt.fieldPath.canonicalString(),Jt.value);break;case"not-in":case"!=":return mt.set(Dt.fieldPath.canonicalString(),Jt.value),Array.from(mt.values())}return null}(y,p),O=function(ze,$e){const mt=[];let Dt=!0;for(const Jt of tc($e)){const An=0===Jt.kind?ZA(ze,Jt.fieldPath,ze.startAt):cf(ze,Jt.fieldPath,ze.startAt);mt.push(An.value),Dt&&(Dt=An.inclusive)}return new ha(mt,Dt)}(y,p),B=function(ze,$e){const mt=[];let Dt=!0;for(const Jt of tc($e)){const An=0===Jt.kind?cf(ze,Jt.fieldPath,ze.endAt):ZA(ze,Jt.fieldPath,ze.endAt);mt.push(An.value),Dt&&(Dt=An.inclusive)}return new ha(mt,Dt)}(y,p),Z=this.Ze(p,y,O),ue=this.Ze(p,y,B),xe=this.tn(p,y,M),ke=this.en(p.indexId,D,Z,O.inclusive,ue,B.inclusive,xe);return de.forEach(ke,ze=>i.j(ze,t.limit).next($e=>{$e.forEach(mt=>{const Dt=Ze.fromSegments(mt.documentKey);c.has(Dt)||(c=c.add(Dt),h.push(Dt))})}))}).next(()=>h)}return de.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,i,r,s,c,h){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),y=p/(null!=t?t.length:1),C=[];for(let D=0;D<p;++D){const M=t?this.nn(t[D/y]):$t,O=this.sn(e,M,i[D%y],r),B=this.rn(e,M,s[D%y],c),Z=h.map(ue=>this.sn(e,M,ue,!0));C.push(...this.createRange(O,B,Z))}return C}sn(e,t,i,r){const s=new be(e,Ze.empty(),t,i);return r?s:s.Le()}rn(e,t,i,r){const s=new be(e,Ze.empty(),t,i);return r?s.Le():s}Xe(e,t){const i=new it(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const h of s)i.Ge(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let i=2;return de.forEach(this.Ye(t),r=>this.Xe(e,r).next(s=>{s?0!==i&&s.fields.length<function(c){let h=new In(Bi.comparator),p=!1;for(const y of c.filters){const C=y;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?p=!0:h=h.add(C.field))}for(const y of c.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(e,t){const i=new X;for(const r of tc(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.Be(r.kind);E.ye.re(s,c)}return i.Oe()}nn(e){const t=new X;return E.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const i=new X;return E.ye.re(au(this.databaseId,t),i.Be(function(r){const s=tc(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Oe()}tn(e,t,i){if(null===i)return[];let r=[];r.push(new X);let s=0;for(const c of tc(e)){const h=i[s++];for(const p of r)if(this.cn(t,c.fieldPath)&&yg(h))r=this.an(r,c,h);else{const y=p.Be(c.kind);E.ye.re(h,y)}}return this.hn(r)}Ze(e,t,i){return this.tn(e,t,i.position)}hn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Oe();return t}an(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const h of r){const p=new X;p.seed(h.Oe()),E.ye.re(c,p.Be(t.kind)),s.push(p)}return s}cn(e,t){return!!e.filters.find(i=>i instanceof xr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=Cf(e),r=Ed(e);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(s=>{const c=[];return de.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{c.push(function(y,C){const D=C?new py(C.sequenceNumber,new Do(Ef(C.readTime),new Ze(xo(C.documentKey)),C.largestBatchId)):py.empty(),M=y.fields.map(([O,B])=>new su(Bi.fromServerFormat(O),B));return new fy(y.indexId,y.collectionGroup,M,D)}(h,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Pt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=Cf(e),s=Ed(e);return this.ln(e).next(c=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>de.forEach(h,p=>s.put(a(p.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return de.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?de.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),de.forEach(h,p=>this.fn(e,r,p).next(y=>{const C=this.dn(s,p);return y.isEqual(C)?de.resolve():this._n(e,s,p,y,C)}))))})}wn(e,t,i,r){return pa(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(e,t,i,r){return pa(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(e,t,i){const r=pa(e);let s=new In(Le);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(c,h)=>{s=s.add(new be(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>s)}dn(e,t){let i=new In(Le);const r=this.on(t,e);if(null==r)return i;const s=ec(t);if(null!=s){const c=e.data.field(s.fieldPath);if(yg(c))for(const h of c.arrayValue.values||[])i=i.add(new be(t.indexId,e.key,this.nn(h),r))}else i=i.add(new be(t.indexId,e.key,$t,r));return i}_n(e,t,i,r,s){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,p,y,C,D){const M=h.getIterator(),O=p.getIterator();let B=af(M),Z=af(O);for(;B||Z;){let ue=!1,xe=!1;if(B&&Z){const ke=y(B,Z);ke<0?xe=!0:ke>0&&(ue=!0)}else null!=B?xe=!0:ue=!0;ue?(C(Z),Z=af(O)):xe?(D(B),B=af(M)):(B=af(M),Z=af(O))}}(r,s,Le,h=>{c.push(this.wn(e,t,i,h))},h=>{c.push(this.mn(e,t,i,h))}),de.waitFor(c)}ln(e){let t=1;return Ed(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>Le(c,h)).filter((c,h,p)=>!h||0!==Le(c,p[h-1]));const r=[];r.push(e);for(const c of i){const h=Le(c,e),p=Le(c,t);if(0===h)r[0]=e.Le();else if(h>0&&p<0)r.push(c),r.push(c.Le());else if(p>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,$t,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,$t,[]]));return s}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Gy)}getMinOffset(e,t){return de.mapArray(this.Ye(t),i=>this.Xe(e,i).next(r=>r||nt())).next(Gy)}}function Os(n){return ar(n,"collectionParents")}function pa(n){return ar(n,"indexEntries")}function Cf(n){return ar(n,"indexConfiguration")}function Ed(n){return ar(n,"indexState")}function Gy(n){Ot(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;gy(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new Do(e.readTime,e.documentKey,t)}const $y={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Gr(e,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Wy(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let h=0;const p=i.J({range:c},(C,D,M)=>(h++,M.delete()));s.push(p.next(()=>{Ot(1===h)}));const y=[];for(const C of t.mutations){const D=Vy(e,C.key.path,t.batchId);s.push(r.delete(D)),y.push(C.key)}return de.waitFor(s).next(()=>y)}function Tf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nt();e=n.noDocument}return JSON.stringify(e).length}Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(41943040,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);class Df{constructor(e,t,i,r){this.userId=e,this.wt=t,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(e,t,i,r){Ot(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Df(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return If(e).J({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=zy(e),c=If(e);return c.add({}).next(h=>{Ot("number"==typeof h);const p=new X1(h,t,i,r),y=function(M,O,B){const Z=B.baseMutations.map(xe=>Ly(M.ne,xe)),ue=B.mutations.map(xe=>Ly(M.ne,xe));return{userId:O,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:Z,mutations:ue}}(this.wt,this.userId,p),C=[];let D=new In((M,O)=>Pt(M.canonicalString(),O.canonicalString()));for(const M of r){const O=Vy(this.userId,M.key.path,h);D=D.add(M.key.path.popLast()),C.push(c.put(y)),C.push(s.put(O,jy))}return D.forEach(M=>{C.push(this.indexManager.addToCollectionParentIndex(e,M))}),e.addOnCommittedListener(()=>{this.gn[h]=p.keys()}),de.waitFor(C).next(()=>p)})}lookupMutationBatch(e,t){return If(e).get(t).next(i=>i?(Ot(i.userId===this.userId),wd(this.wt,i)):null)}yn(e,t){return this.gn[t]?de.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.gn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return If(e).J({index:"userMutationsIndex",range:r},(c,h,p)=>{h.userId===this.userId&&(Ot(h.batchId>=i),s=wd(this.wt,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return If(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return If(e).K("userMutationsIndex",t).next(i=>i.map(r=>wd(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=bf(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return zy(e).J({range:r},(c,h,p)=>{const[y,C,D]=c,M=xo(C);if(y===this.userId&&t.path.isEqual(M))return If(e).get(D).next(O=>{if(!O)throw nt();Ot(O.userId===this.userId),s.push(wd(this.wt,O))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(Pt);const r=[];return t.forEach(s=>{const c=bf(this.userId,s.path),h=IDBKeyRange.lowerBound(c),p=zy(e).J({range:h},(y,C,D)=>{const[M,O,B]=y,Z=xo(O);M===this.userId&&s.path.isEqual(Z)?i=i.add(B):D.done()});r.push(p)}),de.waitFor(r).next(()=>this.pn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=bf(this.userId,i),c=IDBKeyRange.lowerBound(s);let h=new In(Pt);return zy(e).J({range:c},(p,y,C)=>{const[D,M,O]=p,B=xo(M);D===this.userId&&i.isPrefixOf(B)?B.length===r&&(h=h.add(O)):C.done()}).next(()=>this.pn(e,h))}pn(e,t){const i=[],r=[];return t.forEach(s=>{r.push(If(e).get(s).next(c=>{if(null===c)throw nt();Ot(c.userId===this.userId),i.push(wd(this.wt,c))}))}),de.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return Wy(e.ee,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),de.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return de.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return zy(e).J({range:i},(s,c,h)=>{if(s[0]===this.userId){const p=xo(s[1]);r.push(p)}else h.done()}).next(()=>{Ot(0===r.length)})})}containsKey(e,t){return qy(e,this.userId,t)}Tn(e){return oP(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function qy(n,e,t){const i=bf(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return zy(n).J({range:s,H:!0},(h,p,y)=>{const[C,D,M]=h;C===e&&D===r&&(c=!0),y.done()}).next(()=>c)}function If(n){return ar(n,"mutations")}function zy(n){return ar(n,"documentMutations")}function oP(n){return ar(n,"mutationQueues")}class xg{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new xg(0)}static Rn(){return new xg(-1)}}class GV{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const i=new xg(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>At.fromTimestamp(new Un(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(e,i))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Zy(e).delete(t.targetId)).next(()=>this.bn(e)).next(i=>(Ot(i.targetCount>0),i.targetCount-=1,this.Pn(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return Zy(e).J((c,h)=>{const p=Hy(h);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>de.waitFor(s)).next(()=>r)}forEachTarget(e,t){return Zy(e).J((i,r)=>{const s=Hy(r);t(s)})}bn(e){return aP(e).get("targetGlobalKey").next(t=>(Ot(null!==t),t))}Pn(e,t){return aP(e).put("targetGlobalKey",t)}vn(e,t){return Zy(e).put(EN(this.wt,t))}Vn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=ac(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return Zy(e).J({range:r,index:"queryTargetsIndex"},(c,h,p)=>{const y=Hy(h);rl(t,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=Sf(e);return t.forEach(c=>{const h=Ei(c.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),de.waitFor(r)}removeMatchingKeys(e,t,i){const r=Sf(e);return de.forEach(t,s=>{const c=Ei(s.path);return de.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=Sf(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=Sf(e);let s=Vt();return r.J({range:i,H:!0},(c,h,p)=>{const y=xo(c[1]),C=new Ze(y);s=s.add(C)}).next(()=>s)}containsKey(e,t){const i=Ei(t.path),r=IDBKeyRange.bound([i],[Wb(i)],!1,!0);let s=0;return Sf(e).J({index:"documentTargetsIndex",H:!0,range:r},([c,h],p,y)=>{0!==c&&(s++,y.done())}).next(()=>s>0)}te(e,t){return Zy(e).get(t).next(i=>i?Hy(i):null)}}function Zy(n){return ar(n,"targets")}function aP(n){return ar(n,"targetGlobal")}function Sf(n){return ar(n,"targetDocuments")}function lP([n,e],[t,i]){const r=Pt(n,t);return 0===r?Pt(e,i):r}class $V{constructor(e){this.Sn=e,this.buffer=new In(lP),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();lP(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WV{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Fe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,_e.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){nc(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield tl(i)}yield t.kn(3e5)}))}}class qV{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return de.resolve(ds.ot);const i=new $V(t);return this.On.forEachTarget(e,r=>i.xn(r.sequenceNumber)).next(()=>this.On.Fn(e,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.On.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve($y)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$y):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let i,r,s,c,h,p,y;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,c=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,h=Date.now(),this.removeTargets(e,i,t))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(y=Date.now(),lg()<=os.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${D} documents in `+(y-p)+`ms\nTotal Duration: ${y-C}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class zV{constructor(e,t){this.db=e,this.garbageCollector=new qV(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Bn(e){let t=0;return this.Fn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(i,r)=>t(r))}addReference(e,t,i){return sD(e,i)}removeReference(e,t,i){return sD(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return sD(e,t)}Un(e,t){return function(i,r){let s=!1;return oP(i).Y(c=>qy(i,c,r).next(h=>(h&&(s=!0),de.resolve(!h)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Ln(e,(c,h)=>{if(h<=t){const p=this.Un(e,c).next(y=>{if(!y)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,At.min()),Sf(e).delete([0,Ei(c.path)])))});r.push(p)}}).next(()=>de.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return sD(e,t)}Ln(e,t){const i=Sf(e);let r,s=ds.ot;return i.J({index:"documentTargetsIndex"},([c,h],{path:p,sequenceNumber:y})=>{0===c?(s!==ds.ot&&t(new Ze(xo(r)),s),s=y,r=p):s=ds.ot}).next(()=>{s!==ds.ot&&t(new Ze(xo(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sD(n,e){return Sf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Ei(e.path),sequenceNumber:i}));var i}class uP{constructor(){this.changes=new dc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?de.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZV{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Og(e).put(i)}removeEntry(e,t,i){return Og(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],ww(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.qn(e,i)))}getEntry(e,t){let i=Mn.newInvalidDocument(t);return Og(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ew(t))},(r,s)=>{i=this.Kn(t,s)}).next(()=>i)}Gn(e,t){let i={size:0,document:Mn.newInvalidDocument(t)};return Og(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ew(t))},(r,s)=>{i={document:this.Kn(t,s),size:Tf(s)}}).next(()=>i)}getEntries(e,t){let i=xs();return this.Qn(e,t,(r,s)=>{const c=this.Kn(r,s);i=i.insert(r,c)}).next(()=>i)}jn(e,t){let i=xs(),r=new di(Ze.comparator);return this.Qn(e,t,(s,c)=>{const h=this.Kn(s,c);i=i.insert(s,h),r=r.insert(s,Tf(c))}).next(()=>({documents:i,Wn:r}))}Qn(e,t,i){if(t.isEmpty())return de.resolve();let r=new In(fP);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Ew(r.first()),Ew(r.last())),c=r.getIterator();let h=c.getNext();return Og(e).J({index:"documentKeyIndex",range:s},(p,y,C)=>{const D=Ze.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&fP(h,D)<0;)i(h,null),h=c.getNext();h&&h.isEqual(D)&&(i(h,y),h=c.hasNext()?c.getNext():null),h?C.q(Ew(h)):C.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),ww(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Og(e).K(IDBKeyRange.bound(r,s,!0)).next(c=>{let h=xs();for(const p of c){const y=this.Kn(Ze.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(e,t,i,r){let s=xs();const c=hP(t,i),h=hP(t,Do.max());return Og(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(p,y,C)=>{const D=this.Kn(Ze.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(D.key,D),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(e){return new KV(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return dP(e).get("remoteDocumentGlobalKey").next(t=>(Ot(!!t),t))}qn(e,t){return dP(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const i=function sP(n,e){let t;if(e.document)t=pw(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Ze.fromSegments(e.noDocument.path),r=Ef(e.noDocument.readTime);t=Mn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return nt();{const i=Ze.fromSegments(e.unknownDocument.path),r=Ef(e.unknownDocument.version);t=Mn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new Un(i[0],i[1]);return At.fromTimestamp(r)}(e.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(At.min()))return i}return Mn.newInvalidDocument(e)}}function cP(n){return new ZV(n)}class KV extends uP{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new dc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new In((s,c)=>Pt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const h=this.Hn.get(s);if(t.push(this.zn.removeEntry(e,s,h.readTime)),c.isValidDocument()){const p=wN(this.zn.wt,c);r=r.add(s.path.popLast()),i+=Tf(p)-h.size,t.push(this.zn.addEntry(e,s,p))}else if(i-=h.size,this.trackRemovals){const p=wN(this.zn.wt,c.convertToNoDocument(At.min()));t.push(this.zn.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.zn.updateMetadata(e,i)),de.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:i,Wn:r})=>(r.forEach((s,c)=>{this.Hn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function dP(n){return ar(n,"remoteDocumentGlobal")}function Og(n){return ar(n,"remoteDocumentsV14")}function Ew(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hP(n,e){const t=e.documentKey.path.toArray();return[n,ww(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fP(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=Pt(t[s],i[s]),r)return r;return r=Pt(t.length,i.length),r||(r=Pt(t[t.length-2],i[i.length-2]),r||Pt(t[t.length-1],i[i.length-1]))}class YV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pP{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&Ny(i.mutation,r,Nr.empty(),Un.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Vt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Vt()){const r=al();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let c=Ig();return s.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=al();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Vt()))}populateOverlays(e,t,i){const r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let s=xs();const c=Sg(),h=Sg();return t.forEach((p,y)=>{const C=i.get(y.key);r.has(y.key)&&(void 0===C||C.mutation instanceof ol)?s=s.insert(y.key,y):void 0!==C&&(c.set(y.key,C.mutation.getFieldMask()),Ny(C.mutation,y,C.mutation.getFieldMask(),Un.now()))}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((y,C)=>c.set(y,C)),t.forEach((y,C)=>{var D;return h.set(y,new YV(C,null!==(D=c.get(y))&&void 0!==D?D:null))}),h))}recalculateAndSaveOverlays(e,t){const i=Sg();let r=new di((c,h)=>c-h),s=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const y=t.get(p);if(null===y)return;let C=i.get(p)||Nr.empty();C=h.applyToLocalView(y,C),i.set(p,C);const D=(r.get(h.batchId)||Vt()).add(p);r=r.insert(h.batchId,D)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),y=p.key,C=p.value,D=xy();C.forEach(M=>{if(!s.has(M)){const O=aw(t.get(M),i.get(M));null!==O&&D.set(M,O),s=s.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,D))}return de.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Ze.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):C1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):de.resolve(al());let h=-1,p=s;return c.next(y=>de.forEach(y,(C,D)=>(h<D.largestBatchId&&(h=D.largestBatchId),s.get(C)?de.resolve():this.getBaseDocument(e,C,D).next(M=>{p=p.insert(C,M)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,p,y,Vt())).next(C=>({batchId:h,changes:No(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(i=>{let r=Ig();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let s=Ig();return this.indexManager.getCollectionParents(e,r).next(c=>de.forEach(c,h=>{const p=(y=t,C=h.child(r),new sl(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(y=>{y.forEach((C,D)=>{s=s.insert(C,D)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(s=>{s.forEach((h,p)=>{const y=p.getKey();null===r.get(y)&&(r=r.insert(y,Mn.newInvalidDocument(y)))});let c=Ig();return r.forEach((h,p)=>{const y=s.get(h);void 0!==y&&Ny(y.mutation,p,Nr.empty(),Un.now()),Iy(t,p)&&(c=c.insert(h,p))}),c})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):de.resolve(Mn.newInvalidDocument(t))}}class JV{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return de.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:Yi(i.createTime)}),de.resolve()}getNamedQuery(e,t){return de.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(i=t).name,query:iD(i.bundledQuery),readTime:Yi(i.readTime)}),de.resolve();var i}}class QV{constructor(){this.overlays=new di(Ze.comparator),this.Xn=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const i=al();return de.forEach(t,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ie(e,t,s)}),de.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(i)),de.resolve()}getOverlaysForCollection(e,t,i){const r=al(),s=t.length+1,c=new Ze(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return de.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new di((y,C)=>y-C);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let C=s.get(y.largestBatchId);null===C&&(C=al(),s=s.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const h=al(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,C)=>h.set(y,C)),!(h.size()>=r)););return de.resolve(h)}ie(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new tD(t,i));let s=this.Xn.get(t);void 0===s&&(s=Vt(),this.Xn.set(t,s)),this.Xn.set(t,s.add(i.key))}}class CN{constructor(){this.Zn=new In($r.ts),this.es=new In($r.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const i=new $r(e,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.rs(new $r(e,t))}os(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new Ze(new Qt([])),i=new $r(t,e),r=new $r(t,e+1),s=[];return this.es.forEachInRange([i,r],c=>{this.rs(c),s.push(c.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Ze(new Qt([])),i=new $r(t,e),r=new $r(t,e+1);let s=Vt();return this.es.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new $r(e,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class $r{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Ze.comparator(e.key,t.key)||Pt(e.ls,t.ls)}static ns(e,t){return Pt(e.ls,t.ls)||Ze.comparator(e.key,t.key)}}class XV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new In($r.ts)}checkEmpty(e){return de.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const s=this.fs;this.fs++;const c=new X1(s,t,i,r);this.mutationQueue.push(c);for(const h of r)this.ds=this.ds.add(new $r(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return de.resolve(c)}lookupMutationBatch(e,t){return de.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ws(t+1),s=r<0?0:r;return de.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $r(t,0),r=new $r(t,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([i,r],c=>{const h=this._s(c.ls);s.push(h)}),de.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new In(Pt);return t.forEach(r=>{const s=new $r(r,0),c=new $r(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,c],h=>{i=i.add(h.ls)})}),de.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Ze.isDocumentKey(s)||(s=s.child(""));const c=new $r(new Ze(s),0);let h=new In(Pt);return this.ds.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(h=h.add(p.ls)),!0)},c),de.resolve(this.gs(h))}gs(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Ot(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return de.forEach(t.mutations,r=>{const s=new $r(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,t){const i=new $r(t,0),r=this.ds.firstAfterOrEqual(i);return de.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return de.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ej{constructor(e){this.ps=e,this.docs=new di(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return de.resolve(i?i.document.mutableCopy():Mn.newInvalidDocument(t))}getEntries(e,t){let i=xs();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Mn.newInvalidDocument(r))}),de.resolve(i)}getAllFromCollection(e,t,i){let r=xs();const s=new Ze(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||gy(a1(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return de.resolve(r)}getAllFromCollectionGroup(e,t,i,r){nt()}Is(e,t){return de.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new tj(this)}getSize(e){return de.resolve(this.size)}}class tj extends uP{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(i)}),de.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class nj{constructor(e){this.persistence=e,this.Ts=new dc(t=>ac(t),rl),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.Es=0,this.As=new CN,this.targetCount=0,this.Rs=xg.An()}forEachTarget(e,t){return this.Ts.forEach((i,r)=>t(r)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),de.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new xg(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.vn(t),de.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Ts.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Ts.delete(c),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),de.waitFor(s).next(()=>r)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const i=this.Ts.get(t)||null;return de.resolve(i)}addMatchingKeys(e,t,i){return this.As.ss(t,i),de.resolve()}removeMatchingKeys(e,t,i){this.As.os(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),de.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),de.resolve()}getMatchingKeysForTargetId(e,t){const i=this.As.hs(t);return de.resolve(i)}containsKey(e,t){return de.resolve(this.As.containsKey(t))}}class gP{constructor(e,t){this.bs={},this.overlays={},this.Ps=new ds(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new nj(this),this.indexManager=new Se,this.remoteDocumentCache=new ej(i=>this.referenceDelegate.Ss(i)),this.wt=new nD(t),this.Ds=new JV(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.bs[e.toKey()];return i||(i=new XV(t,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,i){Fe("MemoryPersistence","Starting transaction:",e);const r=new ij(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(s=>this.referenceDelegate.xs(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ns(e,t){return de.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class ij extends zb{constructor(e){super(),this.currentSequenceNumber=e}}class oD{constructor(e){this.persistence=e,this.ks=new CN,this.Os=null}static Ms(e){return new oD(e)}get Fs(){if(this.Os)return this.Os;throw nt()}addReference(e,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),de.resolve()}removeReference(e,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),de.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Fs.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.Fs,i=>{const r=Ze.fromPath(i);return this.$s(e,r).next(s=>{s||t.removeEntry(r,At.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return de.or([()=>de.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class rj{constructor(e){this.wt=e}O(e,t,i,r){const s=new dg("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Z1,{unique:!0}),h.createObjectStore("documentMutations"),mP(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=de.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),mP(e)),c=c.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:At.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,p){return p.store("mutations").K().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Z1,{unique:!0});const C=p.store("mutations"),D=y.map(M=>C.put(M));return de.waitFor(D)})}(e,s))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Bs(s))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(s)))),i<7&&r>=7&&(c=c.next(()=>this.Us(s))),i<8&&r>=8&&(c=c.next(()=>this.qs(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Ks(s))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:Q1});p.createIndex("collectionPathOverlayIndex",yN,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",vN,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:tP});p.createIndex("documentKeyIndex",nP),p.createIndex("collectionGroupIndex",iP)}(e)).next(()=>this.Gs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.Qs(e,s))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:mN}).createIndex("sequenceNumberIndex",_N,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Y1}).createIndex("documentKeyIndex",J1,{unique:!1})}(e))),c}Ls(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=Tf(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.K().next(r=>de.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",c).next(h=>de.forEach(h,p=>{Ot(p.userId===s.userId);const y=wd(this.wt,p);return Wy(e,s.userId,y).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.J((c,h)=>{const p=new Qt(c),y=[0,Ei(p)];s.push(t.get(y).next(C=>C?de.resolve():t.put({targetId:0,path:Ei(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>de.waitFor(s))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:gN});const i=t.store("collectionParents"),r=new dt,s=c=>{if(r.add(c)){const h=c.lastSegment(),p=c.popLast();return i.put({collectionId:h,parent:Ei(p)})}};return t.store("remoteDocuments").J({H:!0},(c,h)=>{const p=new Qt(c);return s(p.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([c,h,p],y)=>{const C=xo(h);return s(C.popLast())}))}Ks(e){const t=e.store("targets");return t.J((i,r)=>{const s=Hy(r),c=EN(this.wt,s);return t.put(c)})}Gs(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((s,c)=>{const h=t.store("remoteDocumentsV14"),p=(y=c,y.document?new Ze(Qt.fromString(y.document.name).popFirst(5)):y.noDocument?Ze.fromSegments(y.noDocument.path):y.unknownDocument?Ze.fromSegments(y.unknownDocument.path):nt()).path.toArray();var y;const C={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(C))}).next(()=>de.waitFor(r))}Qs(e,t){const i=t.store("mutations"),r=cP(this.wt),s=new gP(oD.Ms,this.wt.ne);return i.K().next(c=>{const h=new Map;return c.forEach(p=>{var y;let C=null!==(y=h.get(p.userId))&&void 0!==y?y:Vt();wd(this.wt,p).keys().forEach(D=>C=C.add(D)),h.set(p.userId,C)}),de.forEach(h,(p,y)=>{const C=new Fi(y),D=m.se(this.wt,C),M=s.getIndexManager(C),O=Df.se(C,this.wt,M,s.referenceDelegate);return new pP(r,O,D,M).recalculateAndSaveOverlaysForDocumentKeys(new bw(t,ds.ot),p).next()})})}}function mP(n){n.createObjectStore("targetDocuments",{keyPath:K1}).createIndex("documentTargetsIndex",pN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rP,{unique:!0}),n.createObjectStore("targetGlobal")}const TN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DN{constructor(e,t,i,r,s,c,h,p,y,C,D=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.js=s,this.window=c,this.document=h,this.Ws=y,this.zs=C,this.Hs=D,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=M=>Promise.resolve(),!DN.V())throw new Ae(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zV(this,r),this.ei=t+"main",this.wt=new nD(p),this.ni=new Io(this.ei,this.Hs,new rj(this.wt)),this.Vs=new GV(this.referenceDelegate,this.wt),this.remoteDocumentCache=cP(this.wt),this.Ds=new u,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===C&&Li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ae(pe.FAILED_PRECONDITION,TN);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new ds(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var i=(0,_e.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,_e.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,_e.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>aD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(nc(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Cw(e).get("owner").next(t=>de.resolve(this.di(t)))}_i(e){return aD(e).delete(this.clientId)}wi(){var e=this;return(0,_e.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ar(i,"clientMetadata");return r.K().next(s=>{const c=e.gi(s,18e5),h=s.filter(p=>-1===c.indexOf(p));return de.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.si)for(const i of t)e.si.removeItem(e.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?de.resolve(!0):Cw(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Ae(pe.FAILED_PRECONDITION,TN);return!1}}return!(!this.networkEnabled||!this.inForeground)||aD(e).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,_e.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new bw(t,ds.ot);return e.li(i).next(()=>e._i(i))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>aD(e).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Df.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mn(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return m.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,i){Fe("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=15===(c=this.Hs)?vw:14===c?yw:13===c?bN:12===c?_w:11===c?mw:void nt();var c;let h;return this.ni.runTransaction(e,r,s,p=>(h=new bw(p,this.Ps?this.Ps.next():ds.ot),"readwrite-primary"===t?this.ai(h).next(y=>!!y||this.hi(h)).next(y=>{if(!y)throw Li(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ae(pe.FAILED_PRECONDITION,GA);return i(h)}).next(y=>this.fi(h).next(()=>y)):this.bi(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}bi(e){return Cw(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ae(pe.FAILED_PRECONDITION,TN)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cw(e).put("owner",t)}static V(){return Io.V()}li(e){const t=Cw(e);return t.get("owner").next(i=>this.di(i)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):de.resolve())}mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Li(`Detected an update time that is in the future: ${e} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,L.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Li("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Li("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(e){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cw(n){return ar(n,"owner")}function aD(n){return ar(n,"clientMetadata")}function IN(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class SN{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Pi=i,this.vi=r}static Vi(e,t){let i=Vt(),r=Vt();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new SN(e,t.fromCache,i,r)}}class _P{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ci(e,t).next(s=>s||this.xi(e,t,r,i)).next(s=>s||this.Ni(e,t))}Ci(e,t){return de.resolve(null)}xi(e,t,i,r){return function JA(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(At.min())?this.Ni(e,t):this.Di.getDocuments(e,i).next(s=>{const c=this.ki(t,s);return this.Oi(t,c,i,r)?this.Ni(e,t):(lg()<=os.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dy(t)),this.Mi(e,c,t,qb(r,-1)))})}ki(e,t){let i=new In(I1(e));return t.forEach((r,s)=>{Iy(e,s)&&(i=i.add(s))}),i}Oi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ni(e,t){return lg()<=os.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Dy(t)),this.Di.getDocumentsMatchingQuery(e,t,Do.min())}Mi(e,t,i,r){return this.Di.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class sj{constructor(e,t,i,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new di(Pt),this.Bi=new dc(s=>ac(s),rl),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pP(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function yP(n,e,t,i){return new sj(n,e,t,i)}function vP(n,e){return AN.apply(this,arguments)}function AN(){return AN=(0,_e.Z)(function*(n,e){const t=Ke(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.qi(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],h=[];let p=Vt();for(const y of r){c.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}for(const y of s){h.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ki:y,removedBatchIds:c,addedBatchIds:h}))})})}),AN.apply(this,arguments)}function oj(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.Ui.newChangeBuffer({trackRemovals:!0});return function(c,h,p,y){const C=p.batch,D=C.keys();let M=de.resolve();return D.forEach(O=>{M=M.next(()=>y.getEntry(h,O)).next(B=>{const Z=p.docVersions.get(O);Ot(null!==Z),B.version.compareTo(Z)<0&&(C.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),y.addEntry(B)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(h,C))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Vt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function bP(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function aj(n,e){const t=Ke(n),i=e.snapshotVersion;let r=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.Ui.newChangeBuffer({trackRemovals:!0});r=t.$i;const h=[];e.targetChanges.forEach((C,D)=>{const M=r.get(D);if(!M)return;h.push(t.Vs.removeMatchingKeys(s,C.removedDocuments,D).next(()=>t.Vs.addMatchingKeys(s,C.addedDocuments,D)));let O=M.withSequenceNumber(s.currentSequenceNumber);var B,Z,ue;e.targetMismatches.has(D)?O=O.withResumeToken(wi.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):C.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(C.resumeToken,i)),r=r.insert(D,O),Z=O,ue=C,(0===(B=M).resumeToken.approximateByteSize()||Z.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0)&&h.push(t.Vs.updateTargetData(s,O))});let p=xs(),y=Vt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,C))}),h.push(wP(s,c,e.documentUpdates).next(C=>{p=C.Gi,y=C.Qi})),!i.isEqual(At.min())){const C=t.Vs.getLastRemoteSnapshotVersion(s).next(D=>t.Vs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(C)}return de.waitFor(h).next(()=>c.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,p,y)).next(()=>p)}).then(s=>(t.$i=r,s))}function wP(n,e,t){let i=Vt(),r=Vt();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let c=xs();return t.forEach((h,p)=>{const y=s.get(h);p.isFoundDocument()!==y.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(At.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||0===p.version.compareTo(y.version)&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):Fe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",y.version," Watch version:",p.version)}),{Gi:c,Qi:r}})}function lj(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Ky(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Vs.getTargetData(i,e).next(s=>s?(r=s,de.resolve(r)):t.Vs.allocateTargetId(i).next(c=>(r=new hc(e,c,0,i.currentSequenceNumber),t.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(e,i.targetId)),i})}function Yy(n,e,t){return NN.apply(this,arguments)}function NN(){return NN=(0,_e.Z)(function*(n,e,t){const i=Ke(n),r=i.$i.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!nc(c))throw c;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}),NN.apply(this,arguments)}function lD(n,e,t){const i=Ke(n);let r=At.min(),s=Vt();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,p,y){const C=Ke(h),D=C.Bi.get(y);return void 0!==D?de.resolve(C.$i.get(D)):C.Vs.getTargetData(p,y)}(i,c,Ao(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(c,h.targetId).next(p=>{s=p})}).next(()=>i.Fi.getDocumentsMatchingQuery(c,e,t?r:At.min(),t?s:Vt())).next(h=>(TP(i,D1(e),h),{documents:h,ji:s})))}function EP(n,e){const t=Ke(n),i=Ke(t.Vs),r=t.$i.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.te(s,e).next(c=>c?c.target:null))}function CP(n,e){const t=Ke(n),i=t.Li.get(e)||At.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ui.getAllFromCollectionGroup(r,e,qb(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(TP(t,e,r),r))}function TP(n,e,t){let i=At.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Li.set(e,i)}function MN(){return MN=(0,_e.Z)(function*(n,e,t,i){const r=Ke(n);let s=Vt(),c=xs();for(const y of t){const C=e.Wi(y.metadata.name);y.document&&(s=s.add(C));const D=e.zi(y);D.setReadTime(e.Hi(y.metadata.readTime)),c=c.insert(C,D)}const h=r.Ui.newChangeBuffer({trackRemovals:!0}),p=yield Ky(r,(y=i,Ao(vd(Qt.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>wP(y,h,c).next(C=>(h.apply(y),C)).next(C=>r.Vs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.Vs.addMatchingKeys(y,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(y,C.Gi,C.Qi)).next(()=>C.Gi)))}),MN.apply(this,arguments)}function cj(n,e){return xN.apply(this,arguments)}function xN(){return xN=(0,_e.Z)(function*(n,e,t=Vt()){const i=yield Ky(n,Ao(iD(e.bundledQuery))),r=Ke(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Yi(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ds.saveNamedQuery(s,e);const h=i.withResumeToken(wi.EMPTY_BYTE_STRING,c);return r.$i=r.$i.insert(h.targetId,h),r.Vs.updateTargetData(s,h).next(()=>r.Vs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Vs.addMatchingKeys(s,t,i.targetId)).next(()=>r.Ds.saveNamedQuery(s,e))})}),xN.apply(this,arguments)}function DP(n,e){return`firestore_clients_${n}_${e}`}function IP(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function ON(n,e){return`firestore_targets_${n}_${e}`}class uD{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Ae(r.error.code,r.error.message))),c?new uD(e,t,r.state,s):(Li("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Tw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Ae(i.error.code,i.error.message))),s?new Tw(e,i.state,r):(Li("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=Oy();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=Yb(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new cD(e,s):(Li("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class RN{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new RN(t.clientId,t.onlineState):(Li("SharedClientState",`Failed to parse online state: ${e}`),null)}}class PN{constructor(){this.activeTargetIds=Oy()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kN{constructor(e,t,i,r,s){this.window=e,this.js=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new di(Pt),this.started=!1,this.ir=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.rr=DP(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new PN),this.cr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,_e.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const s=e.getItem(DP(e.persistenceKey,r));if(s){const c=cD.Ji(r,s);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ON(this.persistenceKey,e));if(i){const r=Tw.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ON(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Fe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,_e.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(s){let c=ds.ot;if(null!=s)try{const h=JSON.parse(s);Ot("number"==typeof h),c=h}catch(h){Li("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==ds.ot&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Nr(s)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new uD(this.currentUser,e,t,i),s=IP(this.persistenceKey,this.currentUser,e);this.setItem(s,r.Yi())}pr(e){const t=IP(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=ON(this.persistenceKey,e),s=new Tw(e,t,i);this.setItem(r,s.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return cD.Ji(i,t)}vr(e,t){const i=this.ar.exec(e),r=Number(i[1]);return uD.Ji(new Fi(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return Tw.Ji(r,t)}wr(e){return RN.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,_e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),s=this.gr(i),c=[],h=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Mr(c,h).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Oy();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class SP{constructor(){this.Fr=new PN,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new PN,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dj{Br(e){}shutdown(){}}class AP{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const hj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class fj{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class pj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,s){const c=this.oo(e,t);Fe("RestConnection","Sending: ",c,i);const h={};return this.uo(h,r,s),this.co(e,c,h,i).then(p=>(Fe("RestConnection","Received: ",p),p),p=>{throw rf("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}ao(e,t,i,r,s){return this.ro(e,t,i,r,s)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+nf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}oo(e,t){return`${this.so}/v1/${t}:${hj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((s,c)=>{const h=new jb;h.listenOnce(Vb.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Ub.NO_ERROR:const y=h.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(y)),s(y);break;case Ub.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),c(new Ae(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Ub.HTTP_ERROR:const C=h.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',C,"response text:",h.getResponseText()),C>0){const D=h.getResponseJson().error;if(D&&D.status&&D.message){const M=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(B)>=0?B:pe.UNKNOWN}(D.status);c(new Ae(M,D.message))}else c(new Ae(pe.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ae(pe.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);h.send(t,"POST",p,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=XT(),c=e1(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new kA({})),this.uo(h.initMessageHeaders,t,i),(0,L.uI)()||(0,L.b$)()||(0,L.d)()||(0,L.w1)()||(0,L.Mn)()||(0,L.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Fe("Connection","Creating WebChannel: "+p,h);const y=s.createWebChannel(p,h);let C=!1,D=!1;const M=new fj({jr:B=>{D?Fe("Connection","Not sending because WebChannel is closed:",B):(C||(Fe("Connection","Opening WebChannel transport."),y.open(),C=!0),Fe("Connection","WebChannel sending:",B),y.send(B))},Wr:()=>y.close()}),O=(B,Z,ue)=>{B.listen(Z,xe=>{try{ue(xe)}catch(ke){setTimeout(()=>{throw ke},0)}})};return O(y,tf.EventType.OPEN,()=>{D||Fe("Connection","WebChannel transport opened.")}),O(y,tf.EventType.CLOSE,()=>{D||(D=!0,Fe("Connection","WebChannel transport closed"),M.eo())}),O(y,tf.EventType.ERROR,B=>{D||(D=!0,rf("Connection","WebChannel transport errored:",B),M.eo(new Ae(pe.UNAVAILABLE,"The operation could not be completed")))}),O(y,tf.EventType.MESSAGE,B=>{var Z;if(!D){const ue=B.data[0];Ot(!!ue);const xe=ue,ke=xe.error||(null===(Z=xe[0])||void 0===Z?void 0:Z.error);if(ke){Fe("Connection","WebChannel received error:",ke);const ze=ke.status;let $e=function(Dt){const Jt=Ki[Dt];if(void 0!==Jt)return P1(Jt)}(ze),mt=ke.message;void 0===$e&&($e=pe.INTERNAL,mt="Unknown error status: "+ze+" with message "+ke.message),D=!0,M.eo(new Ae($e,mt)),y.close()}else Fe("Connection","WebChannel received:",ue),M.no(ue)}}),O(c,t1.STAT_EVENT,B=>{B.stat===n1.PROXY?Fe("Connection","Detected buffering proxy"):B.stat===n1.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.Zr()},0),M}}function NP(){return"undefined"!=typeof window?window:null}function dD(){return"undefined"!=typeof document?document:null}function Dw(n){return new lN(n,!0)}class FN{constructor(e,t,i=1e3,r=1.5,s=6e4){this.js=e,this.timerId=t,this.lo=i,this.fo=r,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&Fe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class MP{constructor(e,t,i,r,s,c,h,p){this.js=e,this.Ao=i,this.Ro=r,this.bo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new FN(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,_e.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,_e.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,_e.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===pe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new Ae(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,_e.Z)(function*(){e.state=0,e.start()}))}qo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gj extends MP{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.wt=s}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function cN(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:nt(),r=e.targetChange.targetIds||[],s=function(p,y){return p.dt?(Ot(void 0===y||"string"==typeof y),wi.fromBase64String(y||"")):(Ot(void 0===y||y instanceof Uint8Array),wi.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(p){const y=void 0===p.code?pe.UNKNOWN:P1(p.code);return new Ae(y,p.message||"")}(c);t=new Py(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=fa(n,i.document.name),s=Yi(i.document.updateTime),c=new Mr({mapValue:{fields:i.document.fields}}),h=Mn.newFoundDocument(r,s,c);t=new Ry(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const i=e.documentDelete,r=fa(n,i.document),s=i.readTime?Yi(i.readTime):At.min(),c=Mn.newNoDocument(r,s);t=new Ry([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=fa(n,i.document);t=new Ry([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return nt();{const i=e.filter,s=new KR(i.count||0);t=new F1(i.targetId,s)}}var p;return t}(this.wt,e),i=function(r){if(!("targetChange"in r))return At.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?At.min():s.readTime?Yi(s.readTime):At.min()}(e);return this.listener.Go(t,i)}Qo(e){const t={};t.database=yf(this.wt),t.addTarget=function(r,s){let c;const h=s.target;return c=Cy(h)?{documents:$1(r,h)}:{query:W1(r,h)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=U1(r,s.resumeToken):s.snapshotVersion.compareTo(At.min())>0&&(c.readTime=_f(r,s.snapshotVersion.toTimestamp())),c}(this.wt,e);const i=function QR(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Mo(t)}jo(e){const t={};t.database=yf(this.wt),t.removeTarget=e,this.Mo(t)}}class mj extends MP{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function G1(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(i,r){let s=Yi(i.updateTime?i.updateTime:r);return s.isEqual(At.min())&&(s=Yi(r)),new Ay(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Yi(e.commitTime);return this.listener.Jo(i,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=yf(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Ly(this.wt,i))};this.Mo(t)}}class _j extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ae(pe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ro(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ae(pe.UNKNOWN,r.toString())})}ao(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.bo.ao(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ae(pe.UNKNOWN,r.toString())})}terminate(){this.Zo=!0}}class yj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Li(t),this.su=!1):Fe("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class vj{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(h=>{i.enqueueAndForget((0,_e.Z)(function*(){var p;Af(c)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,_e.Z)(function*(y){const C=Ke(y);C.lu.add(4),yield Jy(C),C._u.set("Unknown"),C.lu.delete(4),yield Iw(C)}),function(y){return p.apply(this,arguments)})(c))}))}),this._u=new yj(i,r)}}function Iw(n){return LN.apply(this,arguments)}function LN(){return LN=(0,_e.Z)(function*(n){if(Af(n))for(const e of n.fu)yield e(!0)}),LN.apply(this,arguments)}function Jy(n){return BN.apply(this,arguments)}function BN(){return BN=(0,_e.Z)(function*(n){for(const e of n.fu)yield e(!1)}),BN.apply(this,arguments)}function hD(n,e){const t=Ke(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),jN(t)?VN(t):Xy(t).Co()&&UN(t,e))}function Sw(n,e){const t=Ke(n),i=Xy(t);t.hu.delete(e),i.Co()&&xP(t,e),0===t.hu.size&&(i.Co()?i.ko():Af(t)&&t._u.set("Unknown"))}function UN(n,e){n.wu.Nt(e.targetId),Xy(n).Qo(e)}function xP(n,e){n.wu.Nt(e),Xy(n).jo(e)}function VN(n){n.wu=new sN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),Xy(n).start(),n._u.iu()}function jN(n){return Af(n)&&!Xy(n).Do()&&n.hu.size>0}function Af(n){return 0===Ke(n).lu.size}function OP(n){n.wu=void 0}function bj(n){return HN.apply(this,arguments)}function HN(){return HN=(0,_e.Z)(function*(n){n.hu.forEach((e,t)=>{UN(n,e)})}),HN.apply(this,arguments)}function wj(n,e){return GN.apply(this,arguments)}function GN(){return GN=(0,_e.Z)(function*(n,e){OP(n),jN(n)?(n._u.uu(e),VN(n)):n._u.set("Unknown")}),GN.apply(this,arguments)}function Ej(n,e,t){return $N.apply(this,arguments)}function $N(){return $N=(0,_e.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Py&&2===e.state&&e.cause)try{yield(i=(0,_e.Z)(function*(r,s){const c=s.cause;for(const h of s.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield fD(n,i)}else if(e instanceof Ry?n.wu.Ut(e):e instanceof F1?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(At.min()))try{const i=yield bP(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.wu.Yt(s);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=r.hu.get(p);y&&r.hu.set(p,y.withResumeToken(h.resumeToken,s))}}),c.targetMismatches.forEach(h=>{const p=r.hu.get(h);if(!p)return;r.hu.set(h,p.withResumeToken(wi.EMPTY_BYTE_STRING,p.snapshotVersion)),xP(r,h);const y=new hc(p.target,h,1,p.sequenceNumber);UN(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Fe("RemoteStore","Failed to raise snapshot:",i),yield fD(n,i)}var i}),$N.apply(this,arguments)}function fD(n,e,t){return WN.apply(this,arguments)}function WN(){return WN=(0,_e.Z)(function*(n,e,t){if(!nc(e))throw e;n.lu.add(1),yield Jy(n),n._u.set("Offline"),t||(t=()=>bP(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Iw(n)}))}),WN.apply(this,arguments)}function RP(n,e){return e().catch(t=>fD(n,t,e))}function Qy(n){return qN.apply(this,arguments)}function qN(){return qN=(0,_e.Z)(function*(n){const e=Ke(n),t=Nf(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;Cj(e);)try{const r=yield lj(e.localStore,i);if(null===r){0===e.au.length&&t.ko();break}i=r.batchId,Tj(e,r)}catch(r){yield fD(e,r)}PP(e)&&kP(e)}),qN.apply(this,arguments)}function Cj(n){return Af(n)&&n.au.length<10}function Tj(n,e){n.au.push(e);const t=Nf(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function PP(n){return Af(n)&&!Nf(n).Do()&&n.au.length>0}function kP(n){Nf(n).start()}function Dj(n){return zN.apply(this,arguments)}function zN(){return zN=(0,_e.Z)(function*(n){Nf(n).Xo()}),zN.apply(this,arguments)}function Ij(n){return ZN.apply(this,arguments)}function ZN(){return ZN=(0,_e.Z)(function*(n){const e=Nf(n);for(const t of n.au)e.Ho(t.mutations)}),ZN.apply(this,arguments)}function Sj(n,e,t){return KN.apply(this,arguments)}function KN(){return KN=(0,_e.Z)(function*(n,e,t){const i=n.au.shift(),r=eD.from(i,e,t);yield RP(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Qy(n)}),KN.apply(this,arguments)}function Aj(n,e){return YN.apply(this,arguments)}function YN(){return YN=(0,_e.Z)(function*(n,e){var t;e&&Nf(n).zo&&(yield(t=(0,_e.Z)(function*(i,r){if(R1(s=r.code)&&s!==pe.ABORTED){const c=i.au.shift();Nf(i).No(),yield RP(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Qy(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),PP(n)&&kP(n)}),YN.apply(this,arguments)}function FP(n,e){return JN.apply(this,arguments)}function JN(){return JN=(0,_e.Z)(function*(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const i=Af(t);t.lu.add(3),yield Jy(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Iw(t)}),JN.apply(this,arguments)}function QN(n,e){return XN.apply(this,arguments)}function XN(){return XN=(0,_e.Z)(function*(n,e){const t=Ke(n);e?(t.lu.delete(2),yield Iw(t)):e||(t.lu.add(2),yield Jy(t),t._u.set("Unknown"))}),XN.apply(this,arguments)}function Xy(n){return n.mu||(n.mu=function(e,t,i){const r=Ke(e);return r.tu(),new gj(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:bj.bind(null,n),Jr:wj.bind(null,n),Go:Ej.bind(null,n)}),n.fu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.mu.No(),jN(n)?VN(n):n._u.set("Unknown")):(yield n.mu.stop(),OP(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Nf(n){return n.gu||(n.gu=function(e,t,i){const r=Ke(e);return r.tu(),new mj(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:Dj.bind(null,n),Jr:Aj.bind(null,n),Yo:Ij.bind(null,n),Jo:Sj.bind(null,n)}),n.fu.push(function(){var e=(0,_e.Z)(function*(t){t?(n.gu.No(),yield Qy(n)):(yield n.gu.stop(),n.au.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class eM{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,h=new eM(e,t,c,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ev(n,e){if(Li("AsyncQueue",`${e}: ${n}`),nc(n))return new Ae(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class tv{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ze.comparator(t.key,i.key):(t,i)=>Ze.comparator(t.key,i.key),this.keyedMap=Ig(),this.sortedSet=new di(this.comparator)}static emptySet(e){return new tv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new tv;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class LP{constructor(){this.yu=new di(Ze.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):nt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class nv{constructor(e,t,i,r,s,c,h,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new nv(e,t,tv.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Nj{constructor(){this.Iu=void 0,this.listeners=[]}}class Mj{constructor(){this.queries=new dc(e=>T1(e),hf),this.onlineState="Unknown",this.Tu=new Set}}function tM(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,_e.Z)(function*(n,e){const t=Ke(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Nj),r)try{s.Iu=yield t.onListen(i)}catch(c){const h=ev(c,`Initialization of query '${Dy(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,s),s.listeners.push(e),e.Eu(t.onlineState),s.Iu&&e.Au(s.Iu)&&sM(t)}),nM.apply(this,arguments)}function iM(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,_e.Z)(function*(n,e){const t=Ke(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),rM.apply(this,arguments)}function xj(n,e){const t=Ke(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.Au(r)&&(i=!0);c.Iu=r}}i&&sM(t)}function Oj(n,e,t){const i=Ke(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function sM(n){n.Tu.forEach(e=>{e.next()})}class oM{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new nv(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=nv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Rj{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class BP{constructor(e){this.wt=e}Wi(e){return fa(this.wt,e)}zi(e){return e.metadata.exists?pw(this.wt,e.document,!1):Mn.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Yi(e)}}class Pj{constructor(e,t,i){this.xu=e,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=UP(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new BP(this.wt);for(const r of e)if(r.metadata.queries){const s=i.Wi(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||Vt()).add(s);t.set(c,h)}}return t}complete(){var e=this;return(0,_e.Z)(function*(){const t=yield function uj(n,e,t,i){return MN.apply(this,arguments)}(e.localStore,new BP(e.wt),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield cj(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function UP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class VP{constructor(e){this.key=e}}class jP{constructor(e){this.key=e}}class HP{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Vt(),this.mutatedKeys=Vt(),this.Lu=I1(e),this.Uu=new tv(this.Lu)}get qu(){return this.Fu}Ku(e,t){const i=t?t.Gu:new LP,r=t?t.Uu:this.Uu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,D)=>{const M=r.get(C),O=Iy(this.query,D)?D:null,B=!!M&&this.mutatedKeys.has(M.key),Z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let ue=!1;M&&O?M.data.isEqual(O.data)?B!==Z&&(i.track({type:3,doc:O}),ue=!0):this.Qu(M,O)||(i.track({type:2,doc:O}),ue=!0,(p&&this.Lu(O,p)>0||y&&this.Lu(O,y)<0)&&(h=!0)):!M&&O?(i.track({type:0,doc:O}),ue=!0):M&&!O&&(i.track({type:1,doc:M}),ue=!0,(p||y)&&(h=!0)),ue&&(O?(c=c.add(O),s=Z?s.add(C):s.delete(C)):(c=c.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{Uu:c,Gu:i,Oi:h,mutatedKeys:s}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((y,C)=>function(D,M){const O=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return O(D)-O(M)}(y.type,C.type)||this.Lu(y.doc,C.doc)),this.ju(i);const c=t?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,p=h!==this.$u;return this.$u=h,0!==s.length||p?{snapshot:new nv(this.query,e.Uu,r,s,e.mutatedKeys,0===h,p,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new LP,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Vt(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new jP(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new VP(i))}),t}Ju(e){this.Fu=e.ji,this.Bu=Vt();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return nv.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class kj{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Fj{constructor(e){this.key=e,this.Xu=!1}}class Lj{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Zu={},this.tc=new dc(h=>T1(h),hf),this.ec=new Map,this.nc=new Set,this.sc=new di(Ze.comparator),this.ic=new Map,this.rc=new CN,this.oc={},this.uc=new Map,this.cc=xg.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Bj(n,e){return aM.apply(this,arguments)}function aM(){return aM=(0,_e.Z)(function*(n,e){const t=MM(n);let i,r;const s=t.tc.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.Yu();else{const c=yield Ky(t.localStore,Ao(e));t.isPrimaryClient&&hD(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield lM(t,e,i,"current"===h)}return r}),aM.apply(this,arguments)}function lM(n,e,t,i){return uM.apply(this,arguments)}function uM(){return uM=(0,_e.Z)(function*(n,e,t,i){n.hc=(C,D,M)=>{return(O=(0,_e.Z)(function*(B,Z,ue,xe){let ke=Z.view.Ku(ue);ke.Oi&&(ke=yield lD(B.localStore,Z.query,!1).then(({documents:mt})=>Z.view.Ku(mt,ke)));const ze=xe&&xe.targetChanges.get(Z.targetId),$e=Z.view.applyChanges(ke,B.isPrimaryClient,ze);return vM(B,Z.targetId,$e.zu),$e.snapshot}),function(B,Z,ue,xe){return O.apply(this,arguments)})(n,C,D,M);var O};const r=yield lD(n.localStore,e,!0),s=new HP(e,r.ji),c=s.Ku(r.documents),h=mf.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,h);vM(n,t,p.zu);const y=new kj(e,t,s);return n.tc.set(e,y),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),p.snapshot}),uM.apply(this,arguments)}function Uj(n,e){return cM.apply(this,arguments)}function cM(){return cM=(0,_e.Z)(function*(n,e){const t=Ke(n),i=t.tc.get(e),r=t.ec.get(i.targetId);if(r.length>1)return t.ec.set(i.targetId,r.filter(s=>!hf(s,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Yy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Sw(t.remoteStore,i.targetId),iv(t,i.targetId)}).catch(tl))):(iv(t,i.targetId),yield Yy(t.localStore,i.targetId,!0))}),cM.apply(this,arguments)}function dM(){return dM=(0,_e.Z)(function*(n,e,t){const i=xM(n);try{const r=yield function(s,c){const h=Ke(s),p=Un.now(),y=c.reduce((M,O)=>M.add(O.key),Vt());let C,D;return h.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=xs(),B=Vt();return h.Ui.getEntries(M,y).next(Z=>{O=Z,O.forEach((ue,xe)=>{xe.isValidDocument()||(B=B.add(ue))})}).next(()=>h.localDocuments.getOverlayedDocuments(M,O)).next(Z=>{C=Z;const ue=[];for(const xe of c){const ke=lw(xe,C.get(xe.key).overlayedDocument);null!=ke&&ue.push(new ol(xe.key,ke,Xb(ke.value.mapValue),hi.exists(!0)))}return h.mutationQueue.addMutationBatch(M,p,ue,c)}).next(Z=>{D=Z;const ue=Z.applyToLocalDocumentSet(C,B);return h.documentOverlayCache.saveOverlays(M,Z.batchId,ue)})}).then(()=>({batchId:D.batchId,changes:No(C)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,h){let p=s.oc[s.currentUser.toKey()];p||(p=new di(Pt)),p=p.insert(c,h),s.oc[s.currentUser.toKey()]=p}(i,r.batchId,t),yield Cd(i,r.changes),yield Qy(i.remoteStore)}catch(r){const s=ev(r,"Failed to persist write");t.reject(s)}}),dM.apply(this,arguments)}function GP(n,e){return hM.apply(this,arguments)}function hM(){return hM=(0,_e.Z)(function*(n,e){const t=Ke(n);try{const i=yield aj(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.ic.get(s);c&&(Ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.Xu=!0:r.modifiedDocuments.size>0?Ot(c.Xu):r.removedDocuments.size>0&&(Ot(c.Xu),c.Xu=!1))}),yield Cd(t,i,e)}catch(i){yield tl(i)}}),hM.apply(this,arguments)}function $P(n,e,t){const i=Ke(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.tc.forEach((s,c)=>{const h=c.view.Eu(e);h.snapshot&&r.push(h.snapshot)}),function(s,c){const h=Ke(s);h.onlineState=c;let p=!1;h.queries.forEach((y,C)=>{for(const D of C.listeners)D.Eu(c)&&(p=!0)}),p&&sM(h)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function jj(n,e,t){return fM.apply(this,arguments)}function fM(){return fM=(0,_e.Z)(function*(n,e,t){const i=Ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ic.get(e),s=r&&r.key;if(s){let c=new di(Ze.comparator);c=c.insert(s,Mn.newNoDocument(s,At.min()));const h=Vt().add(s),p=new gf(At.min(),new Map,new In(Pt),c,h);yield GP(i,p),i.sc=i.sc.remove(s),i.ic.delete(e),bM(i)}else yield Yy(i.localStore,e,!1).then(()=>iv(i,e,t)).catch(tl)}),fM.apply(this,arguments)}function Hj(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,_e.Z)(function*(n,e){const t=Ke(n),i=e.batch.batchId;try{const r=yield oj(t.localStore,e);yM(t,i,null),_M(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Cd(t,r)}catch(r){yield tl(r)}}),pM.apply(this,arguments)}function Gj(n,e,t){return gM.apply(this,arguments)}function gM(){return gM=(0,_e.Z)(function*(n,e,t){const i=Ke(n);try{const r=yield function(s,c){const h=Ke(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,c).next(C=>(Ot(null!==C),y=C.keys(),h.mutationQueue.removeMutationBatch(p,C))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(i.localStore,e);yM(i,e,t),_M(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Cd(i,r)}catch(r){yield tl(r)}}),gM.apply(this,arguments)}function mM(){return mM=(0,_e.Z)(function*(n,e){const t=Ke(n);Af(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=Ke(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.uc.get(i)||[];r.push(e),t.uc.set(i,r)}catch(i){const r=ev(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),mM.apply(this,arguments)}function _M(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function yM(n,e,t){const i=Ke(n);let r=i.oc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function iv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ec.get(e))n.tc.delete(i),t&&n.Zu.lc(i,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(i=>{n.rc.containsKey(i)||WP(n,i)})}function WP(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(Sw(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),bM(n))}function vM(n,e,t){for(const i of t)i instanceof VP?(n.rc.addReference(i.key,e),Wj(n,i)):i instanceof jP?(Fe("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,e),n.rc.containsKey(i.key)||WP(n,i.key)):nt()}function Wj(n,e){const t=e.key,i=t.path.canonicalString();n.sc.get(t)||n.nc.has(i)||(Fe("SyncEngine","New document in limbo: "+t),n.nc.add(i),bM(n))}function bM(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new Ze(Qt.fromString(e)),i=n.cc.next();n.ic.set(i,new Fj(t)),n.sc=n.sc.insert(t,i),hD(n.remoteStore,new hc(Ao(vd(t.path)),i,2,ds.ot))}}function Cd(n,e,t){return wM.apply(this,arguments)}function wM(){return wM=(0,_e.Z)(function*(n,e,t){const i=Ke(n),r=[],s=[],c=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,p)=>{c.push(i.hc(p,e,t).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),r.push(y);const C=SN.Vi(p.targetId,y);s.push(C)}}))}),yield Promise.all(c),i.Zu.Go(r),yield(h=(0,_e.Z)(function*(p,y){const C=Ke(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>de.forEach(y,M=>de.forEach(M.Pi,O=>C.persistence.referenceDelegate.addReference(D,M.targetId,O)).next(()=>de.forEach(M.vi,O=>C.persistence.referenceDelegate.removeReference(D,M.targetId,O)))))}catch(D){if(!nc(D))throw D;Fe("LocalStore","Failed to update sequence numbers: "+D)}for(const D of y){const M=D.targetId;if(!D.fromCache){const O=C.$i.get(M),Z=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);C.$i=C.$i.insert(M,Z)}}}),function(p,y){return h.apply(this,arguments)})(i.localStore,s))}),wM.apply(this,arguments)}function qj(n,e){return EM.apply(this,arguments)}function EM(){return EM=(0,_e.Z)(function*(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const i=yield vP(t.localStore,e);t.currentUser=e,(r=t).uc.forEach(c=>{c.forEach(h=>{h.reject(new Ae(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Cd(t,i.Ki)}var r}),EM.apply(this,arguments)}function zj(n,e){const t=Ke(n),i=t.ic.get(e);if(i&&i.Xu)return Vt().add(i.key);{let r=Vt();const s=t.ec.get(e);if(!s)return r;for(const c of s){const h=t.tc.get(c);r=r.unionWith(h.view.qu)}return r}}function Zj(n,e){return CM.apply(this,arguments)}function CM(){return CM=(0,_e.Z)(function*(n,e){const t=Ke(n),i=yield lD(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&vM(t,e.targetId,r.zu),r}),CM.apply(this,arguments)}function Kj(n,e){return TM.apply(this,arguments)}function TM(){return TM=(0,_e.Z)(function*(n,e){const t=Ke(n);return CP(t.localStore,e).then(i=>Cd(t,i))}),TM.apply(this,arguments)}function Yj(n,e,t,i){return DM.apply(this,arguments)}function DM(){return DM=(0,_e.Z)(function*(n,e,t,i){const r=Ke(n),s=yield function(c,h){const p=Ke(c),y=Ke(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.yn(C,h).next(D=>D?p.localDocuments.getDocuments(C,D):de.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===t?yield Qy(r.remoteStore):"acknowledged"===t||"rejected"===t?(yM(r,e,i||null),_M(r,e),h=e,Ke(Ke(r.localStore).mutationQueue).In(h)):nt(),yield Cd(r,s)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),DM.apply(this,arguments)}function IM(){return IM=(0,_e.Z)(function*(n,e){const t=Ke(n);if(MM(t),xM(t),!0===e&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield qP(t,i.toArray());t.ac=!0,yield QN(t.remoteStore,!0);for(const s of r)hD(t.remoteStore,s)}else if(!1===e&&!1!==t.ac){const i=[];let r=Promise.resolve();t.ec.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(iv(t,c),Yy(t.localStore,c,!0))),Sw(t.remoteStore,c)}),yield r,yield qP(t,i),function(s){const c=Ke(s);c.ic.forEach((h,p)=>{Sw(c.remoteStore,p)}),c.rc.cs(),c.ic=new Map,c.sc=new di(Ze.comparator)}(t),t.ac=!1,yield QN(t.remoteStore,!1)}}),IM.apply(this,arguments)}function qP(n,e,t){return SM.apply(this,arguments)}function SM(){return SM=(0,_e.Z)(function*(n,e,t){const i=Ke(n),r=[],s=[];for(const c of e){let h;const p=i.ec.get(c);if(p&&0!==p.length){h=yield Ky(i.localStore,Ao(p[0]));for(const y of p){const C=i.tc.get(y),D=yield Zj(i,C);D.snapshot&&s.push(D.snapshot)}}else{const y=yield EP(i.localStore,c);h=yield Ky(i.localStore,y),yield lM(i,zP(y),c,!1)}r.push(h)}return i.Zu.Go(s),r}),SM.apply(this,arguments)}function zP(n){return vg(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Qj(n){const e=Ke(n);return Ke(Ke(e.localStore).persistence).Ri()}function Xj(n,e,t,i){return AM.apply(this,arguments)}function AM(){return AM=(0,_e.Z)(function*(n,e,t,i){const r=Ke(n);if(r.ac)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const s=r.ec.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield CP(r.localStore,D1(s[0])),h=gf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Cd(r,c,h);break}case"rejected":yield Yy(r.localStore,e,!0),iv(r,e,i);break;default:nt()}}),AM.apply(this,arguments)}function eH(n,e,t){return NM.apply(this,arguments)}function NM(){return NM=(0,_e.Z)(function*(n,e,t){const i=MM(n);if(i.ac){for(const r of e){if(i.ec.has(r)){Fe("SyncEngine","Adding an already active target "+r);continue}const s=yield EP(i.localStore,r),c=yield Ky(i.localStore,s);yield lM(i,zP(s),c.targetId,!1),hD(i.remoteStore,c)}for(const r of t)i.ec.has(r)&&(yield Yy(i.localStore,r,!1).then(()=>{Sw(i.remoteStore,r),iv(i,r)}).catch(tl))}}),NM.apply(this,arguments)}function MM(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jj.bind(null,e),e.Zu.Go=xj.bind(null,e.eventManager),e.Zu.lc=Oj.bind(null,e.eventManager),e}function xM(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Gj.bind(null,e),e}class ZP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.wt=Dw(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return yP(this.persistence,new _P,e.initialUser,this.wt)}_c(e){return new gP(oD.Ms,this.wt)}dc(e){return new SP}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class KP extends ZP{constructor(e,t,i){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield t().call(i,e),yield i.yc.initialize(i,e),yield xM(i.yc.syncEngine),yield Qy(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return yP(this.persistence,new _P,e.initialUser,this.wt)}mc(e,t){return new WV(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const i=new c1(t,this.persistence);return new u1(e.asyncQueue,i)}_c(e){const t=IN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new DN(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,NP(),dD(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new SP}}class nH extends KP{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,_e.Z)(function*(){yield t().call(i,e);const r=i.yc.syncEngine;i.sharedClientState instanceof kN&&(i.sharedClientState.syncEngine={kr:Yj.bind(null,r),Or:Xj.bind(null,r),Mr:eH.bind(null,r),Ri:Qj.bind(null,r),Nr:Kj.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var s=(0,_e.Z)(function*(c){yield function Jj(n,e){return IM.apply(this,arguments)}(i.yc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}dc(e){const t=NP();if(!kN.V(t))throw new Ae(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=IN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new kN(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class OM{initialize(e,t){var i=this;return(0,_e.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>$P(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=qj.bind(null,i.syncEngine),yield QN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Mj}createDatastore(e){const t=Dw(e.databaseInfo.databaseId),i=new pj(e.databaseInfo);return new _j(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>$P(this.syncEngine,h,0),c=AP.V()?new AP:new dj,new vj(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,h,p,y){const C=new Lj(i,r,s,c,h,p);return y&&(C.ac=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const i=Ke(t);Fe("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield Jy(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function YP(n,e=10240){let t=0;return{read:()=>(0,_e.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class pD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class iH{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new ci,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,_e.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,_e.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.bc();if(null===t)return null;const i=e.Ac.decode(t),r=Number(i);isNaN(r)&&e.Pc(`length string (${i}) is not valid number`);const s=yield e.vc(r);return new Rj(JSON.parse(s),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,_e.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,_e.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,_e.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class rH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ae(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,_e.Z)(function*(s,c){const h=Ke(s),p=yf(h.wt)+"/documents",y={documents:c.map(O=>Ag(h.wt,O))},C=yield h.ao("BatchGetDocuments",p,y),D=new Map;C.forEach(O=>{const B=function uN(n,e){return"found"in e?function(t,i){Ot(!!i.found);const r=fa(t,i.found.name),s=Yi(i.found.updateTime),c=new Mr({mapValue:{fields:i.found.fields}});return Mn.newFoundDocument(r,s,c)}(n,e):"missing"in e?function(t,i){Ot(!!i.missing),Ot(!!i.readTime);const r=fa(t,i.missing),s=Yi(i.readTime);return Mn.newNoDocument(r,s)}(n,e):nt()}(h.wt,O);D.set(B.key.toString(),B)});const M=[];return c.forEach(O=>{const B=D.get(O.toString());Ot(!!B),M.push(B)}),M}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new cc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Ze.fromPath(r);e.mutations.push(new dw(s,e.precondition(s)))}),yield(i=(0,_e.Z)(function*(r,s){const c=Ke(r),h=yf(c.wt)+"/documents",p={writes:s.map(y=>Ly(c.wt,y))};yield c.ro("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nt();t=At.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ae(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?hi.updateTime(t):hi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(At.min()))throw new Ae(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hi.updateTime(t)}return hi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class sH{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.Dc=i.maxAttempts,this.So=new FN(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,_e.Z)(function*(){const t=new rH(e.datastore),i=e.xc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Nc(s)}))}).catch(r=>{e.Nc(r)})}))}xc(e){try{const t=this.updateFunction(e);return!pg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!R1(t)}return!1}}class oH{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Fi.UNAUTHENTICATED,this.clientId=ug.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,_e.Z)(function*(h){Fe("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Fe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=ev(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function JP(n,e){return RM.apply(this,arguments)}function RM(){return RM=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,_e.Z)(function*(s){i.isEqual(s)||(yield vP(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),RM.apply(this,arguments)}function QP(n,e){return PM.apply(this,arguments)}function PM(){return PM=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield kM(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>FP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>FP(e.remoteStore,s)),n.onlineComponents=e}),PM.apply(this,arguments)}function kM(n){return FM.apply(this,arguments)}function FM(){return FM=(0,_e.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield JP(n,new ZP)),n.offlineComponents}),FM.apply(this,arguments)}function gD(n){return LM.apply(this,arguments)}function LM(){return LM=(0,_e.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield QP(n,new OM)),n.onlineComponents}),LM.apply(this,arguments)}function XP(n){return kM(n).then(e=>e.persistence)}function BM(n){return kM(n).then(e=>e.localStore)}function ek(n){return gD(n).then(e=>e.remoteStore)}function UM(n){return gD(n).then(e=>e.syncEngine)}function rv(n){return VM.apply(this,arguments)}function VM(){return VM=(0,_e.Z)(function*(n){const e=yield gD(n),t=e.eventManager;return t.onListen=Bj.bind(null,e.syncEngine),t.onUnlisten=Uj.bind(null,e.syncEngine),t}),VM.apply(this,arguments)}function tk(n,e,t={}){const i=new ci;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,s,c,h,p){const y=new pD({next:D=>{s.enqueueAndForget(()=>iM(r,C));const M=D.docs.has(c);!M&&D.fromCache?p.reject(new Ae(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&D.fromCache&&h&&"server"===h.source?p.reject(new Ae(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new oM(vd(c.path),y,{includeMetadataChanges:!0,Du:!0});return tM(r,C)}(yield rv(n),n.asyncQueue,e,t,i)})),i.promise}function nk(n,e,t={}){const i=new ci;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(r,s,c,h,p){const y=new pD({next:D=>{s.enqueueAndForget(()=>iM(r,C)),D.fromCache&&"server"===h.source?p.reject(new Ae(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new oM(c,y,{includeMetadataChanges:!0,Du:!0});return tM(r,C)}(yield rv(n),n.asyncQueue,e,t,i)})),i.promise}const ik=new Map;function jM(n,e,t){if(!t)throw new Ae(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function rk(n,e,t,i){if(!0===e&&!0===i)throw new Ae(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sk(n){if(!Ze.isDocumentKey(n))throw new Ae(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ok(n){if(Ze.isDocumentKey(n))throw new Ae(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mD(n);throw new Ae(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ak(n,e){if(e<=0)throw new Ae(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class lk{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,rk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Aw{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lk({}),this._settingsFrozen=!1,e instanceof So?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ae(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(r.options.projectId)}(e))}get app(){if(!this._app)throw new Ae(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new qR;switch(t.type){case"gapi":const i=t.client;return Ot(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new VA(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ae(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ik.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),ik.delete(e),t.terminate())}(this),Promise.resolve()}}class ii{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class Rs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Rs(this.firestore,e,this._query)}}class fc extends Rs{constructor(e,t,i){super(e,t,vd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new Ze(e))}withConverter(e){return new fc(this.firestore,e,this._path)}}function uk(n,e,...t){if(n=(0,L.m9)(n),jM("collection","path",e),n instanceof Aw){const i=Qt.fromString(e,...t);return ok(i),new fc(n,null,i)}{if(!(n instanceof ii||n instanceof fc))throw new Ae(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(e,...t));return ok(i),new fc(n.firestore,null,i)}}function _D(n,e,...t){if(n=(0,L.m9)(n),1===arguments.length&&(e=ug.I()),jM("doc","path",e),n instanceof Aw){const i=Qt.fromString(e,...t);return sk(i),new ii(n,null,new Ze(i))}{if(!(n instanceof ii||n instanceof fc))throw new Ae(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(e,...t));return sk(i),new ii(n.firestore,n instanceof fc?n.converter:null,new Ze(i))}}function ck(n,e){return n=(0,L.m9)(n),e=(0,L.m9)(e),(n instanceof ii||n instanceof fc)&&(e instanceof ii||e instanceof fc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function dk(n,e){return n=(0,L.m9)(n),e=(0,L.m9)(e),n instanceof Rs&&e instanceof Rs&&n.firestore===e.firestore&&hf(n._query,e._query)&&n.converter===e.converter}class _H{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new FN(this,"async_queue_retry"),this.Kc=()=>{const t=dD();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=dD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=dD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new ci;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!nc(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(i=>{throw this.Bc=i,this.Lc=!1,Li("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Oc=t,t}enqueueAfterDelay(e,t,i){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=eM.createAndSchedule(this,e,t,i,s=>this.Wc(s));return this.$c.push(r),r}Gc(){this.Bc&&nt()}verifyOperationInProgress(){}zc(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function HM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class yH{constructor(){this._progressObserver={},this._taskCompletionResolver=new ci,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fi extends Aw{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new _H,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hk(this),this._firestoreClient.terminate()}}function lr(n){return n._firestoreClient||hk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hk(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new yy(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new oH(n._authCredentials,n._appCheckCredentials,n._queue,i)}function fk(n,e,t){const i=new ci;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield JP(n,t),yield QP(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===pe.FAILED_PRECONDITION||s.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function pk(n){if(n._initialized||n._terminated)throw new Ae(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Td{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pc(wi.fromBase64String(e))}catch(t){throw new Ae(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pc(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Rg{constructor(e){this._methodName=e}}class yD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}const AH=/^__.*__$/;class NH{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new bd(e,this.data,t,this.fieldTransforms)}}class gk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ol(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class vD{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=r,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new vD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.sa(e),r}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return ED(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(mk(this.Zc)&&AH.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class MH{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=i||Dw(e)}aa(e,t,i,r=!1){return new vD({Zc:e,methodName:t,ca:i,path:Bi.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Pg(n){const e=n._freezeSettings(),t=Dw(n._databaseId);return new MH(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bD(n,e,t,i,r,s={}){const c=n.aa(s.merge||s.mergeFields?2:0,e,t,r);qM("Data must be an object, but it was:",c,i);const h=vk(i,c);let p,y;if(s.merge)p=new Nr(c.fieldMask),y=c.fieldTransforms;else if(s.mergeFields){const C=[];for(const D of s.mergeFields){const M=zM(e,D,t);if(!c.contains(M))throw new Ae(pe.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);wk(C,M)||C.push(M)}p=new Nr(C),y=c.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,y=c.fieldTransforms;return new NH(new Mr(h),p,y)}class Nw extends Rg{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nw}}function _k(n,e,t){return new vD({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class GM extends Rg{_toFieldTransform(e){return new Sy(e.path,new Cg)}isEqual(e){return e instanceof GM}}class xH extends Rg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=_k(this,e,!0),i=this.ha.map(s=>kg(s,t)),r=new uc(i);return new Sy(e.path,r)}isEqual(e){return this===e}}class OH extends Rg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=_k(this,e,!0),i=this.ha.map(s=>kg(s,t)),r=new ff(i);return new Sy(e.path,r)}isEqual(e){return this===e}}class RH extends Rg{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Tg(e.wt,ow(e.wt,this.la));return new Sy(e.path,t)}isEqual(e){return this===e}}function $M(n,e,t,i){const r=n.aa(1,e,t);qM("Data must be an object, but it was:",r,i);const s=[],c=Mr.empty();ic(i,(p,y)=>{const C=wD(e,p,t);y=(0,L.m9)(y);const D=r.ia(C);if(y instanceof Nw)s.push(C);else{const M=kg(y,D);null!=M&&(s.push(C),c.set(C,M))}});const h=new Nr(s);return new gk(c,h,r.fieldTransforms)}function WM(n,e,t,i,r,s){const c=n.aa(1,e,t),h=[zM(e,i,t)],p=[r];if(s.length%2!=0)throw new Ae(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)h.push(zM(e,s[M])),p.push(s[M+1]);const y=[],C=Mr.empty();for(let M=h.length-1;M>=0;--M)if(!wk(y,h[M])){const O=h[M];let B=p[M];B=(0,L.m9)(B);const Z=c.ia(O);if(B instanceof Nw)y.push(O);else{const ue=kg(B,Z);null!=ue&&(y.push(O),C.set(O,ue))}}const D=new Nr(y);return new gk(C,D,c.fieldTransforms)}function yk(n,e,t,i=!1){return kg(t,n.aa(i?4:3,e))}function kg(n,e){if(bk(n=(0,L.m9)(n)))return qM("Unsupported field value:",e,n),vk(n,e);if(n instanceof Rg)return function(t,i){if(!mk(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let h=kg(c,i.ra(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,L.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ow(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=Un.fromDate(t);return{timestampValue:_f(i.wt,r)}}if(t instanceof Un){const r=new Un(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:_f(i.wt,r)}}if(t instanceof yD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pc)return{bytesValue:U1(i.wt,t._byteString)};if(t instanceof ii){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ky(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${mD(t)}`)}(n,e)}function vk(n,e){const t={};return d1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ic(n,(i,r)=>{const s=kg(r,e.ea(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function bk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Un||n instanceof yD||n instanceof pc||n instanceof ii||n instanceof Rg)}function qM(n,e,t){if(!bk(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=mD(t);throw e.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function zM(n,e,t){if((e=(0,L.m9)(e))instanceof Td)return e._internalPath;if("string"==typeof e)return wD(n,e);throw ED("Field path arguments must be of type string or ",n,!1,void 0,t)}const PH=new RegExp("[~\\*/\\[\\]]");function wD(n,e,t){if(e.search(PH)>=0)throw ED(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Td(...e.split("."))._internalPath}catch(i){throw ED(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ED(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Ae(pe.INVALID_ARGUMENT,h+n+p)}function wk(n,e){return n.some(t=>t.isEqual(e))}class Mw{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new kH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class kH extends Mw{data(){return super.data()}}function CD(n,e){return"string"==typeof e?wD(n,e):e instanceof Td?e._internalPath:e._delegate._internalPath}class Fg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dd extends Mw{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new xw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(CD("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class xw extends Dd{data(e={}){return super.data(e)}}class Mf{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Fg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new xw(this._firestore,this._userDataWriter,i.key,i,new Fg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new xw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Fg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new xw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Fg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),y=s.indexOf(c.doc.key)),{type:FH(c.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function FH(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function Ek(n,e){return n instanceof Dd&&e instanceof Dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Mf&&e instanceof Mf&&n._firestore===e._firestore&&dk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Ck(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ow{}function xf(n,...e){for(const t of e)n=t._apply(n);return n}class LH extends Ow{constructor(e,t,i){super(),this.fa=e,this.da=t,this._a=i,this.type="where"}_apply(e){const t=Pg(e.firestore),i=function(r,s,c,h,p,y,C){let D;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Ae(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){Nk(C,y);const O=[];for(const B of C)O.push(Ak(h,r,B));D={arrayValue:{values:O}}}else D=Ak(h,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||Nk(C,y),D=yk(c,"where",C,"in"===y||"not-in"===y);const M=xr.create(p,y,D);return function(O,B){if(B.ht()){const ue=wg(O);if(null!==ue&&!ue.isEqual(B.field))throw new Ae(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ue.toString()}' and '${B.field.toString()}'`);const xe=bg(O);null!==xe&&Mk(0,B.field,xe)}const Z=function(ue,xe){for(const ke of ue.filters)if(xe.indexOf(ke.op)>=0)return ke.op;return null}(O,function(ue){switch(ue){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==Z)throw new Ae(pe.INVALID_ARGUMENT,Z===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${Z.toString()}' filters.`)}(r,M),M}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Rs(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new sl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class UH extends Ow{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Ae(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ae(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new lc(r,s);return function(h,p){if(null===bg(h)){const y=wg(h);null!==y&&Mk(0,y,p.field)}}(i,c),c}(e._query,this.fa,this.wa);return new Rs(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new sl(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class Tk extends Ow{constructor(e,t,i){super(),this.type=e,this.ma=t,this.ga=i}_apply(e){return new Rs(e.firestore,e.converter,rw(e._query,this.ma,this.ga))}}class Dk extends Ow{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=Sk(e,this.type,this.ya,this.pa);return new Rs(e.firestore,e.converter,(r=t,new sl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class Ik extends Ow{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=Sk(e,this.type,this.ya,this.pa);return new Rs(e.firestore,e.converter,(r=t,new sl((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function Sk(n,e,t,i){if(t[0]=(0,L.m9)(t[0]),t[0]instanceof Mw)return function(r,s,c,h,p){if(!h)throw new Ae(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const C of df(r))if(C.field.isKeyField())y.push(au(s,h.key));else{const D=h.data.field(C.field);if(Kb(D))throw new Ae(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const M=C.field.canonicalString();throw new Ae(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}y.push(D)}return new ha(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Pg(n.firestore);return function(s,c,h,p,y,C){const D=s.explicitOrderBy;if(y.length>D.length)throw new Ae(pe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let O=0;O<y.length;O++){const B=y[O];if(D[O].field.isKeyField()){if("string"!=typeof B)throw new Ae(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof B}`);if(!C1(s)&&-1!==B.indexOf("/"))throw new Ae(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${B}' contains a slash.`);const Z=s.path.child(Qt.fromString(B));if(!Ze.isDocumentKey(Z))throw new Ae(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${Z}' is not because it contains an odd number of segments.`);const ue=new Ze(Z);M.push(au(c,ue))}else{const Z=yk(h,p,B);M.push(Z)}}return new ha(M,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function Ak(n,e,t){if("string"==typeof(t=(0,L.m9)(t))){if(""===t)throw new Ae(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!C1(e)&&-1!==t.indexOf("/"))throw new Ae(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Qt.fromString(t));if(!Ze.isDocumentKey(i))throw new Ae(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return au(n,new Ze(i))}if(t instanceof ii)return au(n,t._key);throw new Ae(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mD(t)}.`)}function Nk(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ae(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Mk(n,e,t){if(!t.isEqual(e))throw new Ae(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const zH={maxAttempts:5};class ZM{convertValue(e,t="none"){switch(sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){const i={};return ic(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new yD(Yn(e.latitude),Yn(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=f1(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(fg(e));default:return null}}convertTimestamp(e){const t=rc(e);return new Un(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qt.fromString(e);Ot(gw(i));const r=new So(i.get(1),i.get(3)),s=new Ze(i.popFirst(5));return r.isEqual(t)||Li(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function TD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class ZH extends ZM{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}class xk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Pg(e)}set(e,t,i){this._verifyNotCommitted();const r=Of(e,this._firestore),s=TD(r.converter,t,i),c=bD(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,hi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Of(e,this._firestore);let c;return c="string"==typeof(t=(0,L.m9)(t))||t instanceof Td?WM(this._dataReader,"WriteBatch.update",s._key,t,i,r):$M(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,hi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Of(e,this._firestore);return this._mutations=this._mutations.concat(new cc(t._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ae(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Of(n,e){if((n=(0,L.m9)(n)).firestore!==e)throw new Ae(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Lg extends ZM{constructor(e){super(),this.firestore=e}convertBytes(e){return new pc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}function Ok(n,e,t){n=an(n,ii);const i=an(n.firestore,fi),r=TD(n.converter,e,t);return sv(i,[bD(Pg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,hi.none())])}function Rk(n,e,t,...i){n=an(n,ii);const r=an(n.firestore,fi),s=Pg(r);let c;return c="string"==typeof(e=(0,L.m9)(e))||e instanceof Td?WM(s,"updateDoc",n._key,e,t,i):$M(s,"updateDoc",n._key,e),sv(r,[c.toMutation(n._key,hi.exists(!0))])}function Pk(n,...e){var t,i,r;n=(0,L.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||HM(e[c])||(s=e[c],c++);const h={includeMetadataChanges:s.includeMetadataChanges};if(HM(e[c])){const D=e[c];e[c]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[c+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[c+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,y,C;if(n instanceof ii)y=an(n.firestore,fi),C=vd(n._key.path),p={next:D=>{e[c]&&e[c](KM(y,n,D))},error:e[c+1],complete:e[c+2]};else{const D=an(n,Rs);y=an(D.firestore,fi),C=D._query;const M=new Lg(y);p={next:O=>{e[c]&&e[c](new Mf(y,M,D,O))},error:e[c+1],complete:e[c+2]},Ck(n._query)}return function(D,M,O,B){const Z=new pD(B),ue=new oM(M,Z,O);return D.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return tM(yield rv(D),ue)})),()=>{Z.Tc(),D.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return iM(yield rv(D),ue)}))}}(lr(y),C,h,p)}function sv(n,e){return function(t,i){const r=new ci;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function Vj(n,e,t){return dM.apply(this,arguments)}(yield UM(t),i,r)})),r.promise}(lr(n),e)}function KM(n,e,t){const i=t.docs.get(e._key),r=new Lg(n);return new Dd(n,r,e._key,i,new Fg(t.hasPendingWrites,t.fromCache),e.converter)}class s3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Pg(e)}get(e){const t=Of(e,this._firestore),i=new ZH(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return nt();const s=r[0];if(s.isFoundDocument())return new Mw(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new Mw(this._firestore,i,t._key,null,t.converter);throw nt()})}set(e,t,i){const r=Of(e,this._firestore),s=TD(r.converter,t,i),c=bD(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=Of(e,this._firestore);let c;return c="string"==typeof(t=(0,L.m9)(t))||t instanceof Td?WM(this._dataReader,"Transaction.update",s._key,t,i,r):$M(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=Of(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Of(e,this._firestore),i=new Lg(this._firestore);return super.get(e).then(r=>new Dd(this._firestore,i,t._key,r._document,new Fg(!1,!1),t.converter))}}function YM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Fk(){if("undefined"==typeof Uint8Array)throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function Lk(){if(!function qA(){return"undefined"!=typeof atob}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){nf=wr.SDK_VERSION,(0,wr._registerComponent)(new ki.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new fi(r,new BA(t.getProvider("auth-internal")),new o1(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,wr.registerVersion)(Hb,"3.4.10",n),(0,wr.registerVersion)(Hb,"3.4.10","esm2017")}();class Rw{constructor(e){this._delegate=e}static fromBase64String(e){return Lk(),new Rw(pc.fromBase64String(e))}static fromUint8Array(e){return Fk(),new Rw(pc.fromUint8Array(e))}toBase64(){return Lk(),this._delegate.toBase64()}toUint8Array(){return Fk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function JM(n){return function p3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class g3{enableIndexedDbPersistence(e,t){return function bH(n,e){pk(n=an(n,fi));const t=lr(n),i=n._freezeSettings(),r=new OM;return fk(t,r,new KP(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function wH(n){pk(n=an(n,fi));const e=lr(n),t=n._freezeSettings(),i=new OM;return fk(e,i,new nH(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function EH(n){if(n._initialized&&!n._terminated)throw new Ae(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ci;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(t=(0,_e.Z)(function*(i){if(!Io.V())return Promise.resolve();const r=i+"main";yield Io.delete(r)}),function(i){return t.apply(this,arguments)})(IN(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Bk{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof So||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function gH(n,e,t,i={}){var r;const s=(n=an(n,Aw))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&rf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=Fi.MOCK_USER;else{c=(0,L.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Ae(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Fi(p)}n._authCredentials=new r1(new i1(c,h))}}(this._delegate,e,t,i)}enableNetwork(){return function TH(n){return function aH(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield XP(n),t=yield ek(n);return e.setNetworkEnabled(!0),function(i){const r=Ke(i);return r.lu.delete(0),Iw(r)}(t)}))}(lr(n=an(n,fi)))}(this._delegate)}disableNetwork(){return function DH(n){return function lH(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const e=yield XP(n),t=yield ek(n);return e.setNetworkEnabled(!1),(i=(0,_e.Z)(function*(r){const s=Ke(r);s.lu.add(0),yield Jy(s),s._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(lr(n=an(n,fi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,rk("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function CH(n){return function(e){const t=new ci;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function $j(n,e){return mM.apply(this,arguments)}(yield UM(e),t)})),t.promise}(lr(n=an(n,fi)))}(this._delegate)}onSnapshotsInSync(e){return function r3(n,e){return function dH(n,e){const t=new pD(e);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield rv(n),r=t,Ke(i).Tu.add(r),void r.next();var i,r})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return i=yield rv(n),r=t,void Ke(i).Tu.delete(r);var i,r}))}}(lr(n=an(n,fi)),HM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ae("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ov(this,uk(this._delegate,e))}catch(t){throw Ks(t,"collection()","Firestore.collection()")}}doc(e){try{return new ll(this,_D(this._delegate,e))}catch(t){throw Ks(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ys(this,function mH(n,e){if(n=an(n,Aw),jM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ae(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rs(n,null,(t=e,new sl(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ks(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function o3(n,e,t){n=an(n,fi);const i=Object.assign(Object.assign({},zH),t);return function(r){if(r.maxAttempts<1)throw new Ae(pe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function hH(n,e,t){const i=new ci;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const r=yield(s=n,gD(s).then(c=>c.datastore));var s;new sH(n.asyncQueue,r,t,e,i).run()})),i.promise}(lr(n),r=>e(new s3(n,r)),i)}(this._delegate,t=>e(new Uk(this,t)))}batch(){return lr(this._delegate),new Vk(new xk(this._delegate,e=>sv(this._delegate,e)))}loadBundle(e){return function IH(n,e){const t=lr(n=an(n,fi)),i=new yH;return function fH(n,e,t,i){const r=function(s,c){let h;return h="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return YP(p,y);if(p instanceof ArrayBuffer)return YP(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new iH(p,c);var p}(t,Dw(e));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function tH(n,e,t){const i=Ke(n);var r;(r=(0,_e.Z)(function*(s,c,h){try{const p=yield c.getMetadata();if(yield function(M,O){const B=Ke(M),Z=Yi(O.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",ue=>B.Ds.getBundleMetadata(ue,O.id)).then(ue=>!!ue&&ue.createTime.compareTo(Z)>=0)}(s.localStore,p))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);h._updateProgress(UP(p));const y=new Pj(p,s.localStore,c.wt);let C=yield c.fc();for(;C;){const M=yield y.Nu(C);M&&h._updateProgress(M),C=yield c.fc()}const D=yield y.complete();return yield Cd(s,D.Mu,void 0),yield function(M,O){const B=Ke(M);return B.persistence.runTransaction("Save bundle","readwrite",Z=>B.Ds.saveBundleMetadata(Z,O))}(s.localStore,p),h._completeWith(D.progress),Promise.resolve(D.Ou)}catch(p){return rf("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var M}),function(s,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield UM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function SH(n,e){return function pH(n,e){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(t,i){const r=Ke(t);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ds.getNamedQuery(s,i))}(yield BM(n),e)}))}(lr(n=an(n,fi)),e).then(t=>t?new Rs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ys(this,t):null)}}class DD extends ZM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rw(new pc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ll.forKey(t,this.firestore,null)}}class Uk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}get(e){const t=Ug(e);return this._delegate.get(t).then(i=>new Pw(this._firestore,new Dd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Ug(e);return i?(YM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Ug(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Ug(e);return this._delegate.delete(t),this}}class Vk{constructor(e){this._delegate=e}set(e,t,i){const r=Ug(e);return i?(YM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Ug(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Ug(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Bg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new xw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new kw(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Bg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Bg(e,new DD(e),t),r.set(t,s)),s}}Bg.INSTANCES=new WeakMap;class ll{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ll(t,new ii(t._delegate,i,new Ze(e)))}static forKey(e,t,i){return new ll(t,new ii(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new ov(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ov(this.firestore,uk(this._delegate,e))}catch(t){throw Ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,L.m9)(e))instanceof ii&&ck(this._delegate,e)}set(e,t){t=YM("DocumentReference.set",t);try{return t?Ok(this._delegate,e,t):Ok(this._delegate,e)}catch(i){throw Ks(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?Rk(this._delegate,e):Rk(this._delegate,e,t,...i)}catch(r){throw Ks(r,"updateDoc()","DocumentReference.update()")}}delete(){return function t3(n){return sv(an(n.firestore,fi),[new cc(n._key,hi.none())])}(this._delegate)}onSnapshot(...e){const t=jk(e),i=Hk(e,r=>new Pw(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Pk(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function YH(n){n=an(n,ii);const e=an(n.firestore,fi),t=lr(e),i=new Lg(e);return function uH(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,s,c){try{const h=yield function(p,y){const C=Ke(p);return C.persistence.runTransaction("read document","readonly",D=>C.localDocuments.getDocument(D,y))}(r,s);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Ae(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=ev(h,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield BM(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Dd(e,i,n._key,r,new Fg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function JH(n){n=an(n,ii);const e=an(n.firestore,fi);return tk(lr(e),n._key,{source:"server"}).then(t=>KM(e,n,t))}(this._delegate):function KH(n){n=an(n,ii);const e=an(n.firestore,fi);return tk(lr(e),n._key).then(t=>KM(e,n,t))}(this._delegate),t.then(i=>new Pw(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ll(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}function Ks(n,e,t){return n.message=n.message.replace(e,t),n}function jk(n){for(const e of n)if("object"==typeof e&&!JM(e))return e;return{}}function Hk(n,e){var t,i;let r;return r=JM(n[0])?n[0]:JM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Pw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ll(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ek(this._delegate,e._delegate)}}class kw extends Pw{data(e){const t=this._delegate.data(e);return function LA(n,e){n||nt()}(void 0!==t),t}}class Ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}where(e,t,i){try{return new Ys(this.firestore,xf(this._delegate,function BH(n,e,t){const i=e,r=CD("where",n);return new LH(r,i,t)}(e,t,i)))}catch(r){throw Ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ys(this.firestore,xf(this._delegate,function VH(n,e="asc"){const t=e,i=CD("orderBy",n);return new UH(i,t)}(e,t)))}catch(i){throw Ks(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ys(this.firestore,xf(this._delegate,function jH(n){return ak("limit",n),new Tk("limit",n,"F")}(e)))}catch(t){throw Ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ys(this.firestore,xf(this._delegate,function HH(n){return ak("limitToLast",n),new Tk("limitToLast",n,"L")}(e)))}catch(t){throw Ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ys(this.firestore,xf(this._delegate,function GH(...n){return new Dk("startAt",n,!0)}(...e)))}catch(t){throw Ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ys(this.firestore,xf(this._delegate,function $H(...n){return new Dk("startAfter",n,!1)}(...e)))}catch(t){throw Ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ys(this.firestore,xf(this._delegate,function WH(...n){return new Ik("endBefore",n,!1)}(...e)))}catch(t){throw Ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ys(this.firestore,xf(this._delegate,function qH(...n){return new Ik("endAt",n,!0)}(...e)))}catch(t){throw Ks(t,"endAt()","Query.endAt()")}}isEqual(e){return dk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function XH(n){n=an(n,Rs);const e=an(n.firestore,fi),t=lr(e),i=new Lg(e);return function cH(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(i=(0,_e.Z)(function*(r,s,c){try{const h=yield lD(r,s,!0),p=new HP(s,h.ji),y=p.Ku(h.documents),C=p.applyChanges(y,!1);c.resolve(C.snapshot)}catch(h){const p=ev(h,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield BM(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Mf(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function e3(n){n=an(n,Rs);const e=an(n.firestore,fi),t=lr(e),i=new Lg(e);return nk(t,n._query,{source:"server"}).then(r=>new Mf(e,i,n,r))}(this._delegate):function QH(n){n=an(n,Rs);const e=an(n.firestore,fi),t=lr(e),i=new Lg(e);return Ck(n._query),nk(t,n._query).then(r=>new Mf(e,i,n,r))}(this._delegate),t.then(i=>new QM(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=jk(e),i=Hk(e,r=>new QM(this.firestore,new Mf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Pk(this._delegate,t,i)}withConverter(e){return new Ys(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}class _3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new kw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new kw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new _3(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new kw(this._firestore,i))})}isEqual(e){return Ek(this._delegate,e._delegate)}}class ov extends Ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ll(this.firestore,e):null}doc(e){try{return new ll(this.firestore,void 0===e?_D(this._delegate):_D(this._delegate,e))}catch(t){throw Ks(t,"doc()","CollectionReference.doc()")}}add(e){return function n3(n,e){const t=an(n.firestore,fi),i=_D(n),r=TD(n.converter,e);return sv(t,[bD(Pg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,hi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ll(this.firestore,t))}isEqual(e){return ck(this._delegate,e._delegate)}withConverter(e){return new ov(this.firestore,this._delegate.withConverter(e?Bg.getInstance(this.firestore,e):null))}}function Ug(n){return an(n,ii)}class XM{constructor(...e){this._delegate=new Td(...e)}static documentId(){return new XM(Bi.keyField().canonicalString())}isEqual(e){return(e=(0,L.m9)(e))instanceof Td&&this._delegate._internalPath.isEqual(e._internalPath)}}class Vg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function l3(){return new GM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Vg(e)}static delete(){const e=function a3(){return new Nw("deleteField")}();return e._methodName="FieldValue.delete",new Vg(e)}static arrayUnion(...e){const t=function u3(...n){return new xH("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Vg(t)}static arrayRemove(...e){const t=function c3(...n){return new OH("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Vg(t)}static increment(e){const t=function d3(n){return new RH("increment",n)}(e);return t._methodName="FieldValue.increment",new Vg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const y3={Firestore:Bk,GeoPoint:yD,Timestamp:Un,Blob:Rw,Transaction:Uk,WriteBatch:Vk,DocumentReference:ll,DocumentSnapshot:Pw,Query:Ys,QueryDocumentSnapshot:kw,QuerySnapshot:QM,CollectionReference:ov,FieldPath:XM,FieldValue:Vg,setLogLevel:function m3(n){!function FA(n){Xu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Gk(n,e){return function w3(n,e=qa.z){return new On.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function ex(n,e){return Gk(n,e).pipe((0,et.U)(t=>({payload:t,type:"query"})))}function ID(n,e){return ex(n,e).pipe(Lh(void 0),nT(),(0,et.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const p=r.find(C=>C.doc.ref.isEqual(c.ref)),y=null==t?void 0:t.payload.docs.find(C=>C.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),s}))}function $k(n,e,t){return ID(n,t).pipe(Wu((i,r)=>function C3(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function T3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return tx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return tx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return tx(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),M_(),(0,et.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function tx(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function Wk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function b3(n){(function v3(n,e){n.INTERNAL.registerComponent(new ki.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},y3)))})(n,(e,t)=>new Bk(e,t,new g3)),n.registerVersion("@firebase/firestore-compat","0.1.19")}($u.Z);class qk{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=ID(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,et.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Lh(void 0),nT(),Pi(([i,r])=>r.length>0||!i),(0,et.U)(([i,r])=>r),Zt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Wu((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Wk(e);return $k(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zt.iC)}valueChanges(e={}){return ex(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Zt.iC)}get(e){return(0,yt.D)(this.query.get(e)).pipe(Zt.iC)}add(e){return this.ref.add(e)}doc(e){return new zk(this.ref.doc(e),this.afs)}}class zk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=Yk(i,t);return new qk(r,s,this.afs)}snapshotChanges(){return function E3(n,e){return Gk(n,e).pipe(Lh(void 0),nT(),(0,et.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Zt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,yt.D)(this.ref.get(e)).pipe(Zt.iC)}}class D3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ID(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Pi(t=>t.length>0),Zt.iC):ID(this.query,this.afs.schedulers.outsideAngular).pipe(Zt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Wu((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=Wk(e);return $k(this.query,t,this.afs.schedulers.outsideAngular).pipe(Zt.iC)}valueChanges(e={}){return ex(this.query,this.afs.schedulers.outsideAngular).pipe((0,et.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Zt.iC)}get(e){return(0,yt.D)(this.query.get(e)).pipe(Zt.iC)}}const Zk=new l.OlP("angularfire2.enableFirestorePersistence"),Kk=new l.OlP("angularfire2.firestore.persistenceSettings"),I3=new l.OlP("angularfire2.firestore.settings"),S3=new l.OlP("angularfire2.firestore.use-emulator");function Yk(n,e=(t=>t)){return{query:e(n),ref:n}}let A3=(()=>{class n{constructor(t,i,r,s,c,h,p,y,C,D,M,O,B,Z,ue,xe,ke){this.schedulers=p;const ze=(0,ni.on)(t,h,i),$e=C;D&&nd(ze,h,M,B,Z,ue,O,xe),[this.firestore,this.persistenceEnabled$]=(0,ni.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const mt=h.runOutsideAngular(()=>ze.firestore());if(s&&mt.settings(s),$e&&mt.useEmulator(...$e),r&&!Ia(c)){const Dt=()=>{try{return(0,yt.D)(mt.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(Jt){return"undefined"!=typeof console&&console.warn(Jt),ut(!1)}};return[mt,h.runOutsideAngular(Dt)]}return[mt,ut(!1)]},[s,$e,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=Yk(r,i),h=this.schedulers.ngZone.run(()=>s);return new qk(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new D3(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new zk(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni.Dh),l.LFG(ni.xv,8),l.LFG(Zk,8),l.LFG(I3,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Zt.HU),l.LFG(Kk,8),l.LFG(S3,8),l.LFG(Jl,8),l.LFG(E0,8),l.LFG(xp,8),l.LFG(C0,8),l.LFG(s_,8),l.LFG(T0,8),l.LFG(D0,8),l.LFG(r_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),N3=(()=>{class n{constructor(){ra.Z.registerVersion("angularfire",Zt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Zk,useValue:!0},{provide:Kk,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[A3]}),n})();var SD=k(5032);function AD(...n){const e=(0,mr.jO)(n);return(0,Ri.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),h=!1;for(let p=0;p<r;p++)(0,Mi.Xf)(n[p]).subscribe(new dn.Q(i,y=>{s[p]=y,!h&&!c[p]&&(c[p]=!0,(h=c.every(jr.y))&&(c=null))},SD.Z));t.subscribe(new dn.Q(i,p=>{if(h){const y=[p,...s];i.next(e?e(...y):y)}}))})}const Jk="@firebase/database";let nx="";function Xk(n){nx=n}class x3{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,L.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,L.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class O3{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,L.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const eF=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new x3(e)}}catch(e){}return new O3},jg=eF("localStorage"),ix=eF("sessionStorage"),av=new os.Yd("@firebase/database"),tF=function(){let n=1;return function(){return n++}}(),nF=function(n){const e=(0,L.dS)(n),t=new L.gQ;t.update(e);const i=t.digest();return L.US.encodeByteArray(i)},Fw=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Fw.apply(null,i):e+="object"==typeof i?(0,L.Pz)(i):i,e+=" "}return e};let Hg=null,iF=!0;const rF=function(n,e){(0,L.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(av.logLevel=os.in.VERBOSE,Hg=av.log.bind(av),e&&ix.set("logging_enabled",!0)):"function"==typeof n?Hg=n:(Hg=null,ix.remove("logging_enabled"))},Wr=function(...n){if(!0===iF&&(iF=!1,null===Hg&&!0===ix.get("logging_enabled")&&rF(!0)),Hg){const e=Fw.apply(null,n);Hg(e)}},Lw=function(n){return function(...e){Wr(n,...e)}},rx=function(...n){const e="FIREBASE INTERNAL ERROR: "+Fw(...n);av.error(e)},gc=function(...n){const e=`FIREBASE FATAL ERROR: ${Fw(...n)}`;throw av.error(e),new Error(e)},Ps=function(...n){const e="FIREBASE WARNING: "+Fw(...n);av.warn(e)},ND=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Id="[MIN_NAME]",mc="[MAX_NAME]",Gg=function(n,e){if(n===e)return 0;if(n===Id||e===mc)return-1;if(e===Id||n===mc)return 1;{const t=MD(n),i=MD(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},k3=function(n,e){return n===e?0:n<e?-1:1},Bw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Pz)(e))},sx=function(n){if("object"!=typeof n||null===n)return(0,L.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,L.Pz)(e[i]),t+=":",t+=sx(n[e[i]]);return t+="}",t},sF=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function qr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const oF=function(n){(0,L.hu)(!ND(n),"Invalid JSON number");const i=1023;let r,s,c,h,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const C=y.join("");let D="";for(p=0;p<64;p+=8){let M=parseInt(C.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),D+=M}return D.toLowerCase()},U3=new RegExp("^-?(0*)\\d{1,10}$"),aF=-2147483648,ox=2147483647,MD=function(n){if(U3.test(n)){const e=Number(n);if(e>=aF&&e<=ox)return e}return null},lv=function(n){try{n()}catch(e){setTimeout(()=>{throw Ps("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Uw=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class j3{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Ps(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class H3{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Wr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ps(e)}}let Vw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const hF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gF="websocket",mF="long_polling";class lx{constructor(e,t,i,r,s=!1,c="",h=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=jg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&jg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function _F(n,e,t){let i;if((0,L.hu)("string"==typeof e,"typeof type must == string"),(0,L.hu)("object"==typeof t,"typeof params must == object"),e===gF)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==mF)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function G3(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return qr(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class $3{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,L.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,L.p$)(this.counters_)}}const ux={},cx={};function dx(n){const e=n.toString();return ux[e]||(ux[e]=new $3),ux[e]}class q3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&lv(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Rf{constructor(e,t,i,r,s,c,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Lw(e),this.stats_=dx(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),_F(t,mF,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new q3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hx((...s)=>{const[c,h,p,y,C]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&hF.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rf.forceAllow_=!0}static forceDisallow(){Rf.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!Rf.forceAllow_&&(Rf.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,L.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,L.h$)(t),r=sF(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,L.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class hx{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=tF(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=hx.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){Wr("frame writing exception"),h.stack&&Wr(h.stack),Wr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Wr("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,L.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Wr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let OD=null;"undefined"!=typeof MozWebSocket?OD=MozWebSocket:"undefined"!=typeof WebSocket&&(OD=WebSocket);let uv=(()=>{class n{constructor(t,i,r,s,c,h,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Lw(this.connId),this.stats_=dx(i),this.connURL=n.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const h={v:"5"};return!(0,L.Yr)()&&"undefined"!=typeof location&&location.hostname&&hF.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),c&&(h.p=c),_F(t,gF,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,jg.set("previous_websocket_failure",!0);try{let r;if((0,L.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${nx}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,p=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;p&&(c.proxy={origin:p})}this.mySock=new OD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==OD&&!n.forceDisallow_}static previouslyFailed(){return jg.isInMemoryStorage||!0===jg.get("previous_websocket_failure")}markConnectionHealthy(){jg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,L.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,L.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=sF(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),TF=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Rf,uv]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=uv&&uv.isAvailable();let r=i&&!uv.previouslyFailed();if(t.webSocketOnly&&(i||Ps("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[uv];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class xF{constructor(e,t,i,r,s,c,h,p,y,C){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Lw("c:"+this.id+":"),this.transportManager_=new TF(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Uw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Bw("t",e),i=Bw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Bw("t",e),i=Bw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Bw("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?rx("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rx("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Ps("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Uw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(jg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class OF{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class RF{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,L.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,L.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class RD extends RF{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new RD}getInitialEvent(e){return(0,L.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Sn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function _n(){return new Sn("")}function Kt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Pf(n){return n.pieces_.length-n.pieceNum_}function Vn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Sn(n.pieces_,e)}function px(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function jw(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function FF(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Sn(e,0)}function pi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Sn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Sn(t,0)}function Yt(n){return n.pieceNum_>=n.pieces_.length}function Js(n,e){const t=Kt(n),i=Kt(e);if(null===t)return e;if(t===i)return Js(Vn(n),Vn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function pG(n,e){const t=jw(n,0),i=jw(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Gg(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function gx(n,e){if(Pf(n)!==Pf(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function ul(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Pf(n)>Pf(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class gG{constructor(e,t){this.errorPrefix_=t,this.parts_=jw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,L.ug)(this.parts_[i]);LF(this)}}function LF(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$g(n))}function $g(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class mx extends RF{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new mx}getInitialEvent(e){return(0,L.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Hw=1e3;let kD,Wg=(()=>{class n extends OF{constructor(t,i,r,s,c,h,p,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=Lw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mx.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&RD.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,L.Pz)(c)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new L.BH,r={p:t._path.toString(),q:t._queryObject},s={action:"g",request:r,onComplete:h=>{const p=h.d;"ok"===h.s?(this.onDataUpdate_(r.p,p,!1,null),i.resolve(p)):i.reject(p)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[c];void 0===h||s!==h||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,L.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(h).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const y=p.d,C=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==C&&this.removeListen_(r,s),t.onComplete&&t.onComplete(C,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,L.r3)(t,"w")){const r=(0,L.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Ps(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,L.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,L.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,h=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,L.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,L.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):rx("Unrecognized action received from server: "+(0,L.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hw,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Hw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Hw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,_e.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,y=null;const C=function(){y?y.close():(p=!0,s())};t.realtime_={close:C,sendRequest:function(O){(0,L.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(O)}};const M=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[O,B]=yield Promise.all([t.authTokenProvider_.getToken(M),t.appCheckTokenProvider_.getToken(M)]);p?Wr("getToken() completed but was canceled"):(Wr("getToken() completed. Creating connection."),t.authToken_=O&&O.accessToken,t.appCheckToken_=B&&B.token,y=new xF(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,Z=>{Ps(Z+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(O){t.log_("Failed to get token: "+O),p||(t.repoInfo_.nodeAdmin&&Ps(O),C())}}})()}interrupt(t){Wr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Wr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Hw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>sx(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Sn(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Wr("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Wr("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,L.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+nx.replace(/\./g,"-")]=1,(0,L.uI)()?t["framework.cordova"]=1:(0,L.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=RD.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Xt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Xt(e,t)}}class PD{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Xt(Id,e),r=new Xt(Id,t);return 0!==this.compare(i,r)}minPost(){return Xt.MIN}}class VF extends PD{static get __EMPTY_NODE(){return kD}static set __EMPTY_NODE(e){kD=e}compare(e,t){return Gg(e.name,t.name)}isDefinedOn(e){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Xt.MIN}maxPost(){return new Xt(mc,kD)}makePost(e,t){return(0,L.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Xt(e,kD)}toString(){return".key"}}const _c=new VF;class FD{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let yx,lu=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Oo.EMPTY_NODE,this.right=null!=c?c:Oo.EMPTY_NODE}copy(t,i,r,s,c){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Oo.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Oo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Oo{constructor(e,t=Oo.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Oo(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,lu.BLACK,null,null))}remove(e){return new Oo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,lu.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new FD(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new FD(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new FD(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new FD(this.root_,null,this.comparator_,!0,e)}}function TG(n,e){return Gg(n.name,e.name)}function _x(n,e){return Gg(n,e)}Oo.EMPTY_NODE=new class CG{copy(e,t,i,r,s){return this}insert(e,t,i){return new lu(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jF=function(n){return"number"==typeof n?"number:"+oF(n):"string:"+n},HF=function(n){if(n.isLeafNode()){const e=n.val();(0,L.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,L.r3)(e,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===yx||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===yx||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let GF,$F,WF,cv=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),HF(this.priorityNode_)}static set __childrenNodeConstructor(t){GF=t}static get __childrenNodeConstructor(){return GF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Yt(t)?this:".priority"===Kt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Kt(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,L.hu)(".priority"!==r||1===Pf(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Vn(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+jF(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?oF(this.value_):this.value_,this.lazyHash_=nF(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,L.hu)(s>=0,"Unknown leaf type: "+i),(0,L.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Jn=new class AG extends PD{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Gg(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Xt.MIN}maxPost(){return new Xt(mc,new cv("[PRIORITY-POST]",WF))}makePost(e,t){const i=$F(e);return new Xt(t,new cv("[PRIORITY-POST]",i))}toString(){return".priority"}},NG=Math.log(2);class MG{constructor(e){this.count=parseInt(Math.log(e+1)/NG,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const LD=function(n,e,t,i){n.sort(e);const r=function(p,y){const C=y-p;let D,M;if(0===C)return null;if(1===C)return D=n[p],M=t?t(D):D,new lu(M,D.node,lu.BLACK,null,null);{const O=parseInt(C/2,10)+p,B=r(p,O),Z=r(O+1,y);return D=n[O],M=t?t(D):D,new lu(M,D.node,lu.BLACK,B,Z)}},h=function(p){let y=null,C=null,D=n.length;const M=function(B,Z){const ue=D-B,xe=D;D-=B;const ke=r(ue+1,xe),ze=n[ue],$e=t?t(ze):ze;O(new lu($e,ze.node,Z,null,ke))},O=function(B){y?(y.left=B,y=B):(C=B,y=B)};for(let B=0;B<p.count;++B){const Z=p.nextBitIsOne(),ue=Math.pow(2,p.count-(B+1));Z?M(ue,lu.BLACK):(M(ue,lu.BLACK),M(ue,lu.RED))}return C}(new MG(n.length));return new Oo(i||e,h)};let vx;const dv={};class Sd{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,L.hu)(dv&&Jn,"ChildrenNode.ts has not been loaded"),vx=vx||new Sd({".priority":dv},{".priority":Jn}),vx}get(e){const t=(0,L.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Oo?t:null}hasIndex(e){return(0,L.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,L.hu)(e!==_c,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(Xt.Wrap);let h,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();h=r?LD(i,e.getCompare()):dv;const p=e.toString(),y=Object.assign({},this.indexSet_);y[p]=e;const C=Object.assign({},this.indexes_);return C[p]=h,new Sd(C,y)}addToIndexes(e,t){const i=(0,L.UI)(this.indexes_,(r,s)=>{const c=(0,L.DV)(this.indexSet_,s);if((0,L.hu)(c,"Missing index implementation for "+s),r===dv){if(c.isDefinedOn(e.node)){const h=[],p=t.getIterator(Xt.Wrap);let y=p.getNext();for(;y;)y.name!==e.name&&h.push(y),y=p.getNext();return h.push(e),LD(h,c.getCompare())}return dv}{const h=t.get(e.name);let p=r;return h&&(p=p.remove(new Xt(e.name,h))),p.insert(e,e.node)}});return new Sd(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,L.UI)(this.indexes_,r=>{if(r===dv)return r;{const s=t.get(e.name);return s?r.remove(new Xt(e.name,s)):r}});return new Sd(i,this.indexSet_)}}let Gw,Ht=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&HF(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Gw||(Gw=new n(new Oo(_x),null,Sd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?Gw:i}}getChild(t){const i=Kt(t);return null===i?this:this.getImmediateChild(i).getChild(Vn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,L.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Xt(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?Gw:this.priorityNode_;return new n(s,h,c)}}updateChild(t,i){const r=Kt(t);if(null===r)return i;{(0,L.hu)(".priority"!==Kt(t)||1===Pf(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Vn(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Jn,(h,p)=>{i[h]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):c=!1}),!t&&c&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+jF(this.getPriority().val())+":"),this.forEachChild(Jn,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":nF(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new Xt(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Xt(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Xt(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,Xt.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,Xt.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===$w?-1:0}withIndex(t){if(t===_c||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===_c||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Jn),s=i.getIterator(Jn);let c=r.getNext(),h=s.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=s.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(t){return t===_c?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const $w=new class xG extends Ht{constructor(){super(new Oo(_x),Ht.EMPTY_NODE,Sd.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ht.EMPTY_NODE}isEmpty(){return!1}};function Ci(n,e=null){if(null===n)return Ht.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,L.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new cv(n,Ci(e));if(n instanceof Array){let t=Ht.EMPTY_NODE;return qr(n,(i,r)=>{if((0,L.r3)(n,i)&&"."!==i.substring(0,1)){const s=Ci(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Ci(e))}{const t=[];let i=!1;if(qr(n,(c,h)=>{if("."!==c.substring(0,1)){const p=Ci(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new Xt(c,p)))}}),0===t.length)return Ht.EMPTY_NODE;const s=LD(t,TG,c=>c.name,_x);if(i){const c=LD(t,Jn.getCompare());return new Ht(s,Ci(e),new Sd({".priority":c},{".priority":Jn}))}return new Ht(s,Ci(e),Sd.Default)}}Object.defineProperties(Xt,{MIN:{value:new Xt(Id,Ht.EMPTY_NODE)},MAX:{value:new Xt(mc,$w)}}),VF.__EMPTY_NODE=Ht.EMPTY_NODE,cv.__childrenNodeConstructor=Ht,function DG(n){yx=n}($w),function SG(n){WF=n}($w),function IG(n){$F=n}(Ci);class bx extends PD{constructor(e){super(),this.indexPath_=e,(0,L.hu)(!Yt(e)&&".priority"!==Kt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Gg(e.name,t.name):s}makePost(e,t){const i=Ci(e),r=Ht.EMPTY_NODE.updateChild(this.indexPath_,i);return new Xt(t,r)}maxPost(){const e=Ht.EMPTY_NODE.updateChild(this.indexPath_,$w);return new Xt(mc,e)}toString(){return jw(this.indexPath_,0).join("/")}}const wx=new class RG extends PD{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Gg(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Xt.MIN}maxPost(){return Xt.MAX}makePost(e,t){const i=Ci(e);return new Xt(t,i)}toString(){return".value"}},hv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",PG=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=hv.charAt(t%64),t=Math.floor(t/64);(0,L.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=hv.charAt(e[r]);return(0,L.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),ZF=function(n){if(n===""+ox)return"-";const e=MD(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return mc;const s=hv.charAt(hv.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},KF=function(n){if(n===""+aF)return Id;const e=MD(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+ox:(delete t[t.length-1],t.join("")):(t[t.length-1]=hv.charAt(hv.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function YF(n){return{type:"value",snapshotNode:n}}function fv(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Ww(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function qw(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class Cx{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,L.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(Ww(t,h)):(0,L.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(fv(t,i)):c.trackChildChange(qw(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Jn,(r,s)=>{t.hasChild(r)||i.trackChildChange(Ww(r,s))}),t.isLeafNode()||t.forEachChild(Jn,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(qw(r,s,c))}else i.trackChildChange(fv(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ht.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class zw{constructor(e){this.indexedFilter_=new Cx(e.getIndex()),this.index_=e.getIndex(),this.startPost_=zw.getStartPost_(e),this.endPost_=zw.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new Xt(t,i))||(i=Ht.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Ht.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Ht.EMPTY_NODE);const s=this;return t.forEachChild(Jn,(c,h)=>{s.matches(new Xt(c,h))||(r=r.updateImmediateChild(c,Ht.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class FG{constructor(e){this.rangedFilter_=new zw(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new Xt(t,i))||(i=Ht.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Ht.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Ht.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const h=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(h.name,h.node),c++}}else{let s,c,h,p;if(r=t.withIndex(this.index_),r=r.updatePriority(Ht.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const D=this.index_.getCompare();h=(M,O)=>D(O,M)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let y=0,C=!1;for(;p.hasNext();){const D=p.getNext();!C&&h(s,D)<=0&&(C=!0),C&&y<this.limit_&&h(D,c)<=0?y++:r=r.updateImmediateChild(D.name,Ht.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const D=this.index_.getCompare();c=(M,O)=>D(O,M)}else c=this.index_.getCompare();const h=e;(0,L.hu)(h.numChildren()===this.limit_,"");const p=new Xt(t,i),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(h.hasChild(t)){const D=h.getImmediateChild(t);let M=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=M&&(M.name===t||h.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const O=null==M?1:c(M,p);if(C&&!i.isEmpty()&&O>=0)return null!=s&&s.trackChildChange(qw(t,i,D)),h.updateImmediateChild(t,i);{null!=s&&s.trackChildChange(Ww(t,D));const Z=h.updateImmediateChild(t,Ht.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(null!=s&&s.trackChildChange(fv(M.name,M.node)),Z.updateImmediateChild(M.name,M.node)):Z}}return i.isEmpty()?e:C&&c(y,p)>=0?(null!=s&&(s.trackChildChange(Ww(y.name,y.node)),s.trackChildChange(fv(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(y.name,Ht.EMPTY_NODE)):e}}class BD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Id}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:mc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Jn}copy(){const e=new BD;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Tx(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function Dx(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function UD(n,e){const t=n.copy();return t.index_=e,t}function JF(n){const e={};if(n.isDefault())return e;let t;return n.index_===Jn?t="$priority":n.index_===wx?t="$value":n.index_===_c?t="$key":((0,L.hu)(n.index_ instanceof bx,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,L.Pz)(t),n.startSet_&&(e.startAt=(0,L.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,L.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,L.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,L.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function QF(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Jn&&(e.i=n.index_.toString()),e}class VD extends OF{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Lw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,L.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=VD.getListenId_(e,i),h={};this.listens_[c]=h;const p=JF(e._queryParams);this.restRequest_(s+".json",p,(y,C)=>{let D=C;if(404===y&&(D=null,y=null),null===y&&this.onDataUpdate_(s,D,!1,i),(0,L.DV)(this.listens_,c)===h){let M;M=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(M,null)}})}unlisten(e,t){const i=VD.getListenId_(e,t);delete this.listens_[i]}get(e){const t=JF(e._queryParams),i=e._path.toString(),r=new L.BH;return this.restRequest_(i+".json",t,(s,c)=>{let h=c;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,L.xO)(t);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,L.cI)(h.responseText)}catch(y){Ps("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&Ps("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class HG{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function jD(){return{value:null,children:new Map}}function pv(n,e,t){if(Yt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Kt(e);n.children.has(i)||n.children.set(i,jD()),pv(n.children.get(i),e=Vn(e),t)}}function Ix(n,e){if(Yt(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Jn,(i,r)=>{pv(n,new Sn(i),r)}),Ix(n,e)}}if(n.children.size>0){const t=Kt(e);return e=Vn(e),n.children.has(t)&&Ix(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function Sx(n,e,t){null!==n.value?t(e,n.value):function GG(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{Sx(r,new Sn(e.toString()+"/"+i),t)})}class $G{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&qr(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class zG{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new $G(e);const i=1e4+2e4*Math.random();Uw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;qr(e,(r,s)=>{s>0&&(0,L.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),Uw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var cl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(cl||(cl={})),cl))();function Mx(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class HD{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=cl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Yt(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Sn(e));return new HD(_n(),t,this.revert)}}return(0,L.hu)(Kt(this.path)===e,"operationForChild called for unrelated child."),new HD(Vn(this.path),this.affectedTree,this.revert)}}class Zw{constructor(e,t){this.source=e,this.path=t,this.type=cl.LISTEN_COMPLETE}operationForChild(e){return Yt(this.path)?new Zw(this.source,_n()):new Zw(this.source,Vn(this.path))}}class qg{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=cl.OVERWRITE}operationForChild(e){return Yt(this.path)?new qg(this.source,_n(),this.snap.getImmediateChild(e)):new qg(this.source,Vn(this.path),this.snap)}}class gv{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=cl.MERGE}operationForChild(e){if(Yt(this.path)){const t=this.children.subtree(new Sn(e));return t.isEmpty()?null:t.value?new qg(this.source,_n(),t.value):new gv(this.source,_n(),t)}return(0,L.hu)(Kt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gv(this.source,Vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class kf{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Yt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Kt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ZG{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Kw(n,e,t,i,r,s){const c=i.filter(h=>h.type===t);c.sort((h,p)=>function JG(n,e,t){if(null==e.childName||null==t.childName)throw(0,L.g5)("Should only compare child_ events.");const i=new Xt(e.childName,e.snapshotNode),r=new Xt(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,p)),c.forEach(h=>{const p=function YG(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,s);r.forEach(y=>{y.respondsTo(h.type)&&e.push(y.createEvent(p,n.query_))})})}function GD(n,e){return{eventCache:n,serverCache:e}}function Yw(n,e,t,i){return GD(new kf(e,t,i),n.serverCache)}function eL(n,e,t,i){return GD(n.eventCache,new kf(e,t,i))}function $D(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function zg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let xx;class Qn{constructor(e,t=(()=>(xx||(xx=new Oo(k3)),xx))()){this.value=e,this.children=t}static fromObject(e){let t=new Qn(null);return qr(e,(i,r)=>{t=t.set(new Sn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:_n(),value:this.value};if(Yt(e))return null;{const i=Kt(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Vn(e),t);return null!=s?{path:pi(new Sn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Yt(e))return this;{const t=Kt(e),i=this.children.get(t);return null!==i?i.subtree(Vn(e)):new Qn(null)}}set(e,t){if(Yt(e))return new Qn(t,this.children);{const i=Kt(e),s=(this.children.get(i)||new Qn(null)).set(Vn(e),t),c=this.children.insert(i,s);return new Qn(this.value,c)}}remove(e){if(Yt(e))return this.children.isEmpty()?new Qn(null):new Qn(null,this.children);{const t=Kt(e),i=this.children.get(t);if(i){const r=i.remove(Vn(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Qn(null):new Qn(this.value,s)}return this}}get(e){if(Yt(e))return this.value;{const t=Kt(e),i=this.children.get(t);return i?i.get(Vn(e)):null}}setTree(e,t){if(Yt(e))return t;{const i=Kt(e),s=(this.children.get(i)||new Qn(null)).setTree(Vn(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Qn(this.value,c)}}fold(e){return this.fold_(_n(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(pi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,_n(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Yt(e))return null;{const s=Kt(e),c=this.children.get(s);return c?c.findOnPath_(Vn(e),pi(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,_n(),t)}foreachOnPath_(e,t,i){if(Yt(e))return this;{this.value&&i(t,this.value);const r=Kt(e),s=this.children.get(r);return s?s.foreachOnPath_(Vn(e),pi(t,r),i):new Qn(null)}}foreach(e){this.foreach_(_n(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(pi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class uu{constructor(e){this.writeTree_=e}static empty(){return new uu(new Qn(null))}}function Jw(n,e,t){if(Yt(e))return new uu(new Qn(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=Js(r,e);return s=s.updateChild(c,t),new uu(n.writeTree_.set(r,s))}{const r=new Qn(t),s=n.writeTree_.setTree(e,r);return new uu(s)}}}function Ox(n,e,t){let i=n;return qr(t,(r,s)=>{i=Jw(i,pi(e,r),s)}),i}function tL(n,e){if(Yt(e))return uu.empty();{const t=n.writeTree_.setTree(e,new Qn(null));return new uu(t)}}function Rx(n,e){return null!=Zg(n,e)}function Zg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Js(t.path,e)):null}function nL(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Jn,(i,r)=>{e.push(new Xt(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Xt(i,r.value))}),e}function Ff(n,e){if(Yt(e))return n;{const t=Zg(n,e);return new uu(null!=t?new Qn(t):n.writeTree_.subtree(e))}}function Px(n){return n.writeTree_.isEmpty()}function mv(n,e){return iL(_n(),n.writeTree_,e)}function iL(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,L.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=iL(pi(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(pi(n,".priority"),i)),t}}function WD(n,e){return lL(e,n)}function i$(n,e){if(n.snap)return ul(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ul(pi(n.path,t),e))return!0;return!1}function s$(n){return n.visible}function rL(n,e,t){let i=uu.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let h;if(s.snap)ul(t,c)?(h=Js(t,c),i=Jw(i,h,s.snap)):ul(c,t)&&(h=Js(c,t),i=Jw(i,_n(),s.snap.getChild(h)));else{if(!s.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(ul(t,c))h=Js(t,c),i=Ox(i,h,s.children);else if(ul(c,t))if(h=Js(c,t),Yt(h))i=Ox(i,_n(),s.children);else{const p=(0,L.DV)(s.children,Kt(h));if(p){const y=p.getChild(Vn(h));i=Jw(i,_n(),y)}}}}}return i}function sL(n,e,t,i,r){if(i||r){const s=Ff(n.visibleWrites,e);return!r&&Px(s)?t:r||null!=t||Rx(s,_n())?mv(rL(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(ul(y.path,e)||ul(e,y.path))},e),t||Ht.EMPTY_NODE):null}{const s=Zg(n.visibleWrites,e);if(null!=s)return s;{const c=Ff(n.visibleWrites,e);return Px(c)?t:null!=t||Rx(c,_n())?mv(c,t||Ht.EMPTY_NODE):null}}}function qD(n,e,t,i){return sL(n.writeTree,n.treePath,e,t,i)}function kx(n,e){return function o$(n,e,t){let i=Ht.EMPTY_NODE;const r=Zg(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Jn,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=Ff(n.visibleWrites,e);return t.forEachChild(Jn,(c,h)=>{const p=mv(Ff(s,new Sn(c)),h);i=i.updateImmediateChild(c,p)}),nL(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return nL(Ff(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function oL(n,e,t,i){return function a$(n,e,t,i,r){(0,L.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=pi(e,t);if(Rx(n.visibleWrites,s))return null;{const c=Ff(n.visibleWrites,s);return Px(c)?r.getChild(t):mv(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function zD(n,e){return function u$(n,e){return Zg(n.visibleWrites,e)}(n.writeTree,pi(n.treePath,e))}function Fx(n,e,t){return function l$(n,e,t,i){const r=pi(e,t),s=Zg(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?mv(Ff(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function aL(n,e){return lL(pi(n.treePath,e),n.writeTree)}function lL(n,e){return{treePath:n,writeTree:e}}class f${constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,L.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,qw(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,Ww(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,fv(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,L.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,qw(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const uL=new class p${getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class Lx{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new kf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fx(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:zg(this.viewCache_),s=function h$(n,e,t,i,r,s){return function c$(n,e,t,i,r,s,c){let h;const p=Ff(n.visibleWrites,e),y=Zg(p,_n());if(null!=y)h=y;else{if(null==t)return[];h=mv(p,t)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const C=[],D=c.getCompare(),M=s?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let O=M.getNext();for(;O&&C.length<r;)0!==D(O,i)&&C.push(O),O=M.getNext();return C}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function cL(n,e,t,i,r,s){const c=e.eventCache;if(null!=zD(i,t))return e;{let h,p;if(Yt(t))if((0,L.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=zg(e),D=kx(i,y instanceof Ht?y:Ht.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const y=qD(i,zg(e));h=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const y=Kt(t);if(".priority"===y){(0,L.hu)(1===Pf(t),"Can't have a priority with additional path components");const C=c.getNode();p=e.serverCache.getNode();const D=oL(i,t,C,p);h=null!=D?n.filter.updatePriority(C,D):c.getNode()}else{const C=Vn(t);let D;if(c.isCompleteForChild(y)){p=e.serverCache.getNode();const M=oL(i,t,c.getNode(),p);D=null!=M?c.getNode().getImmediateChild(y).updateChild(C,M):c.getNode().getImmediateChild(y)}else D=Fx(i,y,e.serverCache);h=null!=D?n.filter.updateChild(c.getNode(),y,D,C,r,s):c.getNode()}}return Yw(e,h,c.isFullyInitialized()||Yt(t),n.filter.filtersNodes())}}function ZD(n,e,t,i,r,s,c,h){const p=e.serverCache;let y;const C=c?n.filter:n.filter.getIndexedFilter();if(Yt(t))y=C.updateFullNode(p.getNode(),i,null);else if(C.filtersNodes()&&!p.isFiltered()){const O=p.getNode().updateChild(t,i);y=C.updateFullNode(p.getNode(),O,null)}else{const O=Kt(t);if(!p.isCompleteForPath(t)&&Pf(t)>1)return e;const B=Vn(t),ue=p.getNode().getImmediateChild(O).updateChild(B,i);y=".priority"===O?C.updatePriority(p.getNode(),ue):C.updateChild(p.getNode(),O,ue,B,uL,null)}const D=eL(e,y,p.isFullyInitialized()||Yt(t),C.filtersNodes());return cL(n,D,t,r,new Lx(r,D,s),h)}function Bx(n,e,t,i,r,s,c){const h=e.eventCache;let p,y;const C=new Lx(r,e,s);if(Yt(t))y=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=Yw(e,y,!0,n.filter.filtersNodes());else{const D=Kt(t);if(".priority"===D)y=n.filter.updatePriority(e.eventCache.getNode(),i),p=Yw(e,y,h.isFullyInitialized(),h.isFiltered());else{const M=Vn(t),O=h.getNode().getImmediateChild(D);let B;if(Yt(M))B=i;else{const Z=C.getCompleteChild(D);B=null!=Z?".priority"===px(M)&&Z.getChild(FF(M)).isEmpty()?Z:Z.updateChild(M,i):Ht.EMPTY_NODE}p=O.equals(B)?e:Yw(e,n.filter.updateChild(h.getNode(),D,B,M,C,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function dL(n,e){return n.eventCache.isCompleteForChild(e)}function hL(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Ux(n,e,t,i,r,s,c,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,p=e;y=Yt(t)?i:new Qn(null).setTree(t,i);const C=e.serverCache.getNode();return y.children.inorderTraversal((D,M)=>{if(C.hasChild(D)){const B=hL(0,e.serverCache.getNode().getImmediateChild(D),M);p=ZD(n,p,new Sn(D),B,r,s,c,h)}}),y.children.inorderTraversal((D,M)=>{const O=!e.serverCache.isCompleteForChild(D)&&void 0===M.value;if(!C.hasChild(D)&&!O){const Z=hL(0,e.serverCache.getNode().getImmediateChild(D),M);p=ZD(n,p,new Sn(D),Z,r,s,c,h)}}),p}class C${constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new Cx(i.getIndex()),s=function LG(n){return n.loadsAllData()?new Cx(n.getIndex()):n.hasLimit()?new FG(n):new zw(n)}(i);this.processor_=function g$(n){return{filter:n}}(s);const c=t.serverCache,h=t.eventCache,p=r.updateFullNode(Ht.EMPTY_NODE,c.getNode(),null),y=s.updateFullNode(Ht.EMPTY_NODE,h.getNode(),null),C=new kf(p,c.isFullyInitialized(),r.filtersNodes()),D=new kf(y,h.isFullyInitialized(),s.filtersNodes());this.viewCache_=GD(D,C),this.eventGenerator_=new ZG(this.query_)}get query(){return this.query_}}function I$(n,e){const t=zg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Yt(e)&&!t.getImmediateChild(Kt(e)).isEmpty())?t.getChild(e):null}function fL(n){return 0===n.eventRegistrations_.length}function pL(n,e,t){const i=[];if(t){(0,L.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function gL(n,e,t,i){e.type===cl.MERGE&&null!==e.source.queryId&&((0,L.hu)(zg(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)($D(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function _$(n,e,t,i,r){const s=new f$;let c,h;if(t.type===cl.OVERWRITE){const y=t;y.source.fromUser?c=Bx(n,e,y.path,y.snap,i,r,s):((0,L.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered()&&!Yt(y.path),c=ZD(n,e,y.path,y.snap,i,r,h,s))}else if(t.type===cl.MERGE){const y=t;y.source.fromUser?c=function v$(n,e,t,i,r,s,c){let h=e;return i.foreach((p,y)=>{const C=pi(t,p);dL(e,Kt(C))&&(h=Bx(n,h,C,y,r,s,c))}),i.foreach((p,y)=>{const C=pi(t,p);dL(e,Kt(C))||(h=Bx(n,h,C,y,r,s,c))}),h}(n,e,y.path,y.children,i,r,s):((0,L.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered(),c=Ux(n,e,y.path,y.children,i,r,h,s))}else if(t.type===cl.ACK_USER_WRITE){const y=t;c=y.revert?function E$(n,e,t,i,r,s){let c;if(null!=zD(i,t))return e;{const h=new Lx(i,e,r),p=e.eventCache.getNode();let y;if(Yt(t)||".priority"===Kt(t)){let C;if(e.serverCache.isFullyInitialized())C=qD(i,zg(e));else{const D=e.serverCache.getNode();(0,L.hu)(D instanceof Ht,"serverChildren would be complete if leaf node"),C=kx(i,D)}C=C,y=n.filter.updateFullNode(p,C,s)}else{const C=Kt(t);let D=Fx(i,C,e.serverCache);null==D&&e.serverCache.isCompleteForChild(C)&&(D=p.getImmediateChild(C)),y=null!=D?n.filter.updateChild(p,C,D,Vn(t),h,s):e.eventCache.getNode().hasChild(C)?n.filter.updateChild(p,C,Ht.EMPTY_NODE,Vn(t),h,s):p,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=qD(i,zg(e)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=zD(i,_n()),Yw(e,y,c,n.filter.filtersNodes())}}(n,e,y.path,i,r,s):function b$(n,e,t,i,r,s,c){if(null!=zD(r,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(Yt(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return ZD(n,e,t,p.getNode().getChild(t),r,s,h,c);if(Yt(t)){let y=new Qn(null);return p.getNode().forEachChild(_c,(C,D)=>{y=y.set(new Sn(C),D)}),Ux(n,e,t,y,r,s,h,c)}return e}{let y=new Qn(null);return i.foreach((C,D)=>{const M=pi(t,C);p.isCompleteForPath(M)&&(y=y.set(C,p.getNode().getChild(M)))}),Ux(n,e,t,y,r,s,h,c)}}(n,e,y.path,y.affectedTree,i,r,s)}else{if(t.type!==cl.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+t.type);c=function w$(n,e,t,i,r){const s=e.serverCache;return cL(n,eL(e,s.getNode(),s.isFullyInitialized()||Yt(t),s.isFiltered()),t,i,uL,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function y$(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=$D(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(YF($D(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function m$(n,e){(0,L.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,L.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,mL(n,s.changes,s.viewCache.eventCache.getNode(),null)}function mL(n,e,t,i){return function KG(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function kG(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),Kw(n,r,"child_removed",e,i,t),Kw(n,r,"child_added",e,i,t),Kw(n,r,"child_moved",s,i,t),Kw(n,r,"child_changed",e,i,t),Kw(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let KD,JD;class _L{constructor(){this.views=new Map}}function Vx(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,L.hu)(null!=s,"SyncTree gave us an op for an invalid query."),gL(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(gL(c,e,t,i));return s}}function yL(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let h=qD(t,r?i:null),p=!1;h?p=!0:i instanceof Ht?(h=kx(t,i),p=!1):(h=Ht.EMPTY_NODE,p=!1);const y=GD(new kf(h,p,!1),new kf(i,r,!1));return new C$(e,y)}return c}function vL(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Lf(n,e){let t=null;for(const i of n.views.values())t=t||I$(i,e);return t}function bL(n,e){return e._queryParams.loadsAllData()?YD(n):n.views.get(e._queryIdentifier)}function wL(n,e){return null!=bL(n,e)}function Bf(n){return null!=YD(n)}function YD(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let F$=1;class EL{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qn(null),this.pendingWriteTree_=function d$(){return{visibleWrites:uu.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jx(n,e,t,i,r){return function XG(n,e,t,i,r){(0,L.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Jw(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?_v(n,new qg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Uf(n,e,t=!1){const i=function t$(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function n$(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,L.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=t&&i$(h,i.path)?r=!1:ul(i.path,h.path)&&(s=!0)),c--}return!!r&&(s?(function r$(n){n.visibleWrites=rL(n.allWrites,s$,_n()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=tL(n.visibleWrites,i.path):qr(i.children,p=>{n.visibleWrites=tL(n.visibleWrites,pi(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Qn(null);return null!=i.snap?s=s.set(_n(),!0):qr(i.children,c=>{s=s.set(new Sn(c),!0)}),_v(n,new HD(i.path,s,t))}return[]}function Qw(n,e,t){return _v(n,new qg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Hx(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===e._queryIdentifier||wL(s,e))){const h=function R$(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const h=Bf(n);if("default"===r)for(const[p,y]of n.views.entries())c=c.concat(pL(y,t,i)),fL(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||s.push(y.query));else{const p=n.views.get(r);p&&(c=c.concat(pL(p,t,i)),fL(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return h&&!Bf(n)&&s.push(new(function M$(){return(0,L.hu)(KD,"Reference.ts has not been loaded"),KD}())(e._repo,e._path)),{removed:s,events:c}}(s,e,t,i);(function x$(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=h.removed;c=h.events;const y=-1!==p.findIndex(D=>D._queryParams.loadsAllData()),C=n.syncPointTree_.findOnPath(r,(D,M)=>Bf(M));if(y&&!C){const D=n.syncPointTree_.subtree(r);if(!D.isEmpty()){const M=function $$(n){return n.fold((e,t,i)=>{if(t&&Bf(t))return[YD(t)];{let r=[];return t&&(r=vL(t)),qr(i,(s,c)=>{r=r.concat(c)}),r}})}(D);for(let O=0;O<M.length;++O){const B=M[O],Z=B.query,ue=IL(n,B);n.listenProvider_.startListening(Xw(Z),XD(n,Z),ue.hashFn,ue.onComplete)}}}!C&&p.length>0&&!i&&(y?n.listenProvider_.stopListening(Xw(e),null):p.forEach(D=>{const M=n.queryToTagMap.get(eI(D));n.listenProvider_.stopListening(Xw(D),M)})),function W$(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=eI(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function CL(n,e,t){const i=e._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(D,M)=>{const O=Js(D,i);r=r||Lf(M,O),s=s||Bf(M)});let h,c=n.syncPointTree_.get(i);c?(s=s||Bf(c),r=r||Lf(c,_n())):(c=new _L,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?h=!0:(h=!1,r=Ht.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((M,O)=>{const B=Lf(O,_n());B&&(r=r.updateImmediateChild(M,B))}));const p=wL(c,e);if(!p&&!e._queryParams.loadsAllData()){const D=eI(e);(0,L.hu)(!n.queryToTagMap.has(D),"View does not exist, but we have a tag");const M=function q$(){return F$++}();n.queryToTagMap.set(D,M),n.tagToQueryMap.set(M,D)}let C=function O$(n,e,t,i,r,s){const c=yL(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function S$(n,e){n.eventRegistrations_.push(e)}(c,t),function A$(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Jn,(s,c)=>{i.push(fv(s,c))}),t.isFullyInitialized()&&i.push(YF(t.getNode())),mL(n,i,t.getNode(),e)}(c,t)}(c,e,t,WD(n.pendingWriteTree_,i),r,h);if(!p&&!s){const D=bL(c,e);C=C.concat(function z$(n,e,t){const i=e._path,r=XD(n,e),s=IL(n,t),c=n.listenProvider_.startListening(Xw(e),r,s.hashFn,s.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,L.hu)(!Bf(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((y,C,D)=>{if(!Yt(y)&&C&&Bf(C))return[YD(C).query];{let M=[];return C&&(M=M.concat(vL(C).map(O=>O.query))),qr(D,(O,B)=>{M=M.concat(B)}),M}});for(let y=0;y<p.length;++y){const C=p[y];n.listenProvider_.stopListening(Xw(C),XD(n,C))}}return c}(n,e,D))}return C}function QD(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,h)=>{const y=Lf(h,Js(c,e));if(y)return y});return sL(r,e,s,t,!0)}function _v(n,e){return TL(e,n.syncPointTree_,null,WD(n.pendingWriteTree_,_n()))}function TL(n,e,t,i){if(Yt(n.path))return DL(n,e,t,i);{const r=e.get(_n());null==t&&null!=r&&(t=Lf(r,_n()));let s=[];const c=Kt(n.path),h=n.operationForChild(c),p=e.children.get(c);if(p&&h){const y=t?t.getImmediateChild(c):null,C=aL(i,c);s=s.concat(TL(h,p,y,C))}return r&&(s=s.concat(Vx(r,n,i,t))),s}}function DL(n,e,t,i){const r=e.get(_n());null==t&&null!=r&&(t=Lf(r,_n()));let s=[];return e.children.inorderTraversal((c,h)=>{const p=t?t.getImmediateChild(c):null,y=aL(i,c),C=n.operationForChild(c);C&&(s=s.concat(DL(C,h,p,y)))}),r&&(s=s.concat(Vx(r,n,i,t))),s}function IL(n,e){const t=e.query,i=XD(n,t);return{hashFn:()=>(function T$(n){return n.viewCache_.serverCache.getNode()}(e)||Ht.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function V$(n,e,t){const i=Gx(n,t);if(i){const r=$x(i),s=r.path,c=r.queryId,h=Js(s,e);return Wx(n,s,new Zw(Mx(c),h))}return[]}(n,t._path,i):function U$(n,e){return _v(n,new Zw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function B3(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return Hx(n,t,null,s)}}}}function XD(n,e){const t=eI(e);return n.queryToTagMap.get(t)}function eI(n){return n._path.toString()+"$"+n._queryIdentifier}function Gx(n,e){return n.tagToQueryMap.get(e)}function $x(n){const e=n.indexOf("$");return(0,L.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Sn(n.substr(0,e))}}function Wx(n,e,t){const i=n.syncPointTree_.get(e);return(0,L.hu)(i,"Missing sync point for query tag that we're tracking"),Vx(i,t,WD(n.pendingWriteTree_,e),null)}function Xw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function k$(){return(0,L.hu)(JD,"Reference.ts has not been loaded"),JD}())(n._repo,n._path):n}class qx{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new qx(t)}node(){return this.node_}}class zx{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=pi(this.path_,e);return new zx(this.syncTree_,t)}node(){return QD(this.syncTree_,this.path_)}}const SL=function(n,e,t){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?K$(n[".sv"],e,t):"object"==typeof n[".sv"]?Y$(n[".sv"],e):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},K$=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},Y$=function(n,e,t){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,L.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,L.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},AL=function(n,e,t,i){return Kx(e,new zx(t,n),i)},Zx=function(n,e,t){return Kx(n,new qx(e),t)};function Kx(n,e,t){const i=n.getPriority().val(),r=SL(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,h=SL(c.getValue(),e,t);return h!==c.getValue()||r!==c.getPriority().val()?new cv(h,Ci(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new cv(r))),c.forEachChild(Jn,(h,p)=>{const y=Kx(p,e.getImmediateChild(h),t);y!==p&&(s=s.updateImmediateChild(h,y))}),s}}class Yx{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function tI(n,e){let t=e instanceof Sn?e:new Sn(e),i=n,r=Kt(t);for(;null!==r;){const s=(0,L.DV)(i.node.children,r)||{children:{},childCount:0};i=new Yx(r,i,s),t=Vn(t),r=Kt(t)}return i}function Kg(n){return n.node.value}function Jx(n,e){n.node.value=e,Qx(n)}function NL(n){return n.node.childCount>0}function nI(n,e){qr(n.node.children,(t,i)=>{e(new Yx(t,n,i))})}function ML(n,e,t,i){t&&!i&&e(n),nI(n,r=>{ML(r,e,!0,i)}),t&&i&&e(n)}function eE(n){return new Sn(null===n.parent?n.name:eE(n.parent)+"/"+n.name)}function Qx(n){null!==n.parent&&function X$(n,e,t){const i=function J$(n){return void 0===Kg(n)&&!NL(n)}(t),r=(0,L.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,Qx(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,Qx(n))}(n.parent,n.name,n)}const eW=/[\[\].#$\/\u0000-\u001F\u007F]/,tW=/[\[\].#$\u0000-\u001F\u007F]/,Xx=10485760,iI=function(n){return"string"==typeof n&&0!==n.length&&!eW.test(n)},xL=function(n){return"string"==typeof n&&0!==n.length&&!tW.test(n)},tE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!ND(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},yc=function(n,e,t,i){i&&void 0===e||nE((0,L.gK)(n,"value"),e,t)},nE=function(n,e,t){const i=t instanceof Sn?new gG(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+$g(i));if("function"==typeof e)throw new Error(n+"contains a function "+$g(i)+" with contents = "+e.toString());if(ND(e))throw new Error(n+"contains "+e.toString()+" "+$g(i));if("string"==typeof e&&e.length>Xx/3&&(0,L.ug)(e)>Xx)throw new Error(n+"contains a string greater than "+Xx+" utf8 bytes "+$g(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(qr(e,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!iI(c)))throw new Error(n+" contains an invalid key ("+c+") "+$g(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mG(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,L.ug)(e),LF(n)})(i,c),nE(n,h,i),function _G(n){const e=n.parts_.pop();n.byteLength_-=(0,L.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+$g(i)+" in addition to actual children.")}},OL=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,L.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];qr(e,(c,h)=>{const p=new Sn(c);if(nE(r,h,pi(t,p)),".priority"===px(p)&&!tE(h))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=jw(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!iI(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(pG);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&ul(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},eO=function(n,e,t){if(!t||void 0!==e){if(ND(e))throw new Error((0,L.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!tE(e))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},iE=function(n,e,t,i){if(!(i&&void 0===t||iI(t)))throw new Error((0,L.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},rE=function(n,e,t,i){if(!(i&&void 0===t||xL(t)))throw new Error((0,L.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},dl=function(n,e){if(".info"===Kt(e))throw new Error(n+" failed = Can't modify data under /.info/")},RL=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!iI(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xL(n)}(t))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class sW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rI(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!gx(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function tO(n,e,t){rI(n,t),PL(n,i=>gx(i,e))}function hl(n,e,t){rI(n,t),PL(n,i=>ul(i,e)||ul(e,i))}function PL(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(oW(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function oW(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Hg&&Wr("event: "+t.toString()),lv(i)}}}const kL="repo_interrupt";class lW{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jD(),this.transactionQueueTree_=new Yx,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function FL(n){const t=n.infoData_.getNode(new Sn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function sE(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:FL(n)})}function LL(n,e,t,i,r){n.dataUpdateCount++;const s=new Sn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,L.UI)(t,y=>Ci(y));c=function H$(n,e,t,i){const r=Gx(n,i);if(r){const s=$x(r),c=s.path,h=s.queryId,p=Js(c,e),y=Qn.fromObject(t);return Wx(n,c,new gv(Mx(h),p,y))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Ci(t);c=function j$(n,e,t,i){const r=Gx(n,i);if(null!=r){const s=$x(r),c=s.path,h=s.queryId,p=Js(c,e);return Wx(n,c,new qg(Mx(h),p,t))}return[]}(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,L.UI)(t,y=>Ci(y));c=function B$(n,e,t){const i=Qn.fromObject(t);return _v(n,new gv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=Ci(t);c=Qw(n.serverSyncTree_,s,p)}let h=s;c.length>0&&(h=vv(n,s)),hl(n.eventQueue_,h,c)}function BL(n,e){nO(n,"connected",e),!1===e&&function fW(n){yv(n,"onDisconnectEvents");const e=sE(n),t=jD();Sx(n.onDisconnect_,_n(),(r,s)=>{const c=AL(r,s,n.serverSyncTree_,e);pv(t,r,c)});let i=[];Sx(t,_n(),(r,s)=>{i=i.concat(Qw(n.serverSyncTree_,r,s));const c=oO(n,r);vv(n,c)}),n.onDisconnect_=jD(),hl(n.eventQueue_,_n(),i)}(n)}function nO(n,e,t){const i=new Sn("/.info/"+e),r=Ci(t);n.infoData_.updateSnapshot(i,r);const s=Qw(n.infoSyncTree_,i,r);hl(n.eventQueue_,i,s)}function sI(n){return n.nextWriteId_++}function iO(n,e,t,i,r){yv(n,"set",{path:e.toString(),value:t,priority:i});const s=sE(n),c=Ci(t,i),h=QD(n.serverSyncTree_,e),p=Zx(c,h,s),y=sI(n),C=jx(n.serverSyncTree_,e,p,y,!0);rI(n.eventQueue_,C),n.server_.put(e.toString(),c.val(!0),(M,O)=>{const B="ok"===M;B||Ps("set at "+e+" failed: "+M);const Z=Uf(n.serverSyncTree_,y,!B);hl(n.eventQueue_,e,Z),Vf(0,r,M,O)});const D=oO(n,e);vv(n,D),hl(n.eventQueue_,D,[])}function pW(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&Ix(n.onDisconnect_,e),Vf(0,t,i,r)})}function UL(n,e,t,i){const r=Ci(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&pv(n.onDisconnect_,e,r),Vf(0,i,s,c)})}function rO(n,e,t){let i;i=".info"===Kt(e._path)?Hx(n.infoSyncTree_,e,t):Hx(n.serverSyncTree_,e,t),tO(n.eventQueue_,e._path,i)}function VL(n){n.persistentConnection_&&n.persistentConnection_.interrupt(kL)}function yv(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Wr(t,...e)}function Vf(n,e,t,i){e&&lv(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function sO(n,e,t){return QD(n.serverSyncTree_,e,t)||Ht.EMPTY_NODE}function oI(n,e=n.transactionQueueTree_){if(e||aI(n,e),Kg(e)){const t=HL(n,e);(0,L.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function bW(n,e,t){const i=t.map(y=>y.currentWriteId),r=sO(n,e,i);let s=r;const c=r.hash();for(let y=0;y<t.length;y++){const C=t[y];(0,L.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const D=Js(e,C.path);s=s.updateChild(D,C.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;n.server_.put(p.toString(),h,y=>{yv(n,"transaction put response",{path:p.toString(),status:y});let C=[];if("ok"===y){const D=[];for(let M=0;M<t.length;M++)t[M].status=2,C=C.concat(Uf(n.serverSyncTree_,t[M].currentWriteId)),t[M].onComplete&&D.push(()=>t[M].onComplete(null,!0,t[M].currentOutputSnapshotResolved)),t[M].unwatcher();aI(n,tI(n.transactionQueueTree_,e)),oI(n,n.transactionQueueTree_),hl(n.eventQueue_,e,C);for(let M=0;M<D.length;M++)lv(D[M])}else{if("datastale"===y)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{Ps("transaction at "+p.toString()+" failed: "+y);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=y}vv(n,e)}},c)}(n,eE(e),t)}else NL(e)&&nI(e,t=>{oI(n,t)})}function vv(n,e){const t=jL(n,e),i=eE(t);return function wW(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],y=Js(t,p.path);let D,C=!1;if((0,L.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)C=!0,D=p.abortReason,r=r.concat(Uf(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)C=!0,D="maxretry",r=r.concat(Uf(n.serverSyncTree_,p.currentWriteId,!0));else{const M=sO(n,p.path,c);p.currentInputSnapshot=M;const O=e[h].update(M.val());if(void 0!==O){nE("transaction failed: Data returned ",O,p.path);let B=Ci(O);"object"==typeof O&&null!=O&&(0,L.r3)(O,".priority")||(B=B.updatePriority(M.getPriority()));const ue=p.currentWriteId,xe=sE(n),ke=Zx(B,M,xe);p.currentOutputSnapshotRaw=B,p.currentOutputSnapshotResolved=ke,p.currentWriteId=sI(n),c.splice(c.indexOf(ue),1),r=r.concat(jx(n.serverSyncTree_,p.path,ke,p.currentWriteId,p.applyLocally)),r=r.concat(Uf(n.serverSyncTree_,ue,!0))}else C=!0,D="nodata",r=r.concat(Uf(n.serverSyncTree_,p.currentWriteId,!0))}hl(n.eventQueue_,t,r),r=[],C&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===D?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(D),!1,null)))}aI(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)lv(i[h]);oI(n,n.transactionQueueTree_)}(n,HL(n,t),i),i}function jL(n,e){let t,i=n.transactionQueueTree_;for(t=Kt(e);null!==t&&void 0===Kg(i);)i=tI(i,t),t=Kt(e=Vn(e));return i}function HL(n,e){const t=[];return GL(n,e,t),t.sort((i,r)=>i.order-r.order),t}function GL(n,e,t){const i=Kg(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);nI(e,r=>{GL(n,r,t)})}function aI(n,e){const t=Kg(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,Jx(e,t.length>0?t:void 0)}nI(e,i=>{aI(n,i)})}function oO(n,e){const t=eE(jL(n,e)),i=tI(n.transactionQueueTree_,e);return function Q$(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{aO(n,r)}),aO(n,i),ML(i,r=>{aO(n,r)}),t}function aO(n,e){const t=Kg(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,L.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,L.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(Uf(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Jx(e,void 0):t.length=s+1,hl(n.eventQueue_,eE(e),r);for(let c=0;c<i.length;c++)lv(i[c])}}const lO=function(n,e){const t=TW(n),i=t.namespace;return"firebase.com"===t.domain&&gc(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&gc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Ps("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new lx(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Sn(t.pathString)}},TW=function(n){let e="",t="",i="",r="",s="",c=!0,h="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let C=n.indexOf("/");-1===C&&(C=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(C,D)),C<D&&(r=function EW(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(C,D)));const M=function CW(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ps(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));y=e.indexOf(":"),y>=0?(c="https"===h||"wss"===h,p=parseInt(e.substring(y+1),10)):y=e.length;const O=e.slice(0,y);if("localhost"===O.toLowerCase())t="localhost";else if(O.split(".").length<=2)t=O;else{const B=e.indexOf(".");i=e.substring(0,B).toLowerCase(),t=e.substring(B+1),s=i}"ns"in M&&(s=M.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:h,pathString:r,namespace:s}};class $L{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())}}class WL{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class qL{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class zL{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new L.BH;return pW(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){dl("OnDisconnect.remove",this._path);const e=new L.BH;return UL(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){dl("OnDisconnect.set",this._path),yc("OnDisconnect.set",e,this._path,!1);const t=new L.BH;return UL(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){dl("OnDisconnect.setWithPriority",this._path),yc("OnDisconnect.setWithPriority",e,this._path,!1),eO("OnDisconnect.setWithPriority",t,!1);const i=new L.BH;return function gW(n,e,t,i,r){const s=Ci(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,h)=>{"ok"===c&&pv(n.onDisconnect_,e,s),Vf(0,r,c,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){dl("OnDisconnect.update",this._path),OL("OnDisconnect.update",e,this._path,!1);const t=new L.BH;return function mW(n,e,t,i){if((0,L.xb)(t))return Wr("onDisconnect().update() called with empty data.  Don't do anything."),void Vf(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&qr(t,(c,h)=>{const p=Ci(h);pv(n.onDisconnect_,pi(e,c),p)}),Vf(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class Ro{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Yt(this._path)?null:px(this._path)}get ref(){return new fl(this._repo,this._path)}get _queryIdentifier(){const e=QF(this._queryParams),t=sx(e);return"{}"===t?"default":t}get _queryObject(){return QF(this._queryParams)}isEqual(e){if(!((e=(0,L.m9)(e))instanceof Ro))return!1;const t=this._repo===e._repo,i=gx(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function fG(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function lI(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function jf(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===_c){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Id)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==mc)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Jn){if(null!=e&&!tE(e)||null!=t&&!tE(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof bx||n.getIndex()===wx,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function uI(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class fl extends Ro{constructor(e,t){super(e,t,new BD,!1)}get parent(){const e=FF(this._path);return null===e?null:new fl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Yg{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Sn(e),i=Jg(this.ref,e);return new Yg(this._node.getChild(t),i,Jn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Yg(r,Jg(this.ref,i),Jn)))}hasChild(e){const t=new Sn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ZL(n,e){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==e?Jg(n._root,e):n._root}function KL(n,e){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const t=lO(e,n._repo.repoInfo_.nodeAdmin);RL("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&gc("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),ZL(n,t.path.toString())}function Jg(n,e){return null===Kt((n=(0,L.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rE("child","path",t,!1)):rE("child","path",e,!1),new fl(n._repo,pi(n._path,e));var t}function uO(n,e){n=(0,L.m9)(n),dl("set",n._path),yc("set",e,n._path,!1);const t=new L.BH;return iO(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function NW(n,e){OL("update",e,n._path,!1);const t=new L.BH;return function hW(n,e,t,i){yv(n,"update",{path:e.toString(),value:t});let r=!0;const s=sE(n),c={};if(qr(t,(h,p)=>{r=!1,c[h]=AL(pi(e,h),Ci(p),n.serverSyncTree_,s)}),r)Wr("update() called with empty data.  Don't do anything."),Vf(0,i,"ok",void 0);else{const h=sI(n),p=function L$(n,e,t,i){!function e$(n,e,t,i){(0,L.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=Ox(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Qn.fromObject(t);return _v(n,new gv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,h);rI(n.eventQueue_,p),n.server_.merge(e.toString(),t,(y,C)=>{const D="ok"===y;D||Ps("update at "+e+" failed: "+y);const M=Uf(n.serverSyncTree_,h,!D),O=M.length>0?vv(n,e):e;hl(n.eventQueue_,O,M),Vf(0,i,y,C)}),qr(t,y=>{const C=oO(n,pi(e,y));vv(n,C)}),hl(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function MW(n){return function dW(n,e){const t=function G$(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(y,C)=>{const D=Js(y,t);i=i||Lf(C,D)});let r=n.syncPointTree_.get(t);r?i=i||Lf(r,_n()):(r=new _L,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new kf(i,!0,!1):null;return function D$(n){return $D(n.viewCache_)}(yL(r,e,WD(n.pendingWriteTree_,e._path),s?c.getNode():Ht.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=Ci(i).withIndex(e._queryParams.getIndex()),s=Qw(n.serverSyncTree_,e._path,r);return tO(n.eventQueue_,e._path,s),Promise.resolve(r)},i=>(yv(n,"get for query "+(0,L.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,L.m9)(n))._repo,n).then(e=>new Yg(e,new fl(n._repo,n._path),n._queryParams.getIndex()))}class cI{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new $L("value",this,new Yg(e.snapshotNode,new fl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new WL(this,e,t):null}matches(e){return e instanceof cI&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class dI{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new WL(this,e,t):null}createEvent(e,t){(0,L.hu)(null!=e.childName,"Child events should have a childName.");const i=Jg(new fl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new $L(e.type,this,new Yg(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof dI&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function oE(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,y=(C,D)=>{rO(n._repo,n,h),p(C,D)};y.userCallback=t.userCallback,y.context=t.context,t=y}const c=new qL(t,s||void 0),h="value"===e?new cI(c):new dI(e,c);return function _W(n,e,t){let i;i=".info"===Kt(e._path)?CL(n.infoSyncTree_,e,t):CL(n.serverSyncTree_,e,t),tO(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>rO(n._repo,n,h)}function cO(n,e,t,i){return oE(n,"value",e,t,i)}function YL(n,e,t,i){return oE(n,"child_added",e,t,i)}function JL(n,e,t,i){return oE(n,"child_changed",e,t,i)}function QL(n,e,t,i){return oE(n,"child_moved",e,t,i)}function XL(n,e,t,i){return oE(n,"child_removed",e,t,i)}function e2(n,e,t){let i=null;const r=t?new qL(t):null;"value"===e?i=new cI(r):e&&(i=new dI(e,r)),rO(n._repo,n,i)}class cu{}class t2 extends cu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yc("endAt",this._value,e._path,!0);const t=Dx(e._queryParams,this._value,this._key);if(uI(t),jf(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ro(e._repo,e._path,t,e._orderByCalled)}}class OW extends cu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yc("endBefore",this._value,e._path,!1);const t=function jG(n,e,t){let i,r;return n.index_===_c?("string"==typeof e&&(e=KF(e)),r=Dx(n,e,t)):(i=null==t?Id:KF(t),r=Dx(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(uI(t),jf(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ro(e._repo,e._path,t,e._orderByCalled)}}class n2 extends cu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yc("startAt",this._value,e._path,!0);const t=Tx(e._queryParams,this._value,this._key);if(uI(t),jf(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ro(e._repo,e._path,t,e._orderByCalled)}}class kW extends cu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yc("startAfter",this._value,e._path,!1);const t=function VG(n,e,t){let i;if(n.index_===_c)"string"==typeof e&&(e=ZF(e)),i=Tx(n,e,t);else{let r;r=null==t?mc:ZF(t),i=Tx(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(uI(t),jf(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ro(e._repo,e._path,t,e._orderByCalled)}}class LW extends cu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ro(e._repo,e._path,function BG(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class UW extends cu{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ro(e._repo,e._path,function UG(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class jW extends cu{constructor(e){super(),this._path=e}_apply(e){lI(e,"orderByChild");const t=new Sn(this._path);if(Yt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new bx(t),r=UD(e._queryParams,i);return jf(r),new Ro(e._repo,e._path,r,!0)}}class GW extends cu{_apply(e){lI(e,"orderByKey");const t=UD(e._queryParams,_c);return jf(t),new Ro(e._repo,e._path,t,!0)}}class WW extends cu{_apply(e){lI(e,"orderByPriority");const t=UD(e._queryParams,Jn);return jf(t),new Ro(e._repo,e._path,t,!0)}}class zW extends cu{_apply(e){lI(e,"orderByValue");const t=UD(e._queryParams,wx);return jf(t),new Ro(e._repo,e._path,t,!0)}}class KW extends cu{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(yc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new t2(this._value,this._key)._apply(new n2(this._value,this._key)._apply(e))}}function du(n,...e){let t=(0,L.m9)(n);for(const i of e)t=i._apply(t);return t}(function N$(n){(0,L.hu)(!KD,"__referenceConstructor has already been defined"),KD=n})(fl),function P$(n){(0,L.hu)(!JD,"__referenceConstructor has already been defined"),JD=n}(fl);const dO={};function s2(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||gc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Wr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,c=lO(s,r),h=c.repoInfo;"undefined"!=typeof process&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,s=`http://${y}?ns=${h.namespace}`,c=lO(s,r),h=c.repoInfo):p=!c.repoInfo.secure;const C=r&&p?new Vw(Vw.OWNER):new H3(n.name,n.options,e);RL("Invalid Firebase Database URL",c),Yt(c.path)||gc("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function e8(n,e,t,i){let r=dO[e.name];r||(r={},dO[e.name]=r);let s=r[n.toURLString()];return s&&gc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lW(n,false,t,i),r[n.toURLString()]=s,s}(h,n,C,new j3(n.name,t));return new n8(D,n)}class n8{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function uW(n,e,t){if(n.stats_=dx(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new VD(n.repoInfo_,(i,r,s,c)=>{LL(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>BL(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Wg(n.repoInfo_,e,(i,r,s,c)=>{LL(n,i,r,s,c)},i=>{BL(n,i)},i=>{!function cW(n,e){qr(e,(t,i)=>{nO(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function W3(n,e){const t=n.toString();return cx[t]||(cx[t]=e()),cx[t]}(n.repoInfo_,()=>new zG(n.stats_,n.server_)),n.infoData_=new HG,n.infoSyncTree_=new EL({startListening:(i,r,s,c)=>{let h=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(h=Qw(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),nO(n,"connected",!1),n.serverSyncTree_=new EL({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(h,p)=>{const y=c(h,p);hl(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new fl(this._repo,_n())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function XW(n,e){const t=dO[e];(!t||t[n.key]!==n)&&gc(`Database ${e}(${n.repoInfo_}) has already been deleted.`),VL(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&gc("Cannot call "+e+" on a deleted database.")}}function o2(){TF.IS_TRANSPORT_INITIALIZED&&Ps("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function i8(){o2(),Rf.forceDisallow()}function r8(){o2(),uv.forceDisallow(),Rf.forceAllow()}function l8(n,e){rF(n,e)}const c8={".sv":"timestamp"};class f8{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Wg.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Wg.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function u8(n){Xk(wr.SDK_VERSION),(0,wr._registerComponent)(new ki.wA("database",(e,{instanceIdentifier:t})=>s2(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,wr.registerVersion)(Jk,"0.13.1",n),(0,wr.registerVersion)(Jk,"0.13.1","esm2017")}();const _8=new os.Yd("@firebase/database-compat"),a2=function(n){_8.warn("FIREBASE WARNING: "+n)};class b8{constructor(e){this._delegate=e}cancel(e){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,a2("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class w8{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Hf{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),rE("DataSnapshot.child","path",e,!1),new Hf(this._database,this._delegate.child(e))}hasChild(e){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),rE("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Hf(this._database,t)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new ga(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class fs{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",t,!1);const c=fs.getCancelAndContextArgs_("Query.on",i,r),h=(y,C)=>{t.call(c.context,new Hf(this.database,y),C)};h.userCallback=t,h.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return cO(this._delegate,h,p),t;case"child_added":return YL(this._delegate,h,p),t;case"child_removed":return XL(this._delegate,h,p),t;case"child_changed":return JL(this._delegate,h,p),t;case"child_moved":return QL(this._delegate,h,p),t;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,L.Wj)("Query.off","callback",t,!0),(0,L.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,e2(this._delegate,e,r)}else e2(this._delegate,e)}get(){return MW(this._delegate).then(e=>new Hf(this.database,e))}once(e,t,i,r){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",t,!0);const s=fs.getCancelAndContextArgs_("Query.once",i,r),c=new L.BH,h=(y,C)=>{const D=new Hf(this.database,y);t&&t.call(s.context,D,C),c.resolve(D)};h.userCallback=t,h.context=s.context;const p=y=>{s.cancel&&s.cancel.call(s.context,y),c.reject(y)};switch(e){case"value":cO(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":YL(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":XL(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":JL(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":QL(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new fs(this.database,du(this._delegate,function BW(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new LW(n)}(e)))}limitToLast(e){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new fs(this.database,du(this._delegate,function VW(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new UW(n)}(e)))}orderByChild(e){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new fs(this.database,du(this._delegate,function HW(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return rE("orderByChild","path",n,!1),new jW(n)}(e)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new fs(this.database,du(this._delegate,function $W(){return new GW}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new fs(this.database,du(this._delegate,function qW(){return new WW}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new fs(this.database,du(this._delegate,function ZW(){return new zW}()))}startAt(e=null,t){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new fs(this.database,du(this._delegate,function PW(n=null,e){return iE("startAt","key",e,!0),new n2(n,e)}(e,t)))}startAfter(e=null,t){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new fs(this.database,du(this._delegate,function FW(n,e){return iE("startAfter","key",e,!0),new kW(n,e)}(e,t)))}endAt(e=null,t){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new fs(this.database,du(this._delegate,function xW(n,e){return iE("endAt","key",e,!0),new t2(n,e)}(e,t)))}endBefore(e=null,t){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new fs(this.database,du(this._delegate,function RW(n,e){return iE("endBefore","key",e,!0),new OW(n,e)}(e,t)))}equalTo(e,t){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new fs(this.database,du(this._delegate,function YW(n,e){return iE("equalTo","key",e,!0),new KW(n,e)}(e,t)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof fs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,L.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,L.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,L.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new ga(this.database,new fl(this._delegate._repo,this._delegate._path))}}class ga extends fs{constructor(e,t){super(e,new Ro(t._repo,t._path,new BD,!1)),this.database=e,this._delegate=t}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new ga(this.database,Jg(this._delegate,e))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new ga(this.database,e):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new ga(this.database,this._delegate.root)}set(e,t){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",t,!0);const i=uO(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,a2("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}dl("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",t,!0);const i=NW(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function AW(n,e,t){if(dl("setWithPriority",n._path),yc("setWithPriority",e,n._path,!1),eO("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new L.BH;return iO(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",e,!0);const t=function IW(n){return dl("remove",n._path),uO(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,L.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function p8(n,e,t){var i;if(n=(0,L.m9)(n),dl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==t?void 0:t.applyLocally)||void 0===i||i,s=new L.BH,h=cO(n,()=>{});return function vW(n,e,t,i,r,s){yv(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:tF(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=sO(n,e,void 0);c.currentInputSnapshot=h;const p=c.update(h.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{nE("transaction failed: Data returned ",p,c.path),c.status=0;const y=tI(n.transactionQueueTree_,e),C=Kg(y)||[];let D;C.push(c),Jx(y,C),"object"==typeof p&&null!==p&&(0,L.r3)(p,".priority")?(D=(0,L.DV)(p,".priority"),(0,L.hu)(tE(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(QD(n.serverSyncTree_,e)||Ht.EMPTY_NODE).getPriority().val();const M=sE(n),O=Ci(p,D),B=Zx(O,h,M);c.currentOutputSnapshotRaw=O,c.currentOutputSnapshotResolved=B,c.currentWriteId=sI(n);const Z=jx(n.serverSyncTree_,e,B,c.currentWriteId,c.applyLocally);hl(n.eventQueue_,e,Z),oI(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,y,C)=>{let D=null;p?s.reject(p):(D=new Yg(C,new fl(n._repo,n._path),Jn),s.resolve(new f8(y,D)))},h,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new w8(s.committed,new Hf(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",t,!0);const i=function SW(n,e){n=(0,L.m9)(n),dl("setPriority",n._path),eO("setPriority",e,!1);const t=new L.BH;return iO(n._repo,pi(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",t,!0);const i=function DW(n,e){n=(0,L.m9)(n),dl("push",n._path),yc("push",e,n._path,!0);const t=FL(n._repo),i=PG(t),r=Jg(n,i),s=Jg(n,i);let c;return c=null!=e?uO(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new ga(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new ga(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return dl("Reference.onDisconnect",this._delegate._path),new b8(new zL(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class aE{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:i8,forceLongPolling:r8}}useEmulator(e,t,i={}){!function s8(n,e,t,i={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&gc("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&gc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Vw(Vw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,L.Sg)(i.mockUserToken,n.app.options.projectId);s=new Vw(c)}!function QW(n,e,t,i){n.repoInfo_=new lx(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,L.Dv)("database.ref",0,1,arguments.length),e instanceof ga){const t=KL(this._delegate,e.toString());return new ga(this,t)}{const t=ZL(this._delegate,e);return new ga(this,t)}}refFromURL(e){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const i=KL(this._delegate,e);return new ga(this,i)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function o8(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),VL(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function a8(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function yW(n){n.persistentConnection_&&n.persistentConnection_.resume(kL)}(n._repo)}(this._delegate)}}aE.ServerValue={TIMESTAMP:function d8(){return c8}(),increment:n=>function h8(n){return{".sv":{increment:n}}}(n)};var C8=Object.freeze({__proto__:null,initStandalone:function E8({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Xk(t);const c=new ki.zt("auth-internal",new ki.H0("database-standalone"));return c.setComponent(new ki.wA("auth-internal",()=>i,"PRIVATE")),{instance:new aE(s2(n,c,void 0,e,s),n),namespace:r}}});const T8=aE.ServerValue;function l2(n){return null==n}function u2(n){return"function"==typeof n.set}function c2(n,e){return u2(e)?e:n.ref(e)}function d2(n,e){if(function I8(n){return"string"==typeof n}(n))return e.stringCase();if(u2(n))return e.firebaseCase();if(function S8(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function lE(n,e,t="on",i=qa.z){return new On.y(r=>{let s=null;return s=n[t](e,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,et.U)(r=>{const{snapshot:s,prevKey:c}=r;let h=null;return s.exists()&&(h=s.key),{type:e,payload:s,prevKey:c,key:h}}),(0,Dp.B)())}function h2(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function M8(n,e){const{payload:t,prevKey:i,key:r}=e,s=h2(n,r),c=function N8(n,e){if(l2(e))return 0;{const t=h2(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const h=n[s-1];(h&&h.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(s>-1){const h=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function f2(n){return(l2(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function p2(n,e,t){return function A8(n,e,t){return lE(n,"value","once",t).pipe(hn(i=>{const r=[ut(i)];return e.forEach(s=>r.push(lE(n,s,"on",t))),(0,Jc.T)(...r).pipe(Wu(M8,[]))}),M_())}(n,e=f2(e),t)}function g2(n,e,t){const i=(e=f2(e)).map(r=>lE(n,r,"on",t));return(0,Jc.T)(...i)}function m2(n,e){return function(i,r){return d2(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function P8(n){return function(t){return t?d2(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function _2(n,e){return function(){return lE(n,"value","on",e)}}!function D8(n){n.INTERNAL.registerComponent(new ki.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new aE(r,i)},"PUBLIC").setServiceProps({Reference:ga,Query:fs,Database:aE,DataSnapshot:Hf,enableLogging:l8,INTERNAL:C8,ServerValue:T8}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.1")}($u.Z);const L8=new l.OlP("angularfire2.realtimeDatabaseURL"),B8=new l.OlP("angularfire2.database.use-emulator");let U8=(()=>{class n{constructor(t,i,r,s,c,h,p,y,C,D,M,O,B,Z,ue){this.schedulers=h;const xe=p,ke=(0,ni.on)(t,c,i);y&&nd(ke,c,C,M,O,B,D,Z),this.database=(0,ni.cc)(`${ke.name}.database.${r}`,"AngularFireDatabase",ke.name,()=>{const ze=c.runOutsideAngular(()=>ke.database(r||void 0));return xe&&ze.useEmulator(...xe),ze},[xe])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>c2(this.database,t));let s=r;return i&&(s=i(r)),function k8(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:m2(i,"update"),set:m2(i,"set"),push:r=>i.push(r),remove:P8(i),snapshotChanges:r=>p2(n,r,t).pipe(Zt.iC),stateChanges:r=>g2(n,r,t).pipe(Zt.iC),auditTrail:r=>function x8(n,e,t){return function R8(n,e,t){return function O8(n,e){return lE(n,"value","on",e).pipe((0,et.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(AD(e),(0,et.U)(([r,s])=>{const c=r.lastKeyToLoad,h=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:h}}),function M3(n){return(0,Ri.e)((e,t)=>{let i=!1,r=0;e.subscribe(new dn.Q(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,et.U)(r=>r.actions))}(n,g2(n,e).pipe(Wu((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(Zt.iC),valueChanges:(r,s)=>p2(n,r,t).pipe((0,et.U)(h=>h.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),Zt.iC)}}(s,this)}object(t){return function F8(n,e){return{query:n,snapshotChanges:()=>_2(n,e.schedulers.outsideAngular)().pipe(Zt.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>_2(n,e.schedulers.outsideAngular)().pipe(Zt.iC,(0,et.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>c2(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni.Dh),l.LFG(ni.xv,8),l.LFG(L8,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Zt.HU),l.LFG(B8,8),l.LFG(Jl,8),l.LFG(E0,8),l.LFG(xp,8),l.LFG(C0,8),l.LFG(s_,8),l.LFG(T0,8),l.LFG(D0,8),l.LFG(r_,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),V8=(()=>{class n{constructor(){ra.Z.registerVersion("angularfire",Zt.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[U8]}),n})();var zr=k(5577);function bv(n,e){return(0,qs.m)(e)?(0,zr.z)(n,e,1):(0,zr.z)(n,1)}class y2{}class v2{}class Ad{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ad?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ad;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ad?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===s.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class j8{encodeKey(e){return b2(e)}encodeValue(e){return b2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const G8=/%(\d[a-f0-9])/gi,$8={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function b2(n){return encodeURIComponent(n).replace(G8,(e,t)=>{var i;return null!==(i=$8[t])&&void 0!==i?i:e})}function w2(n){return`${n}`}class Gf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new j8,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function H8(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(c)||[];p.push(h),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Gf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(w2(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(w2(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class W8{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function E2(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function C2(n){return"undefined"!=typeof Blob&&n instanceof Blob}function T2(n){return"undefined"!=typeof FormData&&n instanceof FormData}class uE{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function q8(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ad),this.context||(this.context=new W8),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new Gf,this.urlWithParams=t}serializeBody(){return null===this.body?null:E2(this.body)||C2(this.body)||T2(this.body)||function z8(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||T2(this.body)?null:C2(this.body)?this.body.type||null:E2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,C=e.params||this.params;const D=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((M,O)=>M.set(O,e.setHeaders[O]),y)),e.setParams&&(C=Object.keys(e.setParams).reduce((M,O)=>M.set(O,e.setParams[O]),C)),new uE(i,r,c,{params:C,headers:y,context:D,reportProgress:p,responseType:s,withCredentials:h})}}var ur=(()=>((ur=ur||{})[ur.Sent=0]="Sent",ur[ur.UploadProgress=1]="UploadProgress",ur[ur.ResponseHeader=2]="ResponseHeader",ur[ur.DownloadProgress=3]="DownloadProgress",ur[ur.Response=4]="Response",ur[ur.User=5]="User",ur))();class hO{constructor(e,t=200,i="OK"){this.headers=e.headers||new Ad,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class fO extends hO{constructor(e={}){super(e),this.type=ur.ResponseHeader}clone(e={}){return new fO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hI extends hO{constructor(e={}){super(e),this.type=ur.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new hI({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class D2 extends hO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function pO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let I2=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof uE)s=t;else{let p,y;p=r.headers instanceof Ad?r.headers:new Ad(r.headers),r.params&&(y=r.params instanceof Gf?r.params:new Gf({fromObject:r.params})),s=new uE(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=ut(s).pipe(bv(p=>this.handler.handle(p)));if(t instanceof uE||"events"===r.observe)return c;const h=c.pipe(Pi(p=>p instanceof hI));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return h.pipe((0,et.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,et.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,et.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,et.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Gf).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,pO(r,i))}post(t,i,r={}){return this.request("POST",t,pO(r,i))}put(t,i,r={}){return this.request("PUT",t,pO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(y2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class S2{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const A2=new l.OlP("HTTP_INTERCEPTORS");let Z8=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const K8=/^\)\]\}',?\n/;let N2=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new On.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((O,B)=>r.setRequestHeader(O,B.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const O=t.detectContentTypeHeader();null!==O&&r.setRequestHeader("Content-Type",O)}if(t.responseType){const O=t.responseType.toLowerCase();r.responseType="json"!==O?O:"text"}const s=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const O=r.statusText||"OK",B=new Ad(r.getAllResponseHeaders()),Z=function Y8(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new fO({headers:B,status:r.status,statusText:O,url:Z}),c},p=()=>{let{headers:O,status:B,statusText:Z,url:ue}=h(),xe=null;204!==B&&(xe=void 0===r.response?r.responseText:r.response),0===B&&(B=xe?200:0);let ke=B>=200&&B<300;if("json"===t.responseType&&"string"==typeof xe){const ze=xe;xe=xe.replace(K8,"");try{xe=""!==xe?JSON.parse(xe):null}catch($e){xe=ze,ke&&(ke=!1,xe={error:$e,text:xe})}}ke?(i.next(new hI({body:xe,headers:O,status:B,statusText:Z,url:ue||void 0})),i.complete()):i.error(new D2({error:xe,headers:O,status:B,statusText:Z,url:ue||void 0}))},y=O=>{const{url:B}=h(),Z=new D2({error:O,status:r.status||0,statusText:r.statusText||"Unknown Error",url:B||void 0});i.error(Z)};let C=!1;const D=O=>{C||(i.next(h()),C=!0);let B={type:ur.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(B.total=O.total),"text"===t.responseType&&!!r.responseText&&(B.partialText=r.responseText),i.next(B)},M=O=>{let B={type:ur.UploadProgress,loaded:O.loaded};O.lengthComputable&&(B.total=O.total),i.next(B)};return r.addEventListener("load",p),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),t.reportProgress&&(r.addEventListener("progress",D),null!==s&&r.upload&&r.upload.addEventListener("progress",M)),r.send(s),i.next({type:ur.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",p),r.removeEventListener("timeout",y),t.reportProgress&&(r.removeEventListener("progress",D),null!==s&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gO=new l.OlP("XSRF_COOKIE_NAME"),mO=new l.OlP("XSRF_HEADER_NAME");class M2{}let J8=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ea(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(l.Lbi),l.LFG(gO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),_O=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(M2),l.LFG(mO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Q8=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(A2,[]);this.chain=i.reduceRight((r,s)=>new S2(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(v2),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),X8=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:_O,useClass:Z8}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:gO,useValue:t.cookieName}:[],t.headerName?{provide:mO,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[_O,{provide:A2,useExisting:_O,multi:!0},{provide:M2,useClass:J8},{provide:gO,useValue:"XSRF-TOKEN"},{provide:mO,useValue:"X-XSRF-TOKEN"}]}),n})(),e6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[I2,{provide:y2,useClass:Q8},N2,{provide:v2,useExisting:N2}],imports:[[X8.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();class x2{}const Nd="*";function O2(n,e=null){return{type:2,steps:n,options:e}}function R2(n){return{type:6,styles:n,offset:null}}function P2(n){Promise.resolve(null).then(n)}class cE{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){P2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class k2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?P2(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const tn=!1;function F2(n){return new l.vHH(3e3,tn)}function k6(){return"undefined"!=typeof window&&void 0!==window.document}function vO(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $f(n){switch(n.length){case 0:return new cE;case 1:return n[0];default:return new k2(n)}}function L2(n,e,t,i,r={},s={}){const c=[],h=[];let p=-1,y=null;if(i.forEach(C=>{const D=C.offset,M=D==p,O=M&&y||{};Object.keys(C).forEach(B=>{let Z=B,ue=C[B];if("offset"!==B)switch(Z=e.normalizePropertyName(Z,c),ue){case"!":ue=r[B];break;case Nd:ue=s[B];break;default:ue=e.normalizeStyleValue(B,Z,ue,c)}O[Z]=ue}),M||h.push(O),y=O,p=D}),c.length)throw function T6(n){return new l.vHH(3502,tn)}();return h}function bO(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&wO(t,"start",n)));break;case"done":n.onDone(()=>i(t&&wO(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&wO(t,"destroy",n)))}}function wO(n,e,t){const i=t.totalTime,s=EO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function EO(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function ma(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function B2(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let CO=(n,e)=>!1,U2=(n,e,t)=>[],V2=null;function TO(n){const e=n.parentNode||n.host;return e===V2?null:e}(vO()||"undefined"!=typeof Element)&&(k6()?(V2=(()=>document.documentElement)(),CO=(n,e)=>{for(;e;){if(e===n)return!0;e=TO(e)}return!1}):CO=(n,e)=>n.contains(e),U2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Qg=null,j2=!1;function H2(n){Qg||(Qg=function L6(){return"undefined"!=typeof document?document.body:null}()||{},j2=!!Qg.style&&"WebkitAppearance"in Qg.style);let e=!0;return Qg.style&&!function F6(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Qg.style,!e&&j2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Qg.style)),e}const G2=CO,$2=U2;let W2=(()=>{class n{validateStyleProperty(t){return H2(t)}matchesElement(t,i){return!1}containsElement(t,i){return G2(t,i)}getParentElement(t){return TO(t)}query(t,i,r){return $2(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,h=[],p){return new cE(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),DO=(()=>{class n{}return n.NOOP=new W2,n})();const IO="ng-enter",pI="ng-leave",gI="ng-trigger",mI=".ng-trigger",z2="ng-animating",SO=".ng-animating";function Xg(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AO(parseFloat(e[1]),e[2])}function AO(n,e){return"s"===e?1e3*n:n}function _I(n,e,t){return n.hasOwnProperty("duration")?n:function V6(n,e,t){let r,s=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(F2()),{duration:0,delay:0,easing:""};r=AO(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=AO(parseFloat(p),h[4]));const y=h[5];y&&(c=y)}else r=n;if(!t){let h=!1,p=e.length;r<0&&(e.push(function n6(){return new l.vHH(3100,tn)}()),h=!0),s<0&&(e.push(function i6(){return new l.vHH(3101,tn)}()),h=!0),h&&e.splice(p,0,F2())}return{duration:r,delay:s,easing:c}}(n,e,t)}function wv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Wf(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else wv(n,t);return t}function K2(n,e,t){return t?e+":"+t+";":""}function Y2(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=K2(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=K2(0,G6(t),n.style[t]));n.setAttribute("style",e)}function vc(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=MO(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),vO()&&Y2(n))}function em(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=MO(t);n.style[i]=""}),vO()&&Y2(n))}function dE(n){return Array.isArray(n)?1==n.length?n[0]:O2(n):n}const NO=new RegExp("{{\\s*(.+?)\\s*}}","g");function J2(n){let e=[];if("string"==typeof n){let t;for(;t=NO.exec(n);)e.push(t[1]);NO.lastIndex=0}return e}function yI(n,e,t){const i=n.toString(),r=i.replace(NO,(s,c)=>{let h=e[c];return e.hasOwnProperty(c)||(t.push(function s6(n){return new l.vHH(3003,tn)}()),h=""),h.toString()});return r==i?n:r}function vI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const H6=/-+([a-z0-9])/g;function MO(n){return n.replace(H6,(...e)=>e[1].toUpperCase())}function G6(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _a(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function o6(n){return new l.vHH(3004,tn)}()}}function Q2(n,e){return window.getComputedStyle(n)[e]}function K6(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Y6(n,e,t){if(":"==n[0]){const p=function J6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function b6(n){return new l.vHH(3016,tn)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function v6(n){return new l.vHH(3015,tn)}()),e;const r=i[1],s=i[2],c=i[3];e.push(X2(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(X2(c,r))}(i,t,e)):t.push(n),t}const CI=new Set(["true","1"]),TI=new Set(["false","0"]);function X2(n,e){const t=CI.has(n)||TI.has(n),i=CI.has(e)||TI.has(e);return(r,s)=>{let c="*"==n||n==r,h="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?CI.has(n):TI.has(n)),!h&&i&&"boolean"==typeof s&&(h=s?CI.has(e):TI.has(e)),c&&h}}const Q6=new RegExp("s*:selfs*,?","g");function xO(n,e,t,i){return new X6(n).build(e,t,i)}class X6{constructor(e){this._driver=e}build(e,t,i){const r=new n5(t);this._resetContextStyleTimingState(r);const s=_a(this,dE(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function l6(){return new l.vHH(3006,tn)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,s.push(this.visitState(p,t))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function u6(){return new l.vHH(3007,tn)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(h=>{if(DI(h)){const p=h;Object.keys(p).forEach(y=>{J2(p[y]).forEach(C=>{c.hasOwnProperty(C)||s.add(C)})})}}),s.size&&(vI(s.values()),t.errors.push(function c6(n,e){return new l.vHH(3008,tn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=_a(this,dE(e.animation),t);return{type:1,matchers:K6(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:tm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>_a(this,i,t)),options:tm(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const h=_a(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:s,options:tm(e.options)}}visitAnimate(e,t){const i=function r5(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return OO(_I(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=OO(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||_I(i,e),OO(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:R2({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,h=!1;if(!c){h=!0;const y={};i.easing&&(y.easing=i.easing),c=R2(y)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=h,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Nd?i.push(c):t.errors.push(function d6(n){return new l.vHH(3002,tn)}()):i.push(c)}):i.push(e.styles);let r=!1,s=null;return i.forEach(c=>{if(DI(c)){const h=c,p=h.easing;if(p&&(s=p,delete h.easing),!r)for(let y in h)if(h[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete c[h],void t.unsupportedCSSPropertiesFound.add(h);const p=t.collectedStyles[t.currentQuerySelector],y=p[h];let C=!0;y&&(s!=r&&s>=y.startTime&&r<=y.endTime&&(t.errors.push(function h6(n,e,t,i,r){return new l.vHH(3010,tn)}()),C=!1),s=y.startTime),C&&(p[h]={startTime:s,endTime:r}),t.options&&function j6(n,e,t){const i=e.params||{},r=J2(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function r6(n){return new l.vHH(3001,tn)}())})}(c[h],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function f6(){return new l.vHH(3011,tn)}()),i;let s=0;const c=[];let h=!1,p=!1,y=0;const C=e.steps.map(xe=>{const ke=this._makeStyleAst(xe,t);let ze=null!=ke.offset?ke.offset:function i5(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(DI(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(DI(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ke.styles),$e=0;return null!=ze&&(s++,$e=ke.offset=ze),p=p||$e<0||$e>1,h=h||$e<y,y=$e,c.push($e),ke});p&&t.errors.push(function p6(){return new l.vHH(3012,tn)}()),h&&t.errors.push(function g6(){return new l.vHH(3200,tn)}());const D=e.steps.length;let M=0;s>0&&s<D?t.errors.push(function m6(){return new l.vHH(3202,tn)}()):0==s&&(M=1/(D-1));const O=D-1,B=t.currentTime,Z=t.currentAnimateTimings,ue=Z.duration;return C.forEach((xe,ke)=>{const ze=M>0?ke==O?1:M*ke:c[ke],$e=ze*ue;t.currentTime=B+Z.delay+$e,Z.duration=$e,this._validateStyleAst(xe,t),xe.offset=ze,i.styles.push(xe)}),i}visitReference(e,t){return{type:8,animation:_a(this,dE(e.animation),t),options:tm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:tm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:tm(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function e5(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Q6,"")),n=n.replace(/@\*/g,mI).replace(/@\w+/g,t=>mI+"-"+t.substr(1)).replace(/:animating/g,SO),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,ma(t.collectedStyles,t.currentQuerySelector,{});const h=_a(this,dE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:tm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function _6(){return new l.vHH(3013,tn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:_I(e.timings,t.errors,!0);return{type:12,animation:_a(this,dE(e.animation),t),timings:i,options:null}}}class n5{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function DI(n){return!Array.isArray(n)&&"object"==typeof n}function tm(n){return n?(n=wv(n)).params&&(n.params=function t5(n){return n?wv(n):null}(n.params)):n={},n}function OO(n,e,t){return{duration:n,delay:e,easing:t}}function RO(n,e,t,i,r,s,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:h}}class II{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const a5=new RegExp(":enter","g"),u5=new RegExp(":leave","g");function PO(n,e,t,i,r,s={},c={},h,p,y=[]){return(new c5).buildKeyframes(n,e,t,i,r,s,c,h,p,y)}class c5{buildKeyframes(e,t,i,r,s,c,h,p,y,C=[]){y=y||new II;const D=new kO(e,t,y,r,s,C,[]);D.options=p,D.currentTimeline.setStyles([c],null,D.errors,p),_a(this,i,D);const M=D.timelines.filter(O=>O.containsAnimation());if(Object.keys(h).length){let O;for(let B=M.length-1;B>=0;B--){const Z=M[B];if(Z.element===t){O=Z;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([h],null,D.errors,p)}return M.length?M.map(O=>O.buildKeyframes()):[RO(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?Xg(i.duration):null,h=null!=i.delay?Xg(i.delay):null;return 0!==c&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,c,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),_a(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=SI);const c=Xg(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>_a(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Xg(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),_a(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return _I(t.params?yI(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Xg(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=SI);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((y,C)=>{t.currentQueryIndex=C;const D=t.createSubContext(e.options,y);s&&D.delayNextStep(s),y===t.element&&(p=D.currentTimeline),_a(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),h=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const C=t.currentTimeline;p&&C.delayNextStep(p);const D=C.currentTime;_a(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const SI={};class kO{constructor(e,t,i,r,s,c,h,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=SI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new AI(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Xg(i.duration)),null!=i.delay&&(r.delay=Xg(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=yI(s[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new kO(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=SI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new d5(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(a5,"."+this._enterClassName)).replace(u5,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),h.push(...y)}return!s&&0==h.length&&c.push(function y6(n){return new l.vHH(3014,tn)}()),h}}class AI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new AI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Nd,this._currentKeyframe[t]=Nd}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},c=function h5(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=Nd})):Wf(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const p=yI(c[h],s,i);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Nd),this._updateStyle(h,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const y=Wf(h,!0);Object.keys(y).forEach(C=>{const D=y[C];"!"==D?e.add(C):D==Nd&&t.add(C)}),i||(y.offset=p/this.duration),r.push(y)});const s=e.size?vI(e.values()):[],c=t.size?vI(t.values()):[];if(i){const h=r[0],p=wv(h);h.offset=0,p.offset=1,r=[h,p]}return RO(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class d5 extends AI{constructor(e,t,i,r,s,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,h=t/c,p=Wf(e[0],!1);p.offset=0,s.push(p);const y=Wf(e[0],!1);y.offset=nB(h),s.push(y);const C=e.length-1;for(let D=1;D<=C;D++){let M=Wf(e[D],!1);M.offset=nB((t+M.offset*i)/c),s.push(M)}i=c,t=0,r="",e=s}return RO(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function nB(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class FO{}class f5 extends FO{normalizePropertyName(e,t){return MO(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(p5[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function a6(n,e){return new l.vHH(3005,tn)}())}return c+s}}const p5=(()=>function g5(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function iB(n,e,t,i,r,s,c,h,p,y,C,D,M){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:C,totalTime:D,errors:M}}const LO={};class rB{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function m5(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],c=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):c}build(e,t,i,r,s,c,h,p,y,C){const D=[],M=this.ast.options&&this.ast.options.params||LO,B=this.buildStyles(i,h&&h.params||LO,D),Z=p&&p.params||LO,ue=this.buildStyles(r,Z,D),xe=new Set,ke=new Map,ze=new Map,$e="void"===r,mt={params:Object.assign(Object.assign({},M),Z)},Dt=C?[]:PO(e,t,this.ast.animation,s,c,B,ue,mt,y,D);let Jt=0;if(Dt.forEach(va=>{Jt=Math.max(va.duration+va.delay,Jt)}),D.length)return iB(t,this._triggerName,i,r,$e,B,ue,[],[],ke,ze,Jt,D);Dt.forEach(va=>{const Rd=va.element,MV=ma(ke,Rd,{});va.preStyleProps.forEach(dm=>MV[dm]=!0);const NE=ma(ze,Rd,{});va.postStyleProps.forEach(dm=>NE[dm]=!0),Rd!==t&&xe.add(Rd)});const An=vI(xe.values());return iB(t,this._triggerName,i,r,$e,B,ue,Dt,An,ke,ze,Jt)}}class _5{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=wv(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(h=>{let p=c[h];p.length>1&&(p=yI(p,r,t));const y=this.normalizer.normalizePropertyName(h,t);p=this.normalizer.normalizeStyleValue(h,y,p,t),i[y]=p})}}),i}}class v5{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new _5(r.style,r.options&&r.options.params||{},i)}),sB(this.states,"true","1"),sB(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new rB(e,r,this.states))}),this.fallbackTransition=function b5(n,e,t){return new rB(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function sB(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const w5=new II;class E5{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=xO(this._driver,t,i,[]);if(i.length)throw function D6(n){return new l.vHH(3503,tn)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=L2(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let c;const h=new Map;if(s?(c=PO(this._driver,t,s,IO,pI,{},{},i,w5,r),c.forEach(C=>{const D=ma(h,C.element,{});C.postStyleProps.forEach(M=>D[M]=null)})):(r.push(function I6(){return new l.vHH(3300,tn)}()),c=[]),r.length)throw function S6(n){return new l.vHH(3504,tn)}();h.forEach((C,D)=>{Object.keys(C).forEach(M=>{C[M]=this._driver.computeStyle(D,M,Nd)})});const y=$f(c.map(C=>{const D=h.get(C.element);return this._buildPlayer(C,{},D)}));return this._playersById[e]=y,y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function A6(n){return new l.vHH(3301,tn)}();return t}listen(e,t,i,r){const s=EO(t,"","","");return bO(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const oB="ng-animate-queued",BO="ng-animate-disabled",S5=[],aB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},A5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pl="__ng_removed";class UO{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function O5(n){return null!=n?n:null}(i?e.value:e),i){const s=wv(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const hE="void",VO=new UO(hE);class N5{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,gl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function N6(n,e){return new l.vHH(3302,tn)}();if(null==i||0==i.length)throw function M6(n){return new l.vHH(3303,tn)}();if(!function R5(n){return"start"==n||"done"==n}(i))throw function x6(n,e){return new l.vHH(3400,tn)}();const s=ma(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const h=ma(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(gl(e,gI),gl(e,gI+"-"+t),h[t]=VO),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function O6(n){return new l.vHH(3401,tn)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new jO(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(gl(e,gI),gl(e,gI+"-"+t),this._engine.statesByElement.set(e,h={}));let p=h[t];const y=new UO(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h[t]=y,p||(p=VO),y.value!==hE&&p.value===y.value){if(!function F5(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,y.params)){const Z=[],ue=s.matchStyles(p.value,p.params,Z),xe=s.matchStyles(y.value,y.params,Z);Z.length?this._engine.reportError(Z):this._engine.afterFlush(()=>{em(e,ue),vc(e,xe)})}return}const M=ma(this._engine.playersByElement,e,[]);M.forEach(Z=>{Z.namespaceId==this.id&&Z.triggerName==t&&Z.queued&&Z.destroy()});let O=s.matchTransition(p.value,y.value,e,y.params),B=!1;if(!O){if(!r)return;O=s.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:O,fromState:p,toState:y,player:c,isFallbackTransition:B}),B||(gl(e,oB),c.onStart(()=>{Ev(e,oB)})),c.onDone(()=>{let Z=this.players.indexOf(c);Z>=0&&this.players.splice(Z,1);const ue=this._engine.playersByElement.get(e);if(ue){let xe=ue.indexOf(c);xe>=0&&ue.splice(xe,1)}}),this.players.push(c),M.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,mI,!0);i.forEach(r=>{if(r[pl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const h=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const y=this.trigger(e,p,hE,r);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&$f(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,y=i[c]||VO,C=new UO(hE),D=new jO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:y,toState:C,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[pl];(!s||s===aB)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){gl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(h=>{if(h.name==i.triggerName){const p=EO(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,bO(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class M5{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new N5(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const p=r.get(h);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(i[h].hostElement,t)){i.splice(h+1,0,e),c=!0;break}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&t.add(h)}}}return t}trigger(e,t,i,r){if(NI(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!NI(t))return;const s=t[pl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),gl(e,BO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ev(e,BO))}removeNode(e,t,i,r){if(NI(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[pl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return NI(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,mI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,SO,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $f(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[pl];if(i&&i.setForRemoval){if(e[pl]=aB,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(BO))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)gl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?$f(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function R6(n){return new l.vHH(3402,tn)}()}_flushAnimations(e,t){const i=new II,r=[],s=new Map,c=[],h=new Map,p=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(ot=>{C.add(ot);const Tt=this.driver.query(ot,".ng-animate-queued",!0);for(let kt=0;kt<Tt.length;kt++)C.add(Tt[kt])});const D=this.bodyNode,M=Array.from(this.statesByElement.keys()),O=cB(M,this.collectedEnterElements),B=new Map;let Z=0;O.forEach((ot,Tt)=>{const kt=IO+Z++;B.set(Tt,kt),ot.forEach(fn=>gl(fn,kt))});const ue=[],xe=new Set,ke=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const Tt=this.collectedLeaveElements[ot],kt=Tt[pl];kt&&kt.setForRemoval&&(ue.push(Tt),xe.add(Tt),kt.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(fn=>xe.add(fn)):ke.add(Tt))}const ze=new Map,$e=cB(M,Array.from(xe));$e.forEach((ot,Tt)=>{const kt=pI+Z++;ze.set(Tt,kt),ot.forEach(fn=>gl(fn,kt))}),e.push(()=>{O.forEach((ot,Tt)=>{const kt=B.get(Tt);ot.forEach(fn=>Ev(fn,kt))}),$e.forEach((ot,Tt)=>{const kt=ze.get(Tt);ot.forEach(fn=>Ev(fn,kt))}),ue.forEach(ot=>{this.processLeaveNode(ot)})});const mt=[],Dt=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(kt=>{const fn=kt.player,Zr=kt.element;if(mt.push(fn),this.collectedEnterElements.length){const to=Zr[pl];if(to&&to.setForMove){if(to.previousTriggersValues&&to.previousTriggersValues.has(kt.triggerName)){const hm=to.previousTriggersValues.get(kt.triggerName),Jf=this.statesByElement.get(kt.element);Jf&&Jf[kt.triggerName]&&(Jf[kt.triggerName].value=hm)}return void fn.destroy()}}const Cc=!D||!this.driver.containsElement(D,Zr),ba=ze.get(Zr),Yf=B.get(Zr),Ti=this._buildInstruction(kt,i,Yf,ba,Cc);if(Ti.errors&&Ti.errors.length)return void Dt.push(Ti);if(Cc)return fn.onStart(()=>em(Zr,Ti.fromStyles)),fn.onDestroy(()=>vc(Zr,Ti.toStyles)),void r.push(fn);if(kt.isFallbackTransition)return fn.onStart(()=>em(Zr,Ti.fromStyles)),fn.onDestroy(()=>vc(Zr,Ti.toStyles)),void r.push(fn);const RV=[];Ti.timelines.forEach(to=>{to.stretchStartingKeyframe=!0,this.disabledNodes.has(to.element)||RV.push(to)}),Ti.timelines=RV,i.append(Zr,Ti.timelines),c.push({instruction:Ti,player:fn,element:Zr}),Ti.queriedElements.forEach(to=>ma(h,to,[]).push(fn)),Ti.preStyleProps.forEach((to,hm)=>{const Jf=Object.keys(to);if(Jf.length){let fm=p.get(hm);fm||p.set(hm,fm=new Set),Jf.forEach(IR=>fm.add(IR))}}),Ti.postStyleProps.forEach((to,hm)=>{const Jf=Object.keys(to);let fm=y.get(hm);fm||y.set(hm,fm=new Set),Jf.forEach(IR=>fm.add(IR))})});if(Dt.length){const ot=[];Dt.forEach(Tt=>{ot.push(function P6(n,e){return new l.vHH(3505,tn)}())}),mt.forEach(Tt=>Tt.destroy()),this.reportError(ot)}const Jt=new Map,An=new Map;c.forEach(ot=>{const Tt=ot.element;i.has(Tt)&&(An.set(Tt,Tt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Jt))}),r.forEach(ot=>{const Tt=ot.element;this._getPreviousPlayers(Tt,!1,ot.namespaceId,ot.triggerName,null).forEach(fn=>{ma(Jt,Tt,[]).push(fn),fn.destroy()})});const va=ue.filter(ot=>hB(ot,p,y)),Rd=new Map;uB(Rd,this.driver,ke,y,Nd).forEach(ot=>{hB(ot,p,y)&&va.push(ot)});const NE=new Map;O.forEach((ot,Tt)=>{uB(NE,this.driver,new Set(ot),p,"!")}),va.forEach(ot=>{const Tt=Rd.get(ot),kt=NE.get(ot);Rd.set(ot,Object.assign(Object.assign({},Tt),kt))});const dm=[],xV=[],OV={};c.forEach(ot=>{const{element:Tt,player:kt,instruction:fn}=ot;if(i.has(Tt)){if(C.has(Tt))return kt.onDestroy(()=>vc(Tt,fn.toStyles)),kt.disabled=!0,kt.overrideTotalTime(fn.totalTime),void r.push(kt);let Zr=OV;if(An.size>1){let ba=Tt;const Yf=[];for(;ba=ba.parentNode;){const Ti=An.get(ba);if(Ti){Zr=Ti;break}Yf.push(ba)}Yf.forEach(Ti=>An.set(Ti,Zr))}const Cc=this._buildAnimation(kt.namespaceId,fn,Jt,s,NE,Rd);if(kt.setRealPlayer(Cc),Zr===OV)dm.push(kt);else{const ba=this.playersByElement.get(Zr);ba&&ba.length&&(kt.parentPlayer=$f(ba)),r.push(kt)}}else em(Tt,fn.fromStyles),kt.onDestroy(()=>vc(Tt,fn.toStyles)),xV.push(kt),C.has(Tt)&&r.push(kt)}),xV.forEach(ot=>{const Tt=s.get(ot.element);if(Tt&&Tt.length){const kt=$f(Tt);ot.setRealPlayer(kt)}}),r.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<ue.length;ot++){const Tt=ue[ot],kt=Tt[pl];if(Ev(Tt,pI),kt&&kt.hasAnimation)continue;let fn=[];if(h.size){let Cc=h.get(Tt);Cc&&Cc.length&&fn.push(...Cc);let ba=this.driver.query(Tt,SO,!0);for(let Yf=0;Yf<ba.length;Yf++){let Ti=h.get(ba[Yf]);Ti&&Ti.length&&fn.push(...Ti)}}const Zr=fn.filter(Cc=>!Cc.destroyed);Zr.length?P5(this,Tt,Zr):this.processLeaveNode(Tt)}return ue.length=0,dm.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const Tt=this.players.indexOf(ot);this.players.splice(Tt,1)}),ot.play()}),dm}elementContainsData(e,t){let i=!1;const r=t[pl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==hE;h.forEach(y=>{y.queued||!p&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,C=y!==s,D=ma(i,y,[]);this._getPreviousPlayers(y,C,c,h,t.toState).forEach(O=>{const B=O.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),O.destroy(),D.push(O)})}em(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const h=t.triggerName,p=t.element,y=[],C=new Set,D=new Set,M=t.timelines.map(B=>{const Z=B.element;C.add(Z);const ue=Z[pl];if(ue&&ue.removedBeforeQueried)return new cE(B.duration,B.delay);const xe=Z!==p,ke=function k5(n){const e=[];return dB(n,e),e}((i.get(Z)||S5).map(Jt=>Jt.getRealPlayer())).filter(Jt=>!!Jt.element&&Jt.element===Z),ze=s.get(Z),$e=c.get(Z),mt=L2(0,this._normalizer,0,B.keyframes,ze,$e),Dt=this._buildPlayer(B,mt,ke);if(B.subTimeline&&r&&D.add(Z),xe){const Jt=new jO(e,h,Z);Jt.setRealPlayer(Dt),y.push(Jt)}return Dt});y.forEach(B=>{ma(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function x5(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,B.element,B))}),C.forEach(B=>gl(B,z2));const O=$f(M);return O.onDestroy(()=>{C.forEach(B=>Ev(B,z2)),vc(p,t.toStyles)}),D.forEach(B=>{ma(r,B,[]).push(O)}),O}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new cE(e.duration,e.delay)}}class jO{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new cE,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>bO(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ma(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function NI(n){return n&&1===n.nodeType}function lB(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function uB(n,e,t,i,r){const s=[];t.forEach(p=>s.push(lB(p)));const c=[];i.forEach((p,y)=>{const C={};p.forEach(D=>{const M=C[D]=e.computeStyle(y,D,r);(!M||0==M.length)&&(y[pl]=A5,c.push(y))}),n.set(y,C)});let h=0;return t.forEach(p=>lB(p,s[h++])),c}function cB(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(h){if(!h)return 1;let p=s.get(h);if(p)return p;const y=h.parentNode;return p=t.has(y)?y:r.has(y)?1:c(y),s.set(h,p),p}return e.forEach(h=>{const p=c(h);1!==p&&t.get(p).push(h)}),t}function gl(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ev(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function P5(n,e,t){$f(t).onDone(()=>n.processLeaveNode(e))}function dB(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof k2?dB(i.players,e):e.push(i)}}function hB(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class MI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new M5(e,t,i),this._timelineEngine=new E5(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const p=[],C=xO(this._driver,s,p,[]);if(p.length)throw function C6(n,e){return new l.vHH(3404,tn)}();h=function y5(n,e,t){return new v5(n,e,t)}(r,C,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=B2(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,h]=B2(i);return this._timelineEngine.listen(c,t,h,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let B5=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&vc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(vc(this._element,this._initialStyles),this._endStyles&&(vc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(em(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(em(this._element,this._endStyles),this._endStyles=null),vc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function HO(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];U5(r)&&(e=e||{},e[r]=n[r])}return e}function U5(n){return"display"===n||"position"===n}class fB{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:Q2(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class V5{validateStyleProperty(e){return H2(e)}matchesElement(e,t){return!1}containsElement(e,t){return G2(e,t)}getParentElement(e){return TO(e)}query(e,t,i){return $2(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y={},C=c.filter(M=>M instanceof fB);(function $6(n,e){return 0===n||0===e})(i,r)&&C.forEach(M=>{let O=M.currentSnapshot;Object.keys(O).forEach(B=>y[B]=O[B])}),t=function W6(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],c=[];if(i.forEach(h=>{s.hasOwnProperty(h)||c.push(h),s[h]=t[h]}),c.length)for(var r=1;r<e.length;r++){let h=e[r];c.forEach(function(p){h[p]=Q2(n,p)})}}return e}(e,t=t.map(M=>Wf(M,!1)),y);const D=function L5(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=HO(e[0]),e.length>1&&(i=HO(e[e.length-1]))):e&&(t=HO(e)),t||i?new B5(n,t,i):null}(e,t);return new fB(e,t,p,D)}}let j5=(()=>{class n extends x2{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?O2(t):t;return pB(this._renderer,null,i,"register",[r]),new H5(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class H5 extends class t6{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new G5(this._id,e,t||{},this._renderer)}}class G5{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return pB(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function pB(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const gB="@.disabled";let $5=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const h=null==c?void 0:c.parentNode(s);h&&c.removeChild(h,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new mB("",s,this.engine),this._rendererCache.set(s,C)),C}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=C=>{Array.isArray(C)?C.forEach(p):this.engine.registerTrigger(c,h,t,C.name,C)};return i.data.animation.forEach(p),new W5(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,h]=s;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(MI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class mB{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==gB?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class W5 extends mB{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==gB?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function q5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function z5(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let Z5=(()=>{class n extends MI{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(DO),l.LFG(FO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _B=new l.OlP("AnimationModuleType"),yB=[{provide:x2,useClass:j5},{provide:FO,useFactory:function K5(){return new f5}},{provide:MI,useClass:Z5},{provide:l.FYo,useFactory:function Y5(n,e,t){return new $5(n,e,t)},deps:[Dn,MI,l.R0b]}],vB=[{provide:DO,useFactory:()=>new V5},{provide:_B,useValue:"BrowserAnimations"},...yB],J5=[{provide:DO,useClass:W2},{provide:_B,useValue:"NoopAnimations"},...yB];let Q5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?J5:vB}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:vB,imports:[xa]}),n})();class Or extends qn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var X5=k(9672);function GO(...n){const e=(0,mr.yG)(n),t=(0,mr.jO)(n),{args:i,keys:r}=eh(n);if(0===i.length)return(0,yt.D)([],e);const s=new On.y(function eq(n,e,t=jr.y){return i=>{bB(e,()=>{const{length:r}=n,s=new Array(r);let c=r,h=r;for(let p=0;p<r;p++)bB(e,()=>{const y=(0,yt.D)(n[p],e);let C=!1;y.subscribe(new dn.Q(i,D=>{s[p]=D,C||(C=!0,h--),h||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Zo(r,c):jr.y));return t?s.pipe(zo(t)):s}function bB(n,e,t){n?(0,X5.f)(t,n,e):e()}function OI(n,e){const t=(0,qs.m)(n)?n:()=>n,i=r=>r.error(t());return new On.y(e?r=>e.schedule(i,0,r):i)}function wB(n){return new On.y(e=>{(0,Mi.Xf)(n()).subscribe(e)})}var qf=k(515),EB=k(727);function CB(){return(0,Ri.e)((n,e)=>{let t=null;n._refCount++;const i=new dn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class tq extends On.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ri.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new EB.w0;const t=this.getSubject();e.add(this.source.subscribe(new dn.Q(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=EB.w0.EMPTY)}return e}refCount(){return CB()(this)}}function zf(n){return(0,Ri.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe(new dn.Q(t,void 0,void 0,c=>{s=(0,Mi.Xf)(n(c,zf(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function $O(n){return n<=0?()=>qf.E:(0,Ri.e)((e,t)=>{let i=[];e.subscribe(new dn.Q(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}var Qs=k(8505);class Md{constructor(e,t){this.id=e,this.url=t}}class WO extends Md{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fE extends Md{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class TB extends Md{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rq extends Md{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sq extends Md{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oq extends Md{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aq extends Md{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class lq extends Md{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uq extends Md{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DB{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class IB{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cq{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dq{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hq{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fq{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SB{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const en="primary";class pq{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cv(n){return new pq(n)}const AB="ngNavigationCancelingError";function qO(n){const e=Error("NavigationCancelingError: "+n);return e[AB]=!0,e}function mq(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],h=n[s];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function bc(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!NB(n[r],e[r]))return!1;return!0}function NB(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function MB(n){return Array.prototype.concat.apply([],n)}function xB(n){return n.length>0?n[n.length-1]:null}function ps(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function wc(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,yt.D)(Promise.resolve(n)):ut(n)}const vq={exact:function PB(n,e,t){if(!im(n.segments,e.segments)||!RI(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!PB(n.children[i],e.children[i],t))return!1;return!0},subset:kB},OB={exact:function bq(n,e){return bc(n,e)},subset:function wq(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>NB(n[t],e[t]))},ignored:()=>!0};function RB(n,e,t){return vq[t.paths](n.root,e.root,t.matrixParams)&&OB[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function kB(n,e,t){return FB(n,e,e.segments,t)}function FB(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!im(r,t)||e.hasChildren()||!RI(r,t,i))}if(n.segments.length===t.length){if(!im(n.segments,t)||!RI(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!kB(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(im(n.segments,r)&&RI(n.segments,r,i)&&n.children[en])&&FB(n.children[en],e,s,i)}}function RI(n,e,t){return e.every((i,r)=>OB[t](n[r].parameters,i.parameters))}class nm{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cv(this.queryParams)),this._queryParamMap}toString(){return Tq.serialize(this)}}class nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ps(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return PI(this)}}class pE{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cv(this.parameters)),this._parameterMap}toString(){return jB(this)}}function im(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class LB{}class BB{parse(e){const t=new Rq(e);return new nm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${gE(e.root,!0)}`,i=function Sq(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${kI(t)}=${kI(r)}`).join("&"):`${kI(t)}=${kI(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function Dq(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const Tq=new BB;function PI(n){return n.segments.map(e=>jB(e)).join("/")}function gE(n,e){if(!n.hasChildren())return PI(n);if(e){const t=n.children[en]?gE(n.children[en],!1):"",i=[];return ps(n.children,(r,s)=>{s!==en&&i.push(`${s}:${gE(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Cq(n,e){let t=[];return ps(n.children,(i,r)=>{r===en&&(t=t.concat(e(i,r)))}),ps(n.children,(i,r)=>{r!==en&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===en?[gE(n.children[en],!1)]:[`${r}:${gE(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${PI(n)}/${t[0]}`:`${PI(n)}/(${t.join("//")})`}}function UB(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kI(n){return UB(n).replace(/%3B/gi,";")}function zO(n){return UB(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function FI(n){return decodeURIComponent(n)}function VB(n){return FI(n.replace(/\+/g,"%20"))}function jB(n){return`${zO(n.path)}${function Iq(n){return Object.keys(n).map(e=>`;${zO(e)}=${zO(n[e])}`).join("")}(n.parameters)}`}const Aq=/^[^\/()?;=#]+/;function LI(n){const e=n.match(Aq);return e?e[0]:""}const Nq=/^[^=?&#]+/,xq=/^[^&#]+/;class Rq{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[en]=new nn(e,t)),i}parseSegment(){const e=LI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new pE(FI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=LI(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=LI(this.remaining);r&&(i=r,this.capture(i))}e[FI(t)]=FI(i)}parseQueryParam(e){const t=function Mq(n){const e=n.match(Nq);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Oq(n){const e=n.match(xq);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=VB(t),s=VB(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=LI(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=en);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[en]:new nn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class HB{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ZO(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=ZO(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=KO(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return KO(e,this._root).map(t=>t.value)}}function ZO(n,e){if(n===e.value)return e;for(const t of e.children){const i=ZO(n,t);if(i)return i}return null}function KO(n,e){if(n===e.value)return[e];for(const t of e.children){const i=KO(n,t);if(i.length)return i.unshift(e),i}return[]}class xd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Tv(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class GB extends HB{constructor(e,t){super(e),this.snapshot=t,YO(this,e)}toString(){return this.snapshot.toString()}}function $B(n,e){const t=function Pq(n,e){const c=new BI([],{},{},"",{},en,e,null,n.root,-1,{});return new qB("",new xd(c,[]))}(n,e),i=new Or([new pE("",{})]),r=new Or({}),s=new Or({}),c=new Or({}),h=new Or(""),p=new Dv(i,r,c,h,s,en,e,t.root);return p.snapshot=t.root,new GB(new xd(p,[]),t)}class Dv{constructor(e,t,i,r,s,c,h,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,et.U)(e=>Cv(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,et.U)(e=>Cv(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WB(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function kq(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class BI{constructor(e,t,i,r,s,c,h,p,y,C,D){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=C,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qB extends HB{constructor(e,t){super(t),this.url=e,YO(this,t)}toString(){return zB(this._root)}}function YO(n,e){e.value._routerState=n,e.children.forEach(t=>YO(n,t))}function zB(n){const e=n.children.length>0?` { ${n.children.map(zB).join(", ")} } `:"";return`${n.value}${e}`}function JO(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bc(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),bc(e.params,t.params)||n.params.next(t.params),function _q(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),bc(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function QO(n,e){const t=bc(n.params,e.params)&&function Eq(n,e){return im(n,e)&&n.every((t,i)=>bc(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||QO(n.parent,e.parent))}function mE(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Lq(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return mE(n,i,r);return mE(n,i)})}(n,e,t);return new xd(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>mE(n,h)),c}}const i=function Bq(n){return new Dv(new Or(n.url),new Or(n.params),new Or(n.queryParams),new Or(n.fragment),new Or(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>mE(n,s));return new xd(i,r)}}function UI(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function _E(n){return"object"==typeof n&&null!=n&&n.outlets}function XO(n,e,t,i,r){let s={};if(i&&ps(i,(h,p)=>{s[p]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),n===e)return new nm(t,s,r);const c=ZB(n,e,t);return new nm(c,s,r)}function ZB(n,e,t){const i={};return ps(n.children,(r,s)=>{i[s]=r===e?t:ZB(r,e,t)}),new nn(n.segments,i)}class KB{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&UI(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(_E);if(r&&r!==xB(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class eR{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function YB(n,e,t){if(n||(n=new nn([],{})),0===n.segments.length&&n.hasChildren())return VI(n,e,t);const i=function $q(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],h=t[i];if(_E(h))break;const p=`${h}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!QB(p,y,c))return s;i+=2}else{if(!QB(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new nn(n.segments.slice(0,i.pathIndex),{});return s.children[en]=new nn(n.segments.slice(i.pathIndex),n.children),VI(s,0,r)}return i.match&&0===r.length?new nn(n.segments,{}):i.match&&!n.hasChildren()?tR(n,e,t):i.match?VI(n,0,r):tR(n,e,t)}function VI(n,e,t){if(0===t.length)return new nn(n.segments,{});{const i=function Gq(n){return _E(n[0])?n[0].outlets:{[en]:n}}(t),r={};return ps(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=YB(n.children[c],e,s))}),ps(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new nn(n.segments,r)}}function tR(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(_E(s)){const p=Wq(s.outlets);return new nn(i,p)}if(0===r&&UI(t[0])){i.push(new pE(n.segments[e].path,JB(t[0]))),r++;continue}const c=_E(s)?s.outlets[en]:`${s}`,h=r<t.length-1?t[r+1]:null;c&&h&&UI(h)?(i.push(new pE(c,JB(h))),r+=2):(i.push(new pE(c,{})),r++)}return new nn(i,{})}function Wq(n){const e={};return ps(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=tR(new nn([],{}),0,t))}),e}function JB(n){const e={};return ps(n,(t,i)=>e[i]=`${t}`),e}function QB(n,e,t){return n==t.path&&bc(e,t.parameters)}class zq{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),JO(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Tv(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),ps(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Tv(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Tv(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Tv(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new fq(s.value.snapshot))}),e.children.length&&this.forwardEvent(new dq(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(JO(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),JO(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=function Zq(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),p=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class nR{constructor(e,t){this.routes=e,this.module=t}}function Zf(n){return"function"==typeof n}function rm(n){return n instanceof nm}const yE=Symbol("INITIAL_VALUE");function vE(){return hn(n=>GO(n.map(e=>e.pipe((0,gn.q)(1),Lh(yE)))).pipe(Wu((e,t)=>{let i=!1;return t.reduce((r,s,c)=>r!==yE?r:(s===yE&&(i=!0),i||!1!==s&&c!==t.length-1&&!rm(s)?r:s),e)},yE),Pi(e=>e!==yE),(0,et.U)(e=>rm(e)?e:!0===e),(0,gn.q)(1)))}class e4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new bE,this.attachRef=null}}class bE{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new e4,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let iR=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=s||en,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new t4(t,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bE),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class t4{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Dv?this.route:e===bE?this.childContexts:this.parent.get(e,t)}}let XB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},directives:[iR],encapsulation:2}),n})();function eU(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];n4(i,i4(e,i))}}function n4(n,e){n.children&&eU(n.children,e)}function i4(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function rR(n){const e=n.children&&n.children.map(rR),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==en&&(t.component=XB),t}function ml(n){return n.outlet||en}function tU(n,e){const t=n.filter(i=>ml(i)===e);return t.push(...n.filter(i=>ml(i)!==e)),t}const nU={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jI(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},nU):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||mq)(t,n,e);if(!s)return Object.assign({},nU);const c={};ps(s.posParams,(p,y)=>{c[y]=p.path});const h=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function HI(n,e,t,i,r="corrected"){if(t.length>0&&function o4(n,e,t){return t.some(i=>GI(n,e,i)&&ml(i)!==en)}(n,t,i)){const c=new nn(e,function s4(n,e,t,i){const r={};r[en]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ml(s)!==en){const c=new nn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[ml(s)]=c}return r}(n,e,i,new nn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function a4(n,e,t){return t.some(i=>GI(n,e,i))}(n,t,i)){const c=new nn(n.segments,function r4(n,e,t,i,r,s){const c={};for(const h of i)if(GI(n,t,h)&&!r[ml(h)]){const p=new nn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[ml(h)]=p}return Object.assign(Object.assign({},r),c)}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new nn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function GI(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function iU(n,e,t,i){return!!(ml(n)===i||i!==en&&GI(e,t,n))&&("**"===n.path||jI(e,n,t).matched)}function rU(n,e,t){return 0===e.length&&!n.children[t]}class $I{constructor(e){this.segmentGroup=e||null}}class sU{constructor(e){this.urlTree=e}}function wE(n){return OI(new $I(n))}function oU(n){return OI(new sU(n))}function l4(n){return OI(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class d4{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=HI(this.urlTree.root,[],[],this.config).segmentGroup,t=new nn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,en).pipe((0,et.U)(s=>this.createUrlTree(sR(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zf(s=>{if(s instanceof sU)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof $I?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,en).pipe((0,et.U)(r=>this.createUrlTree(sR(r),e.queryParams,e.fragment))).pipe(zf(r=>{throw r instanceof $I?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new nn([],{[en]:e}):e;return new nm(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,et.U)(s=>new nn([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,yt.D)(r).pipe(bv(s=>{const c=i.children[s],h=tU(t,s);return this.expandSegmentGroup(e,h,c,s).pipe((0,et.U)(p=>({segment:p,outlet:s})))}),Wu((s,c)=>(s[c.outlet]=c.segment,s),{}),function nq(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Pi((r,s)=>n(r,s,i)):jr.y,$O(1),t?wh(e):Eh(()=>new bh))}())}expandSegment(e,t,i,r,s,c){return(0,yt.D)(i).pipe(bv(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,s,c).pipe(zf(y=>{if(y instanceof $I)return ut(null);throw y}))),Ws(h=>!!h),zf((h,p)=>{if(h instanceof bh||"EmptyError"===h.name)return rU(t,r,s)?ut(new nn([],{})):wE(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,s,c,h){return iU(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):wE(t):wE(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?oU(s):this.lineralizeSegments(i,s).pipe((0,zr.z)(c=>{const h=new nn(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:h,consumedSegments:p,remainingSegments:y,positionalParamSegments:C}=jI(t,r,s);if(!h)return wE(t);const D=this.applyRedirectCommands(p,r.redirectTo,C);return r.redirectTo.startsWith("/")?oU(D):this.lineralizeSegments(r,D).pipe((0,zr.z)(M=>this.expandSegment(e,t,i,M.concat(y),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ut(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,et.U)(D=>(i._loadedConfig=D,new nn(r,{})))):ut(new nn(r,{}));const{matched:c,consumedSegments:h,remainingSegments:p}=jI(t,i,r);return c?this.getChildConfig(e,i,r).pipe((0,zr.z)(C=>{const D=C.module,M=C.routes,{segmentGroup:O,slicedSegments:B}=HI(t,h,p,M),Z=new nn(O.segments,O.children);if(0===B.length&&Z.hasChildren())return this.expandChildren(D,M,Z).pipe((0,et.U)(ze=>new nn(h,ze)));if(0===M.length&&0===B.length)return ut(new nn(h,{}));const ue=ml(i)===s;return this.expandSegment(D,Z,M,B,ue?en:s,!0).pipe((0,et.U)(ke=>new nn(h.concat(ke.segments),ke.children)))})):wE(t)}getChildConfig(e,t,i){return t.children?ut(new nR(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ut(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,zr.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,et.U)(s=>(t._loadedConfig=s,s))):function u4(n){return OI(qO(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):ut(new nR([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;if(!r||0===r.length)return ut(!0);const s=r.map(c=>{const h=e.get(c);let p;if(function Yq(n){return n&&Zf(n.canLoad)}(h))p=h.canLoad(t,i);else{if(!Zf(h))throw new Error("Invalid CanLoad guard");p=h(t,i)}return wc(p)});return ut(s).pipe(vE(),(0,Qs.b)(c=>{if(!rm(c))return;const h=qO(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,et.U)(c=>!0===c))}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ut(i);if(r.numberOfChildren>1||!r.children[en])return l4(e.redirectTo);r=r.children[en]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new nm(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ps(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[s]=t[h]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return ps(t.children,(h,p)=>{c[p]=this.createSegmentGroup(e,h,i,r)}),new nn(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function sR(n){const e={};for(const i of Object.keys(n.children)){const s=sR(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function h4(n){if(1===n.numberOfChildren&&n.children[en]){const e=n.children[en];return new nn(n.segments.concat(e.segments),e.children)}return n}(new nn(n.segments,e))}class aU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class WI{constructor(e,t){this.component=e,this.route=t}}function p4(n,e,t){const i=n._root;return EE(i,e?e._root:null,t,[i.value])}function qI(n,e,t){const i=function m4(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function EE(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Tv(e);return n.children.forEach(c=>{(function _4(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function y4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!im(n.url,e.url);case"pathParamsOrQueryParamsChange":return!im(n.url,e.url)||!bc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!QO(n,e)||!bc(n.queryParams,e.queryParams);default:return!QO(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new aU(i)):(s.data=c.data,s._resolvedData=c._resolvedData),EE(n,e,s.component?h?h.children:null:t,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new WI(h.outlet.component,c))}else c&&CE(e,h,r),r.canActivateChecks.push(new aU(i)),EE(n,null,s.component?h?h.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),ps(s,(c,h)=>CE(c,t.getContext(h),r)),r}function CE(n,e,t){const i=Tv(n),r=n.value;ps(i,(s,c)=>{CE(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new WI(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class S4{}function lU(n){return new On.y(e=>e.error(n))}class N4{constructor(e,t,i,r,s,c){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=HI(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,en);if(null===t)return null;const i=new BI([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xd(i,t),s=new qB(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=WB(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const c=t.children[s],h=tU(e,s),p=this.processSegmentGroup(h,c,s);if(null===p)return null;i.push(...p)}const r=uU(i);return function M4(n){n.sort((e,t)=>e.value.outlet===en?-1:t.value.outlet===en?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,i,r);if(null!==c)return c}return rU(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!iU(e,t,i,r))return null;let s,c=[],h=[];if("**"===e.path){const O=i.length>0?xB(i).parameters:{};s=new BI(i,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hU(e),ml(e),e.component,e,cU(t),dU(t)+i.length,fU(e))}else{const O=jI(t,e,i);if(!O.matched)return null;c=O.consumedSegments,h=O.remainingSegments,s=new BI(c,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hU(e),ml(e),e.component,e,cU(t),dU(t)+c.length,fU(e))}const p=function x4(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:y,slicedSegments:C}=HI(t,c,h,p.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);if(0===C.length&&y.hasChildren()){const O=this.processChildren(p,y);return null===O?null:[new xd(s,O)]}if(0===p.length&&0===C.length)return[new xd(s,[])];const D=ml(e)===r,M=this.processSegment(p,y,C,D?en:r);return null===M?null:[new xd(s,M)]}}function O4(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function uU(n){const e=[],t=new Set;for(const i of n){if(!O4(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=uU(i.children);e.push(new xd(i.value,r))}return e.filter(i=>!t.has(i))}function cU(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function dU(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function hU(n){return n.data||{}}function fU(n){return n.resolve||{}}function pU(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function oR(n){return hn(e=>{const t=n(e);return t?(0,yt.D)(t).pipe((0,et.U)(()=>e)):ut(e)})}class V4 extends class U4{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const aR=new l.OlP("ROUTES");class gU{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,et.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new nR(MB(c.injector.get(aR,void 0,l.XFs.Self|l.XFs.Optional)).map(rR),c)}),zf(s=>{throw t._loader$=void 0,s}));return t._loader$=new tq(r,()=>new qn.x).pipe(CB()),t._loader$}loadModuleFactory(e){return wc(e()).pipe((0,zr.z)(t=>t instanceof l.YKP?ut(t):(0,yt.D)(this.compiler.compileModuleAsync(t))))}}class H4{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function G4(n){throw n}function $4(n,e,t){return e.parse("/")}function mU(n,e){return ut(null)}const W4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},q4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ya=(()=>{class n{constructor(t,i,r,s,c,h,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qn.x,this.errorHandler=G4,this.malformedUriErrorHandler=$4,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mU,afterPreactivation:mU},this.urlHandlingStrategy=new H4,this.routeReuseStrategy=new V4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const D=c.get(l.R0b);this.isNgZoneEnabled=D instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function yq(){return new nm(new nn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new gU(c,h,M=>this.triggerEvent(new DB(M)),M=>this.triggerEvent(new IB(M))),this.routerState=$B(this.currentUrlTree,this.rootComponentType),this.transitions=new Or({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Pi(r=>0!==r.id),(0,et.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),hn(r=>{let s=!1,c=!1;return ut(r).pipe((0,Qs.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hn(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return _U(h.source)&&(this.browserUrlTree=h.extractedUrl),ut(h).pipe(hn(D=>{const M=this.transitions.getValue();return i.next(new WO(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),M!==this.transitions.getValue()?qf.E:Promise.resolve(D)}),function f4(n,e,t,i){return hn(r=>function c4(n,e,t,i,r){return new d4(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,et.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qs.b)(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function R4(n,e,t,i,r){return(0,zr.z)(s=>function A4(n,e,t,i,r="emptyOnly",s="legacy"){try{const c=new N4(n,e,t,i,r,s).recognize();return null===c?lU(new S4):ut(c)}catch(c){return lU(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,et.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qs.b)(D=>{if("eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(O,D)}this.browserUrlTree=D.urlAfterRedirects}const M=new sq(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(M)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:O,source:B,restoredState:Z,extras:ue}=h,xe=new WO(M,this.serializeUrl(O),B,Z);i.next(xe);const ke=$B(O,this.rootComponentType).snapshot;return ut(Object.assign(Object.assign({},h),{targetSnapshot:ke,urlAfterRedirects:O,extras:Object.assign(Object.assign({},ue),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),qf.E}),oR(h=>{const{targetSnapshot:p,id:y,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:M,replaceUrl:O}}=h;return this.hooks.beforePreactivation(p,{navigationId:y,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!M,replaceUrl:!!O})}),(0,Qs.b)(h=>{const p=new oq(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,et.U)(h=>Object.assign(Object.assign({},h),{guards:p4(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function v4(n,e){return(0,zr.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?ut(Object.assign(Object.assign({},t),{guardsResult:!0})):function b4(n,e,t,i){return(0,yt.D)(n).pipe((0,zr.z)(r=>function I4(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ut(s.map(h=>{const p=qI(h,e,r);let y;if(function Xq(n){return n&&Zf(n.canDeactivate)}(p))y=wc(p.canDeactivate(n,e,t,i));else{if(!Zf(p))throw new Error("Invalid CanDeactivate guard");y=wc(p(n,e,t,i))}return y.pipe(Ws())})).pipe(vE()):ut(!0)}(r.component,r.route,t,e,i)),Ws(r=>!0!==r,!0))}(c,i,r,n).pipe((0,zr.z)(h=>h&&function Kq(n){return"boolean"==typeof n}(h)?function w4(n,e,t,i){return(0,yt.D)(e).pipe(bv(r=>N_(function C4(n,e){return null!==n&&e&&e(new cq(n)),ut(!0)}(r.route.parent,i),function E4(n,e){return null!==n&&e&&e(new hq(n)),ut(!0)}(r.route,i),function D4(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function g4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>wB(()=>ut(c.guards.map(p=>{const y=qI(p,c.node,t);let C;if(function Qq(n){return n&&Zf(n.canActivateChild)}(y))C=wc(y.canActivateChild(i,n));else{if(!Zf(y))throw new Error("Invalid CanActivateChild guard");C=wc(y(i,n))}return C.pipe(Ws())})).pipe(vE())));return ut(s).pipe(vE())}(n,r.path,t),function T4(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ut(!0);const r=i.map(s=>wB(()=>{const c=qI(s,e,t);let h;if(function Jq(n){return n&&Zf(n.canActivate)}(c))h=wc(c.canActivate(e,n));else{if(!Zf(c))throw new Error("Invalid CanActivate guard");h=wc(c(e,n))}return h.pipe(Ws())}));return ut(r).pipe(vE())}(n,r.route,t))),Ws(r=>!0!==r,!0))}(i,s,n,e):ut(h)),(0,et.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Qs.b)(h=>{if(rm(h.guardsResult)){const y=qO(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const p=new aq(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),Pi(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),oR(h=>{if(h.guards.canActivateChecks.length)return ut(h).pipe((0,Qs.b)(p=>{const y=new lq(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),hn(p=>{let y=!1;return ut(p).pipe(function P4(n,e){return(0,zr.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ut(t);let s=0;return(0,yt.D)(r).pipe(bv(c=>function k4(n,e,t,i){return function F4(n,e,t,i){const r=pU(n);if(0===r.length)return ut({});const s={};return(0,yt.D)(r).pipe((0,zr.z)(c=>function L4(n,e,t,i){const r=qI(n,e,i);return wc(r.resolve?r.resolve(e,t):r(e,t))}(n[c],e,t,i).pipe((0,Qs.b)(h=>{s[c]=h}))),$O(1),(0,zr.z)(()=>pU(s).length===r.length?ut(s):qf.E))}(n._resolve,n,e,i).pipe((0,et.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),WB(n,t).resolve),null)))}(c.route,i,n,e)),(0,Qs.b)(()=>s++),$O(1),(0,zr.z)(c=>s===r.length?ut(t):qf.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qs.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,Qs.b)(p=>{const y=new uq(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),oR(h=>{const{targetSnapshot:p,id:y,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:M,replaceUrl:O}}=h;return this.hooks.afterPreactivation(p,{navigationId:y,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!M,replaceUrl:!!O})}),(0,et.U)(h=>{const p=function Fq(n,e,t){const i=mE(n,e._root,t?t._root:void 0);return new GB(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:p})}),(0,Qs.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,et.U)(i=>(new zq(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Qs.b)({next(){s=!0},complete(){s=!0}}),function iq(n){return(0,Ri.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var h;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===r.id&&(this.currentNavigation=null)}),zf(h=>{if(c=!0,function gq(n){return n&&n[AB]}(h)){const p=rm(h.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const y=new TB(r.id,this.serializeUrl(r.extractedUrl),h.message);i.next(y),p?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||_U(r.source)};this.scheduleNavigation(C,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new rq(r.id,this.serializeUrl(r.extractedUrl),h);i.next(p);try{r.resolve(this.errorHandler(h))}catch(y){r.reject(y)}}return qf.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){eU(t),this.config=t.map(rR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:h,preserveFragment:p}=i,y=r||this.routerState.root,C=p?this.currentUrlTree.fragment:c;let D=null;switch(h){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),function Uq(n,e,t,i,r){if(0===t.length)return XO(e.root,e.root,e.root,i,r);const s=function Vq(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new KB(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return ps(s.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new KB(t,e,i)}(t);if(s.toRoot())return XO(e.root,e.root,new nn([],{}),i,r);const c=function jq(n,e,t){if(n.isAbsolute)return new eR(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new eR(s,s===e.root,0)}const i=UI(n.commands[0])?0:1;return function Hq(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new eR(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),h=c.processChildren?VI(c.segmentGroup,c.index,s.commands):YB(c.segmentGroup,c.index,s.commands);return XO(e.root,c.segmentGroup,h,i,r)}(y,this.currentUrlTree,t,D,null!=C?C:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=rm(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function z4(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},W4):!1===i?Object.assign({},q4):i,rm(t))return RB(this.currentUrlTree,t,r);const s=this.parseUrl(t);return RB(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new fE(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){var h,p;if(this.disposed)return Promise.resolve(!1);let y,C,D;c?(y=c.resolve,C=c.reject,D=c.promise):D=new Promise((B,Z)=>{y=B,C=Z});const M=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),O=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):O=0,this.setTransition({id:M,targetPageId:O,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:y,reject:C,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(B=>Promise.reject(B))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new TB(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function _U(n){return"imperative"!==n}let lR=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new qn.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Sv(this.skipLocationChange),replaceUrl:Sv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Sv(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ya),l.Y36(Dv),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),Iv=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new qn.x,this.subscription=t.events.subscribe(s=>{s instanceof fE&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,c){if(0!==t||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:Sv(this.skipLocationChange),replaceUrl:Sv(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Sv(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ya),l.Y36(Dv),l.Y36(ye))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Sv(n){return""===n||!!n}let yU=(()=>{class n{constructor(t,i,r,s,c,h){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=c,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof fE&&this.update()})}ngAfterContentInit(){ut(this.links.changes,this.linksWithHrefs.changes,ut(null)).pipe((0,Fh.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,yt.D)(i).pipe((0,Fh.J)()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function Z4(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ya),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(lR,8),l.Y36(Iv,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,lR,5),l.Suo(r,Iv,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.links=s),l.iGM(s=l.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[l.TTD]}),n})();class vU{}class bU{preload(e,t){return ut(null)}}let wU=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new gU(r,i,p=>t.triggerEvent(new DB(p)),p=>t.triggerEvent(new IB(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(Pi(t=>t instanceof fE),bv(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,yt.D)(r).pipe((0,Fh.J)(),(0,et.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ut(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,zr.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ya),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(vU))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),uR=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof WO?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof fE&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof SB&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new SB(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const sm=new l.OlP("ROUTER_CONFIGURATION"),EU=new l.OlP("ROUTER_FORROOT_GUARD"),Y4=[Oe,{provide:LB,useClass:BB},{provide:ya,useFactory:function tz(n,e,t,i,r,s,c={},h,p){const y=new ya(null,n,e,t,i,r,MB(s));return h&&(y.urlHandlingStrategy=h),p&&(y.routeReuseStrategy=p),function nz(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,y),c.enableTracing&&y.events.subscribe(C=>{var D,M;null===(D=console.group)||void 0===D||D.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(M=console.groupEnd)||void 0===M||M.call(console)}),y},deps:[LB,bE,Oe,l.zs3,l.Sil,aR,sm,[class j4{},new l.FiY],[class B4{},new l.FiY]]},bE,{provide:Dv,useFactory:function iz(n){return n.routerState.root},deps:[ya]},wU,bU,class K4{preload(e,t){return t().pipe(zf(()=>ut(null)))}},{provide:sm,useValue:{enableTracing:!1}}];function J4(){return new l.PXZ("Router",ya)}let CU=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[Y4,TU(t),{provide:EU,useFactory:ez,deps:[[ya,new l.FiY,new l.tp0]]},{provide:sm,useValue:i||{}},{provide:ye,useFactory:X4,deps:[ee,[new l.tBr(Te),new l.FiY],sm]},{provide:uR,useFactory:Q4,deps:[ya,Sc,sm]},{provide:vU,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:bU},{provide:l.PXZ,multi:!0,useFactory:J4},[cR,{provide:l.ip1,multi:!0,useFactory:rz,deps:[cR]},{provide:DU,useFactory:sz,deps:[cR]},{provide:l.tb,multi:!0,useExisting:DU}]]}}static forChild(t){return{ngModule:n,providers:[TU(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(EU,8),l.LFG(ya,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Q4(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new uR(n,e,t)}function X4(n,e,t={}){return t.useHash?new Pe(n,e):new Be(n,e)}function ez(n){return"guarded"}function TU(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:aR,multi:!0,useValue:n}]}let cR=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qn.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(h=>i=h),s=this.injector.get(ya),c=this.injector.get(sm);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ut(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(sm),r=this.injector.get(wU),s=this.injector.get(uR),c=this.injector.get(ya),h=this.injector.get(l.z2F);t===h.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function rz(n){return n.appInitializer.bind(n)}function sz(n){return n.bootstrapListener.bind(n)}const DU=new l.OlP("Router Initializer");let az=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-about"]],decls:22,vars:0,consts:[[1,"section-about"],[1,"row"],[1,"aboutBod","d-flex","justify-content-center"],[1,"col-lg-6","aboutImageLeft"],["src","../../../assets/March+-+2021+-+4.jpg","alt",""],[1,"sborder"],[1,"col-lg-6","d-flex","flex-column","align-items-center","justify-content-center"],[1,"col-lg-6","aboutImageRight"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),l._UZ(4,"img",4)(5,"div",5),l.qZA(),l.TgZ(6,"div",6)(7,"h3"),l._uU(8,"What we do?"),l.qZA(),l.TgZ(9,"p"),l._uU(10,"Why sir end believe uncivil respect. Always get adieus nature day coursefro common. My little garret repair to desire he esteem."),l.qZA()()(),l.TgZ(11,"div",2)(12,"div",6)(13,"p"),l._uU(14,"Wise busy past both park where an ye npoo. Nay likely her length sooner thrown sex lively income. The expense widows adapted sir. Wrong widen drawn ample eat off doors money. Offending belonging promotion provision an be oh consulted ourselves it. Blessing welcomed ladyship she met humoured sir breeding her. Six curiousity day assurancebed necessary"),l.qZA(),l.TgZ(15,"p"),l._uU(16," And produce say the ten moments parties. Simple innate summer fat appear basket his desire joy. Outward clothes promise at gravity do excited. Sufficient particular impossible by reasonable oh expression is. Yet preference connection unpleasant yet melancholy but end appearance. And excellence partially estimating terminated day everything. "),l.qZA(),l.TgZ(17,"p"),l._uU(18,"Warmly little before cousin sussex entire men set. Blessing it ladyship on sensible judgement settling"),l.qZA()(),l.TgZ(19,"div",7),l._UZ(20,"img",4)(21,"div",5),l.qZA()()()())},styles:[".section-about[_ngcontent-%COMP%]{padding:80px}.section-about[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:20px}.col-lg-6[_ngcontent-%COMP%]{margin:20px}.aboutImageLeft[_ngcontent-%COMP%], .aboutImageRight[_ngcontent-%COMP%]{position:relative;width:100%}.aboutImageLeft[_ngcontent-%COMP%], .aboutImageLeft[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:240px 0 0;width:85%;padding:0}.aboutImageRight[_ngcontent-%COMP%], .aboutImageRight[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:0 0 240px;width:85%;padding:0}.aboutImageRight[_ngcontent-%COMP%]{margin-top:-150px}.sborder[_ngcontent-%COMP%]{position:absolute;width:85%;height:100%;border:1px solid black;z-index:10;top:-20px}.aboutImageLeft[_ngcontent-%COMP%]   .sborder[_ngcontent-%COMP%]{left:-20px;border-radius:260px 0 0}.aboutImageRight[_ngcontent-%COMP%]   .sborder[_ngcontent-%COMP%]{left:20px;top:20px;border-radius:0 0 260px}.story[_ngcontent-%COMP%]{padding:60px 0}.story[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:54px;font-weight:700}"]}),n})();function lz(n,e){1&n&&(l.TgZ(0,"div",26),l._uU(1," First Name Required "),l.qZA())}function uz(n,e){1&n&&(l.TgZ(0,"div",26),l._uU(1," Email Address Required "),l.qZA())}function cz(n,e){1&n&&(l.TgZ(0,"div",26),l._uU(1," Subject Required "),l.qZA())}function dz(n,e){1&n&&(l.TgZ(0,"div",26),l._uU(1," Select a Category to proceed "),l.qZA())}let hz=(()=>{class n{constructor(){}submit(t){console.log(t)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-contact"]],decls:51,vars:6,consts:[[1,"section-contact"],[3,"ngSubmit"],["contactForm","ngForm"],[1,"form-group"],["for","fname"],["required","","ngModel","","type","text","name","fname","placeholder","First Name","ng","",1,"form-control"],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","lname"],["ngModel","","type","text","name","lname","placeholder","Last Name",1,"form-control"],["for","email"],["required","","ngModel","","type","email","name","email","placeholder","Email",1,"form-control",3,"email"],["email","ngModel"],["for","subject"],["required","","ngModel","","type","text","name","subject","placeholder","Subject",1,"form-control"],["subject","ngModel"],["for","tellMore"],["ngModel","","name","tellMore","cols","30","rows","5",1,"form-control"],["for","category"],["required","","ngModel","","name","category","id","",1,"form-control"],["category","ngModel"],["value","WILDFIT 90 day Challenge"],["value","1:1 Premium Coaching"],["value","Living WILDFIT"],["value","I dont know yet !!!"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-danger"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"section",0)(1,"div")(2,"div"),l._uU(3," If you want to know more about WILDFIT or if you have any questions about the coaching or your health for that matter, please reach out to me using this form : (Should also have a link to the free discovery call here) "),l.qZA(),l.TgZ(4,"div")(5,"form",1,2),l.NdJ("ngSubmit",function(){l.CHM(r);const c=l.MAs(6);return i.submit(c)}),l.TgZ(7,"div",3)(8,"label",4),l._uU(9,"First Name"),l.qZA(),l._UZ(10,"input",5,6),l.YNc(12,lz,2,0,"div",7),l.qZA(),l.TgZ(13,"div",3)(14,"label",8),l._uU(15,"Last Name"),l.qZA(),l._UZ(16,"input",9),l.qZA(),l.TgZ(17,"div",3)(18,"label",10),l._uU(19,"Email"),l.qZA(),l._UZ(20,"input",11,12),l.YNc(22,uz,2,0,"div",7),l.qZA(),l.TgZ(23,"div",3)(24,"label",13),l._uU(25,"Subject"),l.qZA(),l._UZ(26,"input",14,15),l.YNc(28,cz,2,0,"div",7),l.qZA(),l.TgZ(29,"div",3)(30,"label",16),l._uU(31,"Tell Me More"),l.qZA(),l._UZ(32,"textarea",17),l.qZA(),l.TgZ(33,"div",3)(34,"label",18),l._uU(35,"Select a category"),l.qZA(),l.TgZ(36,"select",19,20)(38,"option",21),l._uU(39," WILDFIT 90 day Challenge "),l.qZA(),l.TgZ(40,"option",22),l._uU(41,"1:1 Premium Coaching"),l.qZA(),l.TgZ(42,"option",23),l._uU(43,"Living WILDFIT"),l.qZA(),l.TgZ(44,"option",24),l._uU(45,"I dont know yet !!!"),l.qZA()(),l.YNc(46,dz,2,0,"div",7),l.qZA(),l.TgZ(47,"button",25),l._uU(48," submit "),l.qZA()()(),l.TgZ(49,"div"),l._uU(50," Remember, everyone starts from somewhere and this place could be your start to a whole different life full of health and vitality! Cease this opportunity NOW! "),l.qZA()()()}if(2&t){const r=l.MAs(6),s=l.MAs(11),c=l.MAs(21),h=l.MAs(27),p=l.MAs(37);l.xp6(12),l.Q6J("ngIf",s.touched&&s.invalid),l.xp6(8),l.Q6J("email",!0),l.xp6(2),l.Q6J("ngIf",c.touched&&c.invalid),l.xp6(6),l.Q6J("ngIf",h.touched&&h.invalid),l.xp6(18),l.Q6J("ngIf",p.touched&&p.invalid),l.xp6(1),l.Q6J("disabled",!r.valid)}},directives:[Bm,Xo,zc,Vs,yh,Vl,Lm,Tn,yp,Zc,Hm,gh],styles:[".contact[_ngcontent-%COMP%]{margin-top:-120px;width:100%;height:280px;background:linear-gradient(rgba(255,255,255,.45),rgba(255,255,255,.45)),url(822048.42b94f88b3034773.jpg);background-size:cover}.contact[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:150px;font-family:Georgia,Times New Roman,Times,serif;font-size:60px;text-align:center;color:#123825}.section-contact[_ngcontent-%COMP%]{padding:60px}"]}),n})();var fz=k(1144);const pz=["addListener","removeListener"],gz=["addEventListener","removeEventListener"],mz=["on","off"];function Xs(n,e,t,i){if((0,qs.m)(t)&&(i=t,t=void 0),i)return Xs(n,e,t).pipe(zo(i));const[r,s]=function vz(n){return(0,qs.m)(n.addEventListener)&&(0,qs.m)(n.removeEventListener)}(n)?gz.map(c=>h=>n[c](e,h,t)):function _z(n){return(0,qs.m)(n.addListener)&&(0,qs.m)(n.removeListener)}(n)?pz.map(IU(n,e)):function yz(n){return(0,qs.m)(n.on)&&(0,qs.m)(n.off)}(n)?mz.map(IU(n,e)):[];if(!r&&(0,fz.z)(n))return(0,zr.z)(c=>Xs(c,e,t))((0,Mi.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new On.y(c=>{const h=(...p)=>c.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function IU(n,e){return t=>i=>n[t](e,i)}var bz=k(3532);function dR(n=0,e,t=qa.P){let i=-1;return null!=e&&((0,bz.K)(e)?t=e:i=e),new On.y(r=>{let s=function wz(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}const{isArray:Ez}=Array;function SU(n){return 1===n.length&&Ez(n[0])?n[0]:n}const NU=new On.y(SD.Z);function zI(...n){const e=(0,mr.jO)(n),t=SU(n);return t.length?new On.y(i=>{let r=t.map(()=>[]),s=t.map(()=>!1);i.add(()=>{r=s=null});for(let c=0;!i.closed&&c<t.length;c++)(0,Mi.Xf)(t[c]).subscribe(new dn.Q(i,h=>{if(r[c].push(h),r.every(p=>p.length)){const p=r.map(y=>y.shift());i.next(e?e(...p):p),r.some((y,C)=>!y.length&&s[C])&&i.complete()}},()=>{s[c]=!0,!r[c].length&&i.complete()}));return()=>{r=s=null}}):qf.E}function Rr(n){return(0,Ri.e)((e,t)=>{(0,Mi.Xf)(n).subscribe(new dn.Q(t,()=>t.complete(),SD.Z)),!t.closed&&e.subscribe(t)})}const Fz=["*"];function Lz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",6),l.NdJ("click",function(){const s=l.CHM(t).$implicit,c=l.oxw();return c.focus(),c.select(s.id,c.NgbSlideEventSource.INDICATOR)}),l.qZA()}if(2&n){const t=e.$implicit,i=l.oxw();l.ekj("active",t.id===i.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===i.activeId)}}function Bz(n,e){}function Uz(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,Bz,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,i=e.index,r=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(i+1)(r),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function Vz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",11),l.NdJ("click",function(){return l.CHM(t),l.oxw().arrowLeft()}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function jz(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",14),l.NdJ("click",function(){return l.CHM(t),l.oxw().arrowRight()}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const eZ=["dialog"];function om(n){return null!=n}function Av(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const OU={animation:!0,transitionTimerDelayMs:5},KZ=()=>{},{transitionTimerDelayMs:YZ}=OU,TE=new Map,eo=(n,e,t,i)=>{let r=i.context||{};const s=TE.get(e);if(s)switch(i.runningTransition){case"continue":return qf.E;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),TE.delete(e)}const c=t(e,i.animation,r)||KZ;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),ut(void 0).pipe(function zZ(n){return e=>new On.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new qn.x,p=new qn.x,y=h.pipe(function Tz(...n){return e=>N_(e,ut(...n))}(!0));TE.set(e,{transition$:h,complete:()=>{p.next(),p.complete()},context:r});const C=function ZZ(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const D=Xs(e,"transitionend").pipe(Rr(y),Pi(({target:O})=>O===e));(function AU(...n){return 1===(n=SU(n)).length?(0,Mi.Xf)(n[0]):new On.y(function Cz(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,Mi.Xf)(n[i]).subscribe(new dn.Q(e,r=>{if(t){for(let s=0;s<t.length;s++)s!==i&&t[s].unsubscribe();t=null}e.next(r)})))}}(n))})(dR(C+YZ).pipe(Rr(y)),D,p).pipe(Rr(y)).subscribe(()=>{TE.delete(e),n.run(()=>{c(),h.next(),h.complete()})})}),h.asObservable()};let KI=(()=>{class n{constructor(){this.animation=OU.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})(),UU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})(),jU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var Kf=(()=>(function(n){n.LEFT="left",n.RIGHT="right"}(Kf||(Kf={})),Kf))();const HU=({classList:n})=>n.contains("carousel-item-left")||n.contains("carousel-item-right"),DE=n=>{n.remove("carousel-item-left"),n.remove("carousel-item-right")},YI=n=>{DE(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},rK=(n,e,{direction:t})=>{const{classList:i}=n;return e?(HU(n)?DE(i):(i.add("carousel-item-"+(t===Kf.LEFT?"next":"prev")),Av(n),i.add("carousel-item-"+t)),()=>{YI(i),i.add("active")}):(DE(i),YI(i),void i.add("active"))},sK=(n,e,{direction:t})=>{const{classList:i}=n;return e?(HU(n)?DE(i):i.add("carousel-item-"+t),()=>{YI(i),i.remove("active")}):(DE(i),YI(i),void i.remove("active"))};let GU=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oK=0,_R=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+oK++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),$U=(()=>{class n{constructor(t,i,r,s,c){this._platformId=i,this._ngZone=r,this._cd=s,this._container=c,this.NgbSlideEventSource=am,this._destroy$=new qn.x,this._interval$=new Or(0),this._mouseHover$=new Or(!1),this._focused$=new Or(!1),this._pauseOnHover$=new Or(!1),this._pauseOnFocus$=new Or(!1),this._pause$=new Or(!1),this._wrap$=new Or(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(am.ARROW_LEFT)}arrowRight(){this.focus(),this.next(am.ARROW_RIGHT)}ngAfterContentInit(){(function $i(n){return n===Uo})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=GO([this.slide.pipe((0,et.U)(i=>i.current),Lh(this.activeId)),this._wrap$,this.slides.changes.pipe(Lh(null))]).pipe((0,et.U)(([i,r])=>{const s=this.slides.toArray(),c=this._getSlideIdxById(i);return r?s.length>1:c<s.length-1}),M_());GO([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,et.U)(([i,r,s,c,h,p,y])=>i||r&&s||c&&h||!y?0:p),M_(),hn(i=>i>0?dR(i,i):NU),Rr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(am.TIMER)))}),this.slides.changes.pipe(Rr(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(i=>(n=>{var e;null===(e=TE.get(n))||void 0===e||e.complete()})(this._getSlideElement(i))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,gn.q)(1)).subscribe(()=>{for(const{id:i}of this.slides){const r=this._getSlideElement(i);i===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,i){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),i)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Kf.RIGHT,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Kf.LEFT,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,i,r){const s=this._transitionIds;if(s&&(s[0]!==t||s[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:i,paused:this._pause$.value,source:r});const h={animation:this.animation,runningTransition:"stop",context:{direction:i}},p=[],y=this._getSlideById(this.activeId);if(y){const O=eo(this._ngZone,this._getSlideElement(y.id),sK,h);O.subscribe(()=>{y.slid.emit({isShown:!1,direction:i,source:r})}),p.push(O)}const C=this.activeId;this.activeId=c.id;const D=this._getSlideById(this.activeId),M=eo(this._ngZone,this._getSlideElement(c.id),rK,h);M.subscribe(()=>{null==D||D.slid.emit({isShown:!0,direction:i,source:r})}),p.push(M),zI(...p).pipe((0,gn.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:C,current:c.id,direction:i,paused:this._pause$.value,source:r})})}this._cd.markForCheck()}_getSlideEventDirection(t,i){return this._getSlideIdxById(t)>this._getSlideIdxById(i)?Kf.RIGHT:Kf.LEFT}_getSlideById(t){return this.slides.find(i=>i.id===t)||null}_getSlideIdxById(t){const i=this._getSlideById(t);return null!=i?this.slides.toArray().indexOf(i):-1}_getNextSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return r===i.length-1?this.wrap?i[0].id:i[i.length-1].id:i[r+1].id}_getPrevSlide(t){const i=this.slides.toArray(),r=this._getSlideIdxById(t);return 0===r?this.wrap?i[i.length-1].id:i[0].id:i[r-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(GU),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,i,r){if(1&t&&l.Suo(r,_R,4),2&t){let s;l.iGM(s=l.CRH())&&(i.slides=s)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,i){1&t&&l.NdJ("keydown.arrowLeft",function(){return i.keyboard&&i.arrowLeft()})("keydown.arrowRight",function(){return i.keyboard&&i.arrowRight()})("mouseenter",function(){return i.mouseHover=!0})("mouseleave",function(){return i.mouseHover=!1})("focusin",function(){return i.focused=!0})("focusout",function(){return i.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+i.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,i;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,i=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],e,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],i]},template:function(t,i){1&t&&(l.TgZ(0,"ol",0),l.YNc(1,Lz,1,5,"li",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,Uz,4,4,"div",3),l.qZA(),l.YNc(4,Vz,4,0,"a",4),l.YNc(5,jz,4,0,"a",5)),2&t&&(l.ekj("sr-only",!i.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",i.slides),l.xp6(2),l.Q6J("ngForOf",i.slides),l.xp6(1),l.Q6J("ngIf",i.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",i.showNavigationArrows))},directives:[Cn,_u,Tn],encapsulation:2,changeDetection:0}),n})();var am=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(am||(am={})),am))();let WU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})(),qU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var Pr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Pr||(Pr={})),Pr))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ZU=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function KU(n){const e=Array.from(n.querySelectorAll(ZU)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class _K{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))i=e.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const s=this.offsetParent(e);i=this.offset(e,!1),s!==document.documentElement&&(r=this.offset(s,!1)),r.top+=s.clientTop,r.left+=s.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,t&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(e,t=!0){const i=e.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let s={height:i.height||e.offsetHeight,width:i.width||e.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return t&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(e,t,i,r){const[s="top",c="center"]=i.split("-"),h=r?this.offset(e,!1):this.position(e,!1),p=this.getAllStyles(t),y=parseFloat(p.marginTop),C=parseFloat(p.marginBottom),D=parseFloat(p.marginLeft),M=parseFloat(p.marginRight);let O=0,B=0;switch(s){case"top":O=h.top-(t.offsetHeight+y+C);break;case"bottom":O=h.top+h.height;break;case"left":B=h.left-(t.offsetWidth+D+M);break;case"right":B=h.left+h.width}switch(c){case"top":O=h.top;break;case"bottom":O=h.top+h.height-t.offsetHeight;break;case"left":B=h.left;break;case"right":B=h.left+h.width-t.offsetWidth;break;case"center":"top"===s||"bottom"===s?B=h.left+h.width/2-t.offsetWidth/2:O=h.top+h.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(B)}px, ${Math.round(O)}px)`;const Z=t.getBoundingClientRect(),ue=document.documentElement,xe=window.innerHeight||ue.clientHeight,ke=window.innerWidth||ue.clientWidth;return Z.left>=0&&Z.top>=0&&Z.right<=ke&&Z.bottom<=xe}},new Date(1882,10,12),new Date(2174,10,25);let nV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi,Tp]]}),n})(),wR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),sV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class cm{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let MK=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,gn.q)(1)).subscribe(()=>{eo(this._zone,this._el.nativeElement,(t,i)=>{i&&Av(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return eo(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,i){2&t&&(l.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),l.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class oV{close(e){}dismiss(e){}}class xK{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new qn.x,this._dismissed=new qn.x,this._hidden=new qn.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,c)=>{this._resolve=s,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Rr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Rr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function WZ(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():ut(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),zI(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var AE=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(AE||(AE={})),AE))();let OK=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new qn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new qn.x,this.hidden=new qn.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,gn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=zI(eo(this._zone,t,()=>t.classList.remove("show"),i),eo(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};zI(eo(this._zone,this._elRef.nativeElement,(s,c)=>{c&&Av(s),s.classList.add("show")},t),eo(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Xs(t,"keydown").pipe(Rr(this._closed$),Pi(r=>r.which===Pr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(AE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Xs(this._dialogEl.nativeElement,"mousedown").pipe(Rr(this._closed$),(0,Qs.b)(()=>i=!1),hn(()=>Xs(t,"mouseup").pipe(Rr(this._closed$),(0,gn.q)(1))),Pi(({target:r})=>t===r)).subscribe(()=>{i=!0}),Xs(t,"click").pipe(Rr(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(AE.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=KU(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&eo(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(re),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&l.Gf(eZ,7),2&t){let r;l.iGM(r=l.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),l.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),l.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Fz,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),RK=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:c}=r;if(t>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=c),r.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PK=(()=>{class n{constructor(t,i,r,s,c,h){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=s,this._rendererFactory=c,this._ngZone=h,this._activeWindowCmptHasChanged=new qn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const p=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Xs(e,"focusin").pipe(Rr(t),(0,et.U)(s=>s.target));Xs(e,"keydown").pipe(Rr(t),Pi(s=>s.which===Pr.Tab),AD(r)).subscribe(([s,c])=>{const[h,p]=KU(e);(c===h||c===e)&&s.shiftKey&&(p.focus(),s.preventDefault()),c===p&&!s.shiftKey&&(h.focus(),s.preventDefault())}),i&&Xs(e,"click").pipe(Rr(t),AD(r),(0,et.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,p.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(p.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r,s){const c=s.container instanceof HTMLElement?s.container:om(s.container)?this._document.querySelector(s.container):this._document.body,h=this._rendererFactory.createRenderer(null,null);if(!c)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const p=new oV,y=this._getContentRef(t,s.injector||i,r,p,s);let C=!1!==s.backdrop?this._attachBackdrop(t,c):void 0,D=this._attachWindowComponent(t,c,y),M=new xK(D,y,C,s.beforeDismiss);return this._registerModalRef(M),this._registerWindowCmpt(D),M.hidden.pipe((0,gn.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),p.close=O=>{M.close(O)},p.dismiss=O=>{M.dismiss(O)},this._applyWindowOptions(D.instance,s),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),C&&C.instance&&(this._applyBackdropOptions(C.instance,s),C.changeDetectorRef.detectChanges()),D.changeDetectorRef.detectChanges(),M}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,i){let s=t.resolveComponentFactory(MK).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(t,i,r){let c=t.resolveComponentFactory(OK).create(this._injector,r.nodes);return this._applicationRef.attachView(c.hostView),i.appendChild(c.location.nativeElement),c}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{om(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{om(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,s,c){return r?r instanceof l.Rgc?this._createFromTemplateRef(r,s):function xU(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(t,i,r,s,c):new cm([])}_createFromTemplateRef(t,i){const s=t.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(s),new cm([s.rootNodes],s)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new cm([[i]])}_createFromComponent(t,i,r,s,c){const h=t.resolveComponentFactory(r),p=l.zs3.create({providers:[{provide:oV,useValue:s}],parent:i}),y=h.create(p),C=y.location.nativeElement;return c.scrollable&&C.classList.add("component-host-scrollable"),this._applicationRef.attachView(y.hostView),new cm([[C]],y.hostView,y)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(re),l.LFG(RK),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kK=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iS=(()=>{class n{constructor(t,i,r,s){this._moduleCFR=t,this._injector=i,this._modalStack=r,this._config=s}open(t,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(PK),l.LFG(kK))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[iS]}),n})(),dV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})(),vV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})(),EV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})(),CV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})(),TV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})(),DV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})(),IV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function ZK(){return 100}});let SV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})();const KK=[BU,UU,jU,WU,qU,nV,sV,aV,dV,vV,wV,EV,CV,TV,DV,IV,SV];let YK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[KK,BU,UU,jU,WU,qU,nV,sV,aV,dV,vV,wV,EV,CV,TV,DV,IV,SV]}),n})();function JK(n,e){if(1&n&&(l.TgZ(0,"div",12),l._UZ(1,"img",13),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.MGl("src","../../../assets/testimonials/testimonial",t,".jpg",l.LSH)}}function QK(n,e){1&n&&l.YNc(0,JK,2,1,"ng-template",11)}const XK=function(){return[1,2,3]};function e7(n,e){1&n&&(l.TgZ(0,"ngb-carousel"),l.YNc(1,QK,1,0,null,10),l.qZA()),2&n&&(l.xp6(1),l.Q6J("ngForOf",l.DdM(1,XK)))}let t7=(()=>{class n{constructor(t){this.images=[1055,194,368].map(i=>`https://picsum.photos/id/${i}/900/500`),t.showNavigationArrows=!0,t.showNavigationIndicators=!0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(GU))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:20,vars:1,consts:[[1,"section-home"],[1,"get-started"],[1,"amperh1"],[1,"amper"],[1,"get-started-btn","d-flex"],["type","text","placeholder","Enter your email to get started"],[1,"btn","btn-dark"],[1,"about-me"],[1,"home-testimonials"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"picsum-img-wrapper"],["height","450px","alt","",3,"src"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1)(2,"h1"),l._uU(3,"Health"),l.qZA(),l.TgZ(4,"h1",2)(5,"span",3),l._uU(6,"&"),l.qZA(),l._uU(7," Fitness"),l.qZA(),l.TgZ(8,"p"),l._uU(9,"always be ready to challenge yourself"),l.qZA(),l.TgZ(10,"p"),l._uU(11,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Incidunt voluptate recusandae itaque explicabo facere."),l.qZA(),l.TgZ(12,"div",4),l._UZ(13,"input",5),l.TgZ(14,"button",6),l._uU(15,"Get Started"),l.qZA()()(),l._UZ(16,"div")(17,"div",7),l.TgZ(18,"div",8),l.YNc(19,e7,2,2,"ngb-carousel",9),l.qZA()()),2&t&&(l.xp6(19),l.Q6J("ngIf",i.images))},directives:[Tn,$U,Cn,_R],styles:['.homeHeader[_ngcontent-%COMP%]{margin-top:-120px;width:100%;height:280px;background:linear-gradient(rgba(255,255,255,.45),rgba(255,255,255,.45)),url(822048.42b94f88b3034773.jpg);background-size:cover}.section-home[_ngcontent-%COMP%]{padding-bottom:80px}.section-thought[_ngcontent-%COMP%]{background-color:#c6d6e2}.thought[_ngcontent-%COMP%]{width:600px;font-family:Open Sans Condensed,sans-serif;font-size:48px;padding:40px;text-align:center}.guide-msg[_ngcontent-%COMP%]{padding:20px;margin:20px 0}.section-home[_ngcontent-%COMP%]{padding:60px}.get-started[_ngcontent-%COMP%]{margin:20px;max-width:500px}.get-started[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Public Sans,sans-serif;letter-spacing:.2rem;color:#343a40;font-size:65px;font-weight:900;position:relative}.get-started[_ngcontent-%COMP%]   .amper[_ngcontent-%COMP%]{-webkit-text-stroke-width:1px;-webkit-text-stroke-color:#343a40;font-size:95px;position:absolute;top:-29px;left:-70px;color:#fff}.get-started[_ngcontent-%COMP%]   .amperh1[_ngcontent-%COMP%]{margin-top:-20px;margin-left:60px}.get-started[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;padding:8px;outline:none;border:1.3px solid #343a40;border-radius:4px 0 0 4px;min-width:300px}.get-started[_ngcontent-%COMP%]   .get-started-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 23px;font-size:14px;border-radius:0 6px 6px 0;box-shadow:0 20px 20px #b4b4b4}.section-work[_ngcontent-%COMP%]{background-color:#c6d6e2;padding:80px 0}.section-work-title[_ngcontent-%COMP%]{font-family:Open Sans Condensed,sans-serif;padding:0 60px 60px;font-size:54px}.row[_ngcontent-%COMP%]{padding:0;margin:0}.card-bod[_ngcontent-%COMP%]{background-color:#fff;margin-bottom:20px;padding:20px 0 30px;border:1px solid rgb(155,161,157);border-radius:10px;position:relative;box-shadow:0 0 20px #555a56;transition:all .5s ease-out}.card-bod[_ngcontent-%COMP%]:hover, .card-heading[_ngcontent-%COMP%]:after{z-index:1;border-radius:10px;box-shadow:0 0 20px #131212;transform:scale(1.03);transition:all .5s ease-out}.card-bod[_ngcontent-%COMP%]:hover > .card-heading[_ngcontent-%COMP%]:after{width:200px;margin-left:-100px}.card-heading[_ngcontent-%COMP%]{width:100%;border-radius:8px 8px 0 0;font-family:Unica One,cursive;font-size:32px;font-weight:700;padding:15px;text-align:center;position:relative}.card-heading[_ngcontent-%COMP%]:after{content:"";position:absolute;width:160px;left:50%;margin-left:-80px;height:2px;background-color:#1e50f5;top:60px;border-radius:50%}.card-content[_ngcontent-%COMP%]{font-size:16px;padding:20px}.demo-1[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical}.demo-2[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.section-guidance[_ngcontent-%COMP%], .section-coaching[_ngcontent-%COMP%]{padding:60px}.card-info[_ngcontent-%COMP%]{padding:40px 0 40px 40px}']}),n})(),n7=(()=>{class n{constructor(){this.products=[{id:"wf90gc",name:"WILDFIT 90 GROUP COACHING",imageUrl:"item1",price:895,description:["The WILDFIT 90 Day Experience","Online Journal & Success Tracking Tools","Weekly Question Database","Living WILDFIT eBook","28 Group Coaching Calls with Coach Aseema","Private Facebook Group","Facebook Lives in your Private Group with Coach Aseema","Private Client Portal with all your Coaching Calls and Facebook Lives with lifetime access","Exclusive Facebook Alumni Group"]},{id:"livwfc",name:"LIVING WILDFIT COACHING",imageUrl:"item2",price:27,description:["Coaching support for clients who have completed the WILDFIT 90 challenge for the living WILDFIT phase","This is a monthly membership"]},{id:"wf1o1p",name:"WILDFIT 90 1:1 PREMIUM COACHING WITH COACH ASEEMA",imageUrl:"item3",price:1995,description:["VIP One on One Coaching with Video","The WILDFIT90 Day Experience","Online Journal & Success Tracking Tools","Daily Inspiration Tips","Weekly Question Database","Living WILDFIT eBook","28 One on One Coaching Calls with Coach Aseema. The calls will be scheduled to suit your calendar","Support with grocery shopping and recipes","Private Facebook Group","Facebook Lives in your Private Group with Coach Aseema","Support for unlimited queries over WhatsApp","Private Client Portal with all your Coaching Calls and Facebook Lives with lifetime access","Exclusive Facebook Alumni Group","Living WILDFIT Support after the 90 days for 2 months to ensure you continue the progress of the program into everyday life."]}]}getProduct(){return this.products}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DR=(()=>{class n{constructor(t){this.http=t,this.cartDataList=[],this.productList=new Or([])}getProductData(){return localStorage.getItem("session")&&(this.cartDataList=localStorage.getItem("session"),this.cartDataList=JSON.parse(this.cartDataList),this.productList.next(this.cartDataList)),this.productList.asObservable()}setProduct(t){this.productList.next(t)}addToCart(t){let i=!0;this.cartDataList.map(r=>{r.id===t.id&&(r.quantity++,r.total=r.quantity*r.price,i=!1)}),i&&this.cartDataList.push(t),this.productList.next(this.cartDataList),this.saveToLocalStorage(this.cartDataList),this.getTotalAmount(),console.log(this.cartDataList)}saveToLocalStorage(t){localStorage.setItem("session",JSON.stringify(t))}getTotalAmount(){let t=0;return this.cartDataList.map(i=>{t+=i.total}),t}incQuantity(t){this.cartDataList.map(i=>{i.id===t.id&&(i.quantity++,i.total+=i.price)}),this.productList.next(this.cartDataList),this.saveToLocalStorage(this.cartDataList)}redQuantity(t){this.cartDataList.map(i=>{i.id===t.id&&(i.quantity--,i.total-=i.price),0===i.quantity&&this.cartDataList.map((r,s)=>{t.id===r.id&&this.cartDataList.splice(s,1)})}),this.productList.next(this.cartDataList),this.saveToLocalStorage(this.cartDataList)}removeCartData(t){this.cartDataList=this.cartDataList.filter(i=>i.id!==t.id),this.productList.next(this.cartDataList),this.saveToLocalStorage(this.cartDataList)}removeAllCart(){this.cartDataList=[],this.productList.next(this.cartDataList),this.saveToLocalStorage(this.cartDataList)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(I2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function i7(n,e){if(1&n&&(l.TgZ(0,"li"),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function r7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",9)(1,"h4",10),l._uU(2),l.qZA(),l.TgZ(3,"button",11),l.NdJ("click",function(){return l.CHM(t).$implicit.dismiss("Cross click")}),l._uU(4," CLOSE "),l.qZA()(),l.TgZ(5,"div",12)(6,"div",13)(7,"div",14),l._UZ(8,"img",15),l.qZA()(),l.TgZ(9,"div",16)(10,"ul"),l.YNc(11,i7,2,1,"li",17),l.qZA()()(),l.TgZ(12,"div",18)(13,"h3"),l._uU(14),l.qZA(),l.TgZ(15,"button",19),l.NdJ("click",function(){l.CHM(t);const r=l.oxw().$implicit;return l.oxw().addToCart(r)}),l._uU(16," Add to Cart "),l.qZA()()}if(2&n){const t=l.oxw(),i=t.$implicit,r=t.index;l.xp6(2),l.Oqu(i.name),l.xp6(6),l.MGl("src","../../../assets/shop/item",r+1,".jpg",l.LSH),l.xp6(3),l.Q6J("ngForOf",i.description),l.xp6(3),l.hij("$",i.price,"")}}function s7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",3),l.YNc(1,r7,17,4,"ng-template",null,4,l.W1O),l.TgZ(3,"a",5),l.NdJ("click",function(){l.CHM(t);const r=l.MAs(2);return l.oxw().openLg(r)}),l.TgZ(4,"div",6)(5,"div",7),l._UZ(6,"img",8),l.qZA(),l.TgZ(7,"div")(8,"p"),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA()()()()()}if(2&n){const t=e.$implicit,i=e.index;l.xp6(6),l.MGl("src","../../../assets/shop/item",i+1,".jpg",l.LSH),l.xp6(3),l.Oqu(t.name),l.xp6(2),l.hij("$",t.price,"")}}let o7=(()=>{class n{constructor(t,i,r){this.modalService=t,this.api=i,this.cartApi=r}ngOnInit(){this.productList=this.api.getProduct(),this.productList.map(t=>{Object.assign(t,{quantity:1,total:t.price})})}addToCart(t){this.cartApi.addToCart(t)}openLg(t){this.modalService.open(t,{size:"xl"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iS),l.Y36(n7),l.Y36(DR))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-shop"]],decls:3,vars:1,consts:[[1,"section-shop"],[1,"row"],["class","col-lg-4 col-md-12 d-flex justify-content-center ",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-12","d-flex","justify-content-center"],["content",""],["href","javascript: void(0)",3,"click"],[1,"imgContainer"],[1,"item"],["alt","",3,"src"],[1,"modal-header"],[1,"modal-title","text-center"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","d-flex","justify-content-center"],[1,"imgContainer","col-lg-6"],[1,"item","d-flex","justify-content-center"],["width","280px","alt","",3,"src"],[1,"itemDescription","col-lg-6"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1),l.YNc(2,s7,12,3,"div",2),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("ngForOf",i.productList))},directives:[Cn],styles:[".shop[_ngcontent-%COMP%]{margin-top:-120px;width:100%;height:280px;background:linear-gradient(rgba(255,255,255,.45),rgba(255,255,255,.45)),url(822048.42b94f88b3034773.jpg);background-size:cover}.shop[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:150px;font-family:Georgia,Times New Roman,Times,serif;font-size:60px;text-align:center;color:#123825}.section-shop[_ngcontent-%COMP%]{padding:60px}.section-shop[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;transition:all .2s ease-in-out}.section-shop[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.section-shop[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]{background:url(822048.42b94f88b3034773.jpg);border-radius:10px;display:flex;flex-direction:column;padding:20px}.section-shop[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{height:500px}.section-shop[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{height:100px;color:#fff;background-color:#00000073;border-radius:8px;padding:5px 10px}.section-shop[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:330px}.section-shop[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;justify-content:center}@media (max-width:1132px){.section-shop[_ngcontent-%COMP%]   .imgContainer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px}}"]}),n})();function a7(n,e){1&n&&(l.TgZ(0,"div",4),l._uU(1," CART IS EMPTY "),l.TgZ(2,"a",5),l._uU(3,"Go n SHOP"),l.qZA()())}function l7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",10)(1,"div",11),l._uU(2),l.qZA(),l.TgZ(3,"div",12),l._UZ(4,"img",13),l.qZA(),l.TgZ(5,"div",14),l._uU(6),l.qZA(),l.TgZ(7,"div",14)(8,"div",15)(9,"div",16),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw(2).redQuantity(s)}),l._uU(10,"-"),l.qZA(),l.TgZ(11,"div",17),l._uU(12),l.qZA(),l.TgZ(13,"div",18),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw(2).incQuantity(s)}),l._uU(14,"+"),l.qZA()()(),l.TgZ(15,"div",11),l._uU(16),l.qZA(),l.TgZ(17,"div",11)(18,"div",15)(19,"div",19),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw(2).removeProduct(s)}),l._uU(20,"X"),l.qZA()()()()}if(2&n){const t=e.$implicit,i=e.index;l.xp6(2),l.Oqu(i+1),l.xp6(2),l.MGl("src","../../../../assets/shop/",t.imageUrl,".jpg",l.LSH),l.xp6(2),l.Oqu(t.name),l.xp6(6),l.Oqu(t.quantity),l.xp6(4),l.Oqu(t.total)}}function u7(n,e){if(1&n&&(l.TgZ(0,"div",6),l.YNc(1,l7,21,5,"div",7),l.TgZ(2,"div")(3,"div",8),l._uU(4),l.qZA(),l.TgZ(5,"div",9),l._uU(6,"checkout"),l.qZA()()()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.cartItems),l.xp6(3),l.Oqu(t.totalAmount)}}let c7=(()=>{class n{constructor(t){this.cartApi=t,this.cartItems=[],this.totalAmount=0}ngOnInit(){this.cartApi.getProductData().subscribe(t=>{this.cartItems=t,this.totalAmount=this.cartApi.getTotalAmount()})}redQuantity(t){this.cartApi.redQuantity(t)}incQuantity(t){this.cartApi.incQuantity(t)}removeProduct(t){console.log(t),this.cartApi.removeCartData(t)}removeAllProduct(){this.cartApi.removeAllCart()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DR))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cart"]],decls:4,vars:2,consts:[[1,"section-cart"],[1,"cart"],["class","emptyCart",4,"ngIf"],["class","cart-items",4,"ngIf"],[1,"emptyCart"],["routerLink","/shop"],[1,"cart-items"],["class","row",4,"ngFor","ngForOf"],[1,"totalAmount"],[1,"checkout"],[1,"row"],[1,"col-lg-1"],[1,"col-lg-2","cart-img"],["alt","",3,"src"],[1,"col-lg-3"],[1,"d-flex","flex-row","justify-content-center"],[1,"reduce","btn","btn-primary",2,"border-radius","10px",3,"click"],[1,"btn",2,"border-radius","10px","cursor","default"],[1,"increase","btn","btn-primary",2,"border-radius","10px",3,"click"],[1,"btn","btn-close",2,"border-radius","20px","color","white","background-color","red",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1),l.YNc(2,a7,4,0,"div",2),l.YNc(3,u7,7,2,"div",3),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("ngIf",!i.totalAmount),l.xp6(1),l.Q6J("ngIf",i.totalAmount))},directives:[Tn,Iv,Cn],styles:[".section-cart[_ngcontent-%COMP%]{padding:60px}.cart-img[_ngcontent-%COMP%]{height:100px}.cart-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}"]}),n})();function d7(n,e){if(1&n&&(l.TgZ(0,"div",5),l._UZ(1,"img",6),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.MGl("src","../../../assets/testimonials/testimonial",t,".jpg",l.LSH)}}function h7(n,e){1&n&&(l.TgZ(0,"div",11)(1,"div",12),l._UZ(2,"span",13),l.qZA()())}function f7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",7)(1,"div",8),l.YNc(2,h7,3,0,"div",9),l.TgZ(3,"youtube-player",10),l.NdJ("ready",function(r){return l.CHM(t),l.oxw().savePlayer(r)})("change",function(r){return l.CHM(t),l.oxw().onStateChange(r)}),l.qZA()()()}if(2&n){const t=e.$implicit,i=l.oxw();l.xp6(2),l.Q6J("ngIf",!i.loaded),l.xp6(1),l.Q6J("videoId",t)}}const p7=function(){return[1,2,3]};let AV=(()=>{class n{constructor(){this.vid_array=["pI5tKywZ9dE","COzZ2bi9Gqw","Li0TkYvlTuw","Qf_bg2E7rg4","aJzXpznWhBQ"],this.loaded=!1}savePlayer(t){this.loaded=!0,this.player=t,console.log("player interface",t)}onStateChange(t){console.log("player state",t.data)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-testimonials"]],decls:5,vars:3,consts:[[1,"section-testimonials"],[1,"row","image-testimonials","justify-content-center"],["class","col-lg-6",4,"ngFor","ngForOf"],[1,"row","video-testimonials","justify-content-center"],["class","col-lg-4",4,"ngFor","ngForOf"],[1,"col-lg-6"],["alt","",3,"src"],[1,"col-lg-4"],["width","100%","height","100%",2,"position","relative"],["style","position:absolute; width: 100%; height:100%; z-index: 2; top:50%; left:50%",4,"ngIf"],[3,"videoId","ready","change"],[2,"position","absolute","width","100%","height","100%","z-index","2","top","50%","left","50%"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1),l.YNc(2,d7,2,1,"div",2),l.qZA(),l.TgZ(3,"div",3),l.YNc(4,f7,4,2,"div",4),l.qZA()()),2&t&&(l.xp6(2),l.Q6J("ngForOf",l.DdM(2,p7)),l.xp6(2),l.Q6J("ngForOf",i.vid_array))},directives:[Cn,Tn,es],styles:[".testimonials[_ngcontent-%COMP%]{margin-top:-120px;width:100%;height:280px;background:linear-gradient(rgba(255,255,255,.45),rgba(255,255,255,.45)),url(822048.42b94f88b3034773.jpg);background-size:cover}.testimonials[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:150px;font-family:Georgia,Times New Roman,Times,serif;font-size:60px;text-align:center;color:#123825}.section-testimonials[_ngcontent-%COMP%]{padding:60px}.section-testimonials[_ngcontent-%COMP%]   .image-testimonials[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.section-testimonials[_ngcontent-%COMP%]   .video-testimonials[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:20px}"]}),n})();function g7(n,e){1&n&&(l.TgZ(0,"div",12)(1,"div",13),l._UZ(2,"span",14),l.qZA()())}let m7=(()=>{class n{constructor(t){this.modalService=t,this.id="JcpOPYjnt1A",this.loaded=!1,this.isReadMore1=!0,this.isReadMore2=!0,this.isReadMore3=!0}savePlayer(t){this.loaded=!0,this.player=t,console.log("player interface",t)}onStateChange(t){console.log("player state",t.data)}showText1(){this.isReadMore1=!this.isReadMore1}showText2(){this.isReadMore2=!this.isReadMore2}showText3(){this.isReadMore3=!this.isReadMore3}openLg(t){this.modalService.open(t,{size:"lg",scrollable:!0})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-wildfit"]],decls:125,vars:4,consts:[[1,"section-intro"],[1,"introduce","row"],[1,"col-lg-4","introduce-img"],["src","../../../assets/introduce.jpg","alt",""],[1,"col-lg-8","introduce-content"],[1,"introduce-content","icbottom"],[1,"description"],["width","600","height","340",1,"video"],["width","100%","height","100%",2,"position","relative"],["style","\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            z-index: 2;\n            top: 50%;\n            left: 50%;\n          ",4,"ngIf"],[3,"height","width","videoId","ready","change"],[1,"introduce-content"],[2,"position","absolute","width","100%","height","100%","z-index","2","top","50%","left","50%"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"div",4)(5,"p"),l._uU(6," WILDFIT's founder is Eric Edmeades. Eric had struggled with many health issues since childhood. He was that kid who always got sick, had a lot of acne, had all kinds of allergies and was overweight. A life circumstance made Eric question the way medical professionals deal with physical conditions and he took it upon him to heal himself by making changes to his diet. After studying the evolution of human beings and their diet by extension, he made a few changes to his diet that completely transformed his health. He was no longer overweight, the acne disappeared, allergies were gone and he was experiencing optimal health. "),l.qZA(),l.TgZ(7,"p"),l._uU(8," As a consequence, people around him started to enquire about his secret for having endless energy. When Eric would tell them what he does, they would follow the guidelines for a couple of weeks but couldn\u2019t stick to it beyond that. That led Eric to study the human behaviours around food and WILDFIT was born. With the help of research done on human evolution, food phycology, inspiration from the Hadza Tribe (one of the last hunter gatherer tribes in the world), Eric was able to create this brilliant program that helps people change their relationship with food and help achieve FOOD FREEDOM!! "),l.qZA()(),l.TgZ(9,"div",5)(10,"p"),l._uU(11," WILDFIT is based on the principle that every animal has its own diet. The same applies to human beings. The closer we are to this evolved diet, the more we experience optimal health. But modern conveniences, BIG FOOD industry and the highly manipulative marketing industry has led us astray from this path. WILDFIT is all about realigning out food patterns with the way Mother Nature intended it to be. And guess what, if we realign ourselves, we won't need any willpower to make good food decisions EVERY SINGLE DAY!! "),l.qZA()()(),l.TgZ(12,"div",6)(13,"h3"),l._uU(14,"Why should I choose WILDFIT ??"),l.qZA(),l.TgZ(15,"p"),l._uU(16," Ever heard terms like, "),l.TgZ(17,"b"),l._uU(18,'"Calorie deficit"'),l.qZA(),l._uU(19,", "),l.TgZ(20,"b"),l._uU(21,'"Calories In vs. Calorie Out"'),l.qZA(),l._uU(22,", "),l.TgZ(23,"b"),l._uU(24,'"Everything in Moderation"'),l.qZA(),l._uU(25,", "),l.TgZ(26,"b"),l._uU(27,'"Portion Control"'),l.qZA(),l._uU(28,", "),l.TgZ(29,"b"),l._uU(30,'"Intermittent Fasting"'),l.qZA(),l._uU(31," etc. ? "),l.qZA(),l.TgZ(32,"p"),l._uU(33," At the base of all these terms are certain "),l.TgZ(34,"b"),l._uU(35,"rigid rules"),l.qZA(),l._uU(36," that the food and the fitness industry wants you to abide by if you want to get healthy "),l.TgZ(37,"b"),l._uU(38,"OR ELSE YOU ARE DOOMED!"),l.qZA(),l._uU(39,' All these rules instil a fear of failure in people who genuinely want to change the status of their health. NO fad diet available out there is willing to take the responsibility if a clients fails. For them, if you "failed" at their diet, may be you are not strong enough to follow through or you are just lazy. '),l.qZA(),l.TgZ(40,"p"),l._uU(41," Another aspect is the social and cultural conditioning that we have been subject to since decades in the hands of the food marketing industry. They will have you believe that "),l.TgZ(42,"b"),l._uU(43,"you cannot celebrate Easter without chocolate or celebrate Diwali without sugary sweets."),l.qZA(),l._uU(44,' We have been told for decades now that if you are feeling low, "good/soul food" (Pizza or ice cream or chocolate) is going to make you feel better. Think of all the commercials for these products; all of them teach us how these foods are emotionally important for us. Or how the diet industry will have you believe '),l.TgZ(45,"b"),l._uU(46,"you can eat whatever you want if you exercise enough."),l.qZA()(),l.TgZ(47,"p"),l._uU(48," I am here to tell you that "),l.TgZ(49,"b"),l._uU(50,"IT IS NOT YOUR FAULT"),l.qZA(),l._uU(51," if you have felt confused and defeated at any point of time in your health journey. WILDFIT teaches you the fundamentals of how human beings have evolved to eat. We provide the guidelines for our clients to eat seasonally as nature intends us to eat. WILDFIT does not force you to include any form of exercise in the 90 days and you'll learn the power of nutrition to achieve optimal health. This not just shifts the way you look but it completely transforms the way you show up in life. "),l.qZA(),l.TgZ(52,"p"),l._uU(53," WILDFIT is not a diet it is a "),l.TgZ(54,"b"),l._uU(55,"way of life"),l.qZA(),l._uU(56," that gives you the power to understand how to fuel your body, helps you take control of your body, handle your emotional eating, understand the 6 different types of hunger and be free from the manipulations of the diet industry. "),l.qZA(),l.TgZ(57,"div",7)(58,"div",8),l.YNc(59,g7,3,0,"div",9),l.TgZ(60,"youtube-player",10),l.NdJ("ready",function(s){return i.savePlayer(s)})("change",function(s){return i.onStateChange(s)}),l.qZA()()(),l.TgZ(61,"div",11)(62,"h3"),l._uU(63,"WILDFIT FAQs"),l.qZA(),l.TgZ(64,"p")(65,"b"),l._uU(66,"IS THIS A DIET? WHAT IF I DID KETO AND PALEO ALREADY?"),l.qZA()(),l.TgZ(67,"p"),l._uU(68," There are many similarities between some WILDFIT seasons and the Paleo Diet and the Keto Diet. However, what distinguishes WILDFIT is the enormous emphasis we place on mindset and behavioural change. Instead of just telling you what to eat, we give you the tools to rewire your thoughts (and therefore, your actions) around food, alcohol, caffeine, and much more. If you have experience in doing Keto / Paleo before, you could find yourself in a better position to understand the concepts of seasons! So all the more reason to try WILDFIT!! "),l.qZA(),l.TgZ(69,"p")(70,"b"),l._uU(71,"WHAT IS YOUR REFUND POLICY?"),l.qZA()(),l.TgZ(72,"p"),l._uU(73," We believe so firmly in WILDFIT that we\u2019re proud to offer a 100% Satisfaction Guarantee. If you complete at least 95% of the program and you were not pleased with your experience, and did not experience any progress we\u2019ll gladly offer you a full refund, no questions asked! "),l.qZA(),l.TgZ(74,"p")(75,"b"),l._uU(76,"IS WILDFIT SUITABLE FOR VEGETARIANS AND VEGANS?"),l.qZA()(),l.TgZ(77,"p"),l._uU(78," Yes, you can definitely still do WILDFIT and experience the various health benefits that come with it. But just keep in mind that the WILDFIT approach will recommend certain animal-based foods at certain parts of the 90-day program, which you can substitute with other plant-based foods that align with your dietary choices. The guidance around substitutions will be provided! "),l.qZA(),l._uU(79," > "),l.TgZ(80,"p")(81,"b"),l._uU(82,"WHAT KIND OF WEIGHT OR HEALTH LEVEL SHOULD I CURRENTLY BE AT TO BENEFIT FROM WILDFIT? "),l.qZA()(),l.TgZ(83,"p"),l._uU(84," It doesn\u2019t matter where you\u2019re at now - because WILDFIT is designed to meet you there, and take you where you need to be. Our students range from people with severe health issues to high-performance athletes. Many come to us with a variety of goals including weight loss, weight gain, more energy, symptom reduction, better sleep, levels of intimacy and fertility, and even an overall desire to feel better and have more energy. Also, 96% of people who start WILDFIT, finish it. Which further proves that it\u2019s suitable and effective for anyone at any fitness or weight level. "),l.qZA(),l.TgZ(85,"p")(86,"b"),l._uU(87,"WILL I NEED TO EXERCISE WHILE ON WILDFIT?"),l.qZA()(),l.TgZ(88,"p"),l._uU(89," No. One of the biggest myths in health and fitness is the idea that you need to exercise to get healthy. But the truth is, science has shown that 95% of your body shape is determined by your diet, and only 5% is determined by your physical activity. However, one of the best side-effects of going on the WILDFIT program is that you will likely experience spikes in energy and you may actually feel like wanting to exercise. But this is not a necessary aspect of the program. "),l.qZA(),l.TgZ(90,"p")(91,"b"),l._uU(92,"WILL WILDFIT GET RID OF DISEASES?"),l.qZA()(),l.TgZ(93,"p"),l._uU(94," WILDFIT is not a medical program and should not be taken as medical advice. While clients have reported normalized blood sugar, disappearing allergies, healthy weight loss, and a dramatic reduction of various symptoms, these are simply side effects of living a better lifestyle. While many clients have eliminated various symptoms and ailments - and reduced their dependency on medication - we suggest that before making any major changes to your health-care plans (including medication dosage) you should consult your medical practitioner. "),l.qZA(),l.TgZ(95,"p")(96,"b"),l._uU(97,"HOW LONG DOES IT TAKE TO SEE RESULTS?"),l.qZA()(),l.TgZ(98,"p"),l._uU(99," There have been clients who see results well before program completion. Not everyone will experience the same, but it's possible. And it also depends on how willing you are in terms of allowing that change to happen. But overall, we're confident to say that in as little as 30 days, you will experience radical shifts in your weight, energy, libido, sleeping patterns and overall happiness levels. If you're sceptical, try this program anyway: because you have 30 days to prove your sceptic mind wrong. Eric Edmeades so far has not had a case where his clients have asked for a refund. The program's completion rate is over 90%, which leaves us confident that it's almost impossible to not see any results with the WILDFIT program. "),l.qZA(),l.TgZ(100,"p")(101,"b"),l._uU(102,"CAN WILDFIT HELP ME WITH MY MENTAL AND EMOTIONAL WELLBEING?"),l.qZA()(),l.TgZ(103,"p"),l._uU(104," Yes, It will help you. You are what you eat. You eat because you are stressed and you are stressed because you eat. Food has effects on not just your physical body but your mental health as well. "),l.qZA(),l.TgZ(105,"p")(106,"b"),l._uU(107,"WILL THIS PROGRAM WORK FOR ME, EVEN IF NORMAL DIETS DIDN\u2019T IN THE PAST?"),l.qZA()(),l.TgZ(108,"p"),l._uU(109," Above all else, the WILDFIT program is based on one scientific fact: it\u2019s both infuriatingly hard, and unnecessary to try to improve your health through conventional diet and exercise programs. Statistics even show that the average American actually gains 3 lbs for every diet program they try. Because these traditional diets are designed by people who don't approach health problems holistically. On the contrary, the WILDFIT program is based on the principle that \u2018every living thing has a natural diet\u2019 and that the degree to which a species can stay on that diet is the same degree to which it will experience health and longevity. WILDFIT draws heavily from evolutionary history, nutritional anthropology and modern-day hunter-gatherer communities to map out the perfectly natural human diet. When this is combined with the powerful science of behavioural psychology, it makes for a body transformation program that\u2019s more permanently effective than anything else out there. So yes, we\u2019re confident that WILDFIT will do wonders for your body and overall wellbeing - no matter your past experiences with weight loss or healing. "),l.qZA(),l.TgZ(110,"p")(111,"b"),l._uU(112,"I\u2019M ALLERGIC TO CERTAIN TYPES OF FOOD. CAN WILDFIT HELP ME?"),l.qZA()(),l.TgZ(113,"p"),l._uU(114," We highly recommend you first consult your doctor regarding any food allergies you may think you have. If you indeed have any confirmed allergies to any of the foods recommended in the\u202fWILDFIT program, please avoid them. With that said, the\u202fWILDFIT program\u202fis not a hyper-restrictive diet where you\u2019ll be limited to a restrictive range of foods. So, you will likely have other alternatives to choose from. Nevertheless, over the course of the 90 days, there will be LIVE coaching calls with a certified WILDFIT Coach. Interestingly, because of the way WILDFIT is structured, some of our past students discovered that they had attributed the wrong type of food to their allergies and chronic inflammation. While we cannot guarantee this will be the case for you, WILDFIT will certainly help you gather plenty of insights and data on how certain foods can impact your unique body composition. Please let me know if you have any allergies prior to starting your journey for best success. "),l.qZA(),l.TgZ(115,"p")(116,"b"),l._uU(117,"WILL WILDFIT RECOMMEND ME TO TAKE SUPPLEMENTS?"),l.qZA()(),l.TgZ(118,"p"),l._uU(119," No, you do not need to take any additional supplements during the program or after the program has ended. WILDFIT is designed to create permanent change. This has been proven time and time again with our students who, after months of having completed WILDFIT, never regain the extra weight and remain at peak levels of health. Our aim is for you to return to your healthiest state for good "),l.qZA(),l.TgZ(120,"p")(121,"b"),l._uU(122,"HOW SHOULD I PREPARE FOR THE WILDFIT PROGRAM?"),l.qZA()(),l.TgZ(123,"p"),l._uU(124," Don't. Don't change a thing until the program begins. You may be tempted to start making changes or improving your habits, but the WILDFIT program works best when you simply arrive as you are; not on best behaviour. For now, keep eating normally and don't change a thing. "),l.qZA()()()()),2&t&&(l.xp6(59),l.Q6J("ngIf",!i.loaded),l.xp6(1),l.Q6J("height",340)("width",600)("videoId",i.id))},directives:[Tn,es],styles:[".wildfit[_ngcontent-%COMP%]{margin-top:-120px;width:100%;height:280px;background:linear-gradient(rgba(255,255,255,.45),rgba(255,255,255,.45)),url(822048.42b94f88b3034773.jpg);background-size:cover}.section-heading[_ngcontent-%COMP%]{text-align:center}.wildfit[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:150px;font-family:Georgia,Times New Roman,Times,serif;font-size:60px;text-align:center;color:#123825}.introduce[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;flex-direction:row;background-image:url(822048.42b94f88b3034773.jpg);padding:30px}.introduce-img[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px;flex-basis:50%}.introduce-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:480px}.introduce-content[_ngcontent-%COMP%]{background-color:#f0f8ff;padding:40px}.icbottom[_ngcontent-%COMP%]{margin-top:20px}.introduce-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:32px;font-weight:700;margin-bottom:30px}.introduce-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.section-intro[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin:50px;padding:20px}.limitTextHeight[_ngcontent-%COMP%]{height:285px;overflow:hidden}.section-intro[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px}.section-intro[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.section-intro[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),n})(),_7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-my-story"]],decls:72,vars:0,consts:[[1,"section-aboutMe"],["data-aos-once","true","data-aos","fade-down","data-aos-duration","2000",1,"intro"],[1,"myStory"],[1,"part1"],["data-aos-once","true","data-aos","fade-right","data-aos-offset","200","data-aos-easing","ease-in-sine","data-aos-duration","600","data-aos-delay","1000"],["data-aos-once","true","data-aos","fade-left","data-aos-offset","-200","data-aos-easing","ease-in-sine","data-aos-duration","600","data-aos-delay","1000",1,"bgpart1"],["src","../../../assets/MyStory/1.jpg","alt",""],[1,"part2"],["data-aos-once","true","data-aos","fade-right","data-aos-duration","1000",1,"bgpart2"],["data-aos-once","true","data-aos","fade-left","data-aos-duration","1000"],[2,"font-size","22px","margin-top","20px"],[1,"part3"],["data-aos-once","true","data-aos","fade-right","data-aos-offset","200","data-aos-easing","ease-in-sine","data-aos-duration","600"],[1,"part4"],["data-aos-once","true","data-aos","fade-left","data-aos-offset","200","data-aos-easing","ease-in-sine","data-aos-duration","1000"],["data-aos-once","true","data-aos","zoom-out","data-aos-delay","600","href","https://calendly.com/itsmayankhere24/30min"],[1,"btn","btn-primary"],[1,"part5","row"],["data-aos-once","true","data-aos","fade-right","data-aos-duration","1000",1,"col-lg-6"],["src","../../../assets/MyStory/ba1.jpg","alt",""],["data-aos-once","true","data-aos","fade-left","data-aos-duration","1000",1,"col-lg-6"],["src","../../../assets/MyStory/ba2.jpg","alt",""]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1)(2,"h1")(3,"q"),l._uU(4," I am Aseema and I am your Certified WILDFIT Coach. This is my origin story! "),l.qZA()()(),l.TgZ(5,"div",2)(6,"h1"),l._uU(7,"My Story"),l.qZA(),l.TgZ(8,"div",3)(9,"div",4),l._uU(10,' For years, I struggled with weight and body image issues, fallen prey to many fad diets, spent thousands on personal trainers and nutritionists, lost and gained an upwards of 15 kgs multiple times in a decade. All the "dieting" completely messed my metabolism and even if I ate less food, I would put on weight. I remember being so puzzled thinking I must be "cursed". This led to all kinds of body image issues, I was never satisfied with the way I looked and never felt fully confident. I would lose some weight and start feeling good and then life would throw a curve ball and that\u2019s it. I would lose all the momentum and find myself back at square one. I WAS TIRED. '),l.qZA(),l.TgZ(11,"div",5),l._UZ(12,"img",6),l.qZA()(),l.TgZ(13,"div",7)(14,"div",8),l._UZ(15,"img",6),l.qZA(),l.TgZ(16,"div",9),l._uU(17," To add on this, I used to train a lot in the gym without fully understanding what would work best for my body. I was misled by all the fitness trends and it led to a knee injury that made me put things into perspective. In November 2019, the MRI report revealed that I had cartilage damage in my right knee. There was no remedy for this and I was asked to accept this to be my way of life. At this point, I wasn\u2019t able to walk beyond 12000 steps without discomfort, wasn\u2019t able to wear heels, wasn't able to go hiking, wasn\u2019t able to do some of my favourite exercises. I WAS DEPRESSED. "),l.qZA()(),l.TgZ(18,"div",1)(19,"h1")(20,"q"),l._uU(21," He who has health has hope "),l._UZ(22,"br"),l._uU(23,"and he who has hope, has everything. "),l.qZA(),l.TgZ(24,"p",10),l._uU(25,"-Thomas Carlyle"),l.qZA(),l._UZ(26,"p"),l.qZA()(),l.TgZ(27,"div",11)(28,"div",12),l._uU(29,' In 2020, COVID made things even worse, the level of physical activity reduced further and my weight started to climb. I was truly puzzled because I was following the very common concept of "everything in moderation" then why was I still putting on that much weight? I WAS CURIOUS My curiosity led me to do a deep dive into the world of nutrition and in February 2021, I started my very own WILDFIT journey! When I attended the Masterclass for WILDFIT with Eric Edmeades (Founder of WILDFIT), something struck me. It was unconventional. No one spoke about tracking calories, maintaining food diaries, exercising to death, haha!!! On the contrary, I heard for the first time about food psychology and how it governs the food decisions we make day in and day out. I WAS INTRIGUED. I was convinced that I need to give this a try and in March 2021, I had my very first session for WILDFIT. I had never experienced anything like this. The concepts, the information, the guidance and the sheer brilliance in which this program was constructed brought about fundamental changes in me in a matter of 90 days. '),l.TgZ(30,"p"),l._uU(31,"Here is a snapshot of my wins :"),l.qZA(),l.TgZ(32,"ul")(33,"li"),l._uU(34,"Released 14kgs weight permanently!"),l.qZA(),l.TgZ(35,"li"),l._uU(36,"NO sugar cravings"),l.qZA(),l.TgZ(37,"li"),l._uU(38," Regulated hormonal health which led to NO PMS and NO menstrual cramps "),l.qZA(),l.TgZ(39,"li"),l._uU(40,"NO knee pain or any other body pain."),l.qZA(),l.TgZ(41,"li"),l._uU(42,"Recalibrated my sense of taste and smell"),l.qZA(),l.TgZ(43,"li"),l._uU(44,"Better skin and hair"),l.qZA(),l.TgZ(45,"li"),l._uU(46,"Energy levels were at an all-time high!"),l.qZA(),l.TgZ(47,"li"),l._uU(48,"Became much more positive about life overall!"),l.qZA()(),l._uU(49," I vividly remember that day, when I was in week 7 of the challenge when I jogged painlessly for 20 mins, for the first time since 2019. My issues with the knee had disappeared and I WAS GRATEFUL!! "),l.qZA()(),l.TgZ(50,"div",13)(51,"div",14)(52,"p"),l._uU(53," I am here to tell you that no matter where you are in your health journey, WILDFIT will help you kick it up a notch, if not launch it to new levels! I have witnessed WILDFIT clients heal from TYPE 2 Diabetes, Hypertension, Thyroid irregularities, skin problems, blood sugar issues, PCOD, depression and countless other health problems. "),l.qZA(),l.TgZ(54,"p"),l._uU(55," So let me show you how WILDFIT can help you level up in life. Book your 35 min free DISCOVERY CALL to discuss your health goals with me. "),l.TgZ(56,"a",15)(57,"button",16),l._uU(58,"Book Now for FREE"),l.qZA()()()()(),l.TgZ(59,"div",1)(60,"h1")(61,"q"),l._uU(62," Our bodies have infinite wisdom "),l._UZ(63,"br"),l._uU(64," Good nutrition enables us to listen to our bodies and ultimately lead a healthy and happy life. "),l.qZA(),l.TgZ(65,"p",10),l._uU(66,"-Aseema Mishra"),l.qZA()()(),l.TgZ(67,"div",17)(68,"div",18),l._UZ(69,"img",19),l.qZA(),l.TgZ(70,"div",20),l._UZ(71,"img",21),l.qZA()()()())},styles:[".aboutMe[_ngcontent-%COMP%]{margin-top:-120px;width:100%;height:280px;background:linear-gradient(rgba(255,255,255,.45),rgba(255,255,255,.45)),url(822048.42b94f88b3034773.jpg);background-size:cover}.aboutMe[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:150px;font-family:Georgia,Times New Roman,Times,serif;font-size:60px;text-align:center;color:#123825}.section-aboutMe[_ngcontent-%COMP%]{padding:80px}.section-aboutMe[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]{margin-bottom:30px}.section-aboutMe[_ngcontent-%COMP%]   .intro[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;text-align:center}.myStory[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]:first-child{font-family:Georgia,Times New Roman,Times,serif;font-size:60px;text-align:center;color:#0c271b;font-weight:700}.part1[_ngcontent-%COMP%], .part2[_ngcontent-%COMP%], .part5[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;flex-direction:row;background-image:url(822048.42b94f88b3034773.jpg);padding:20px}.part1[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child, .part2[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){padding:40px;flex-basis:50%;background-color:#ffffffb3;border-radius:10px}.bgpart1[_ngcontent-%COMP%], .bgpart2[_ngcontent-%COMP%], .part5[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-basis:50%}.bgpart1[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .bgpart2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .part5[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:500px}.part3[_ngcontent-%COMP%], .part4[_ngcontent-%COMP%]{background-image:url(822048.42b94f88b3034773.jpg);padding:20px;margin-bottom:20px}.part3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .part4[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:20px;background-color:#ffffffb3;border-radius:10px}.part3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0 20px 20px}.part3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px}"]}),n})();function y7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",29)(1,"h4",30),l._uU(2,"OPTIMAL HEALTH"),l.qZA(),l.TgZ(3,"button",31),l.NdJ("click",function(){return l.CHM(t).$implicit.dismiss("Cross click")}),l._uU(4," CLOSE "),l.qZA()(),l.TgZ(5,"div",32)(6,"div",33)(7,"P"),l._uU(8," WILDFIT is not a diet, it is a way of life that helps you achieve optimal health. When our body achieves optimal health, diseases, health conditions, allergies, body aches/pains etc start to disappear. If you are carrying additional weight, that starts to come off. If want to gain/maintain your weight, that becomes easy. You achieve peak performance, if you are an athlete. You gain more confidence in yourself and making good food decisions becomes organic and requires NO WILLPOWER! "),l.qZA()()(),l.TgZ(9,"div",34)(10,"button",35),l.NdJ("click",function(){return l.CHM(t).$implicit.dismiss("Cross click")}),l._uU(11," Read Less "),l.qZA()()}}function v7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",29)(1,"h4",30),l._uU(2," TRUST YOUR BODY & WIN IN LIFE "),l.qZA(),l.TgZ(3,"button",31),l.NdJ("click",function(){return l.CHM(t).$implicit.dismiss("Cross click")}),l._uU(4," CLOSE "),l.qZA()(),l.TgZ(5,"div",36)(6,"div",33)(7,"P"),l._uU(8," With WILDFIT, you learn to listen to your body. Our bodies are magnificent machines that have all the wisdom in it to give us indications of what to eat and what not to eat. With continued use of processed foods and foods that do not serve us, that inner voices gets drowned out. WILDFIT helps remove all the obstacles so we can listen and get cues from our body. This completely eliminates the desire to put non-functional foods in our bodies and help achieve greater vitality in our lives. When you improve your health, everything else in life becomes better. You become more productive, you have more energy to follow your dreams, you manage your time better, have a better relationships with your loved ones, create healthy boundaries and succeed in every area of life! "),l.qZA()()(),l.TgZ(9,"div",34)(10,"button",35),l.NdJ("click",function(){return l.CHM(t).$implicit.dismiss("Cross click")}),l._uU(11," Read Less "),l.qZA()()}}function b7(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",29)(1,"h4",30),l._uU(2,"Food Freedom"),l.qZA(),l.TgZ(3,"button",31),l.NdJ("click",function(){return l.CHM(t).$implicit.dismiss("Cross click")}),l._uU(4," CLOSE "),l.qZA()(),l.TgZ(5,"div",37)(6,"div",33)(7,"p"),l._uU(8," Ever felt like a certain food has some kind of power over you ? Or a food that makes saying NO to it, next to impossible ? And have you ever realized that once you have those foods, do you feel guilty ? So if these foods are so good, why do they make you feel guilty ? Fair question, right ? So here is the thing, what has been described above isn't freedom. This is some kind of toxic relationship that we build with certain foods in the course of our lives that taste good but make you feel guilty or even cause physical discomfort (think about how you feel after eating a lot of sugar!). WILDFIT provides you with the tools to identify these toxic , non-functional food relationships and transform them into functional ones. The concept behind this is the behavioural change dynamics that help us break these non-functional relationships and build healthy habits that lasts a lifetime. At the end of 90 days, these are some of things my clients say : "),l.qZA(),l.TgZ(9,"ul")(10,"li"),l._uU(11,'"I no longer have any sugar cravings"'),l.qZA(),l.TgZ(12,"li"),l._uU(13,' "Not sure why I liked eating ice cream so much, its GROSS!" '),l.qZA(),l.TgZ(14,"li"),l._uU(15,'"I do not feel any desire to eat processed foods."'),l.qZA(),l.TgZ(16,"li"),l._uU(17,' "Vacations, family gatherings, social functions do not make me nervous about my food choices!" '),l.qZA()(),l.TgZ(18,"p"),l._uU(19," FOOD FREEDOM is all about being able to eat what you want, whenever you want, how much ever you want. And it ALSO means, being able to say NO to foods that you do not want to eat anymore. WILDFIT will help you reach a level of food freedom which is organic and does not require any willpower. "),l.qZA()()(),l.TgZ(20,"div",34)(21,"button",38),l.NdJ("click",function(){return l.CHM(t).$implicit.dismiss("Cross click")}),l._uU(22," Read Less "),l.qZA()()}}const w7=[{path:"about",component:az},{path:"wildfit90",component:(()=>{class n{constructor(t){this.modalService=t}ngOnInit(){}openLg(t){this.modalService.open(t,{size:"lg",scrollable:!0})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-wildfit90"]],decls:126,vars:0,consts:[[1,"section-wildfit90"],[1,"wildfit90"],[1,"whatisw90"],[1,"section-heading"],[1,"howditwork","justify-content-center"],[1,"part1"],[1,"d-flex","week-container"],[1,"week","d-flex","justify-content-center","align-items-center"],[1,"week-content"],[1,"part2"],[1,"part3"],[1,"part4"],[1,"part5"],[1,"part6"],[1,"part7"],[1,"benefit"],[1,"card-container"],[1,"card-outer"],["content1",""],[1,"card-inner"],[1,"card-image"],["src","../../../../assets/meghan-holmes-buWcS7G1_28-unsplash.jpg","alt",""],[1,"card-content"],["type","button",1,"btn","btn-primary",3,"click"],["content2",""],["src","../../../../assets/foodFreedom.png","alt",""],["content3",""],["src","../../../../assets/foodFreedom.jpg","alt",""],["src","../../../../assets/moneyback.png","alt","MONEY BACK GUARANTEE","height","550px"],[1,"modal-header"],[1,"modal-title","text-center"],["type","button","aria-label","Close",1,"btn-danger","btn",3,"click"],[1,"modal-body","d-flex","justify-content-center",2,"background","linear-gradient(\n                  rgba(9, 80, 7, 0.8),\n                  rgba(5, 61, 19, 0.8)\n                ),\n                url(../../../../assets/meghan-holmes-buWcS7G1_28-unsplash.jpg)","background-size","cover","background-position","center","color","#fff"],[1,"itemDescription","col-lg-12"],[1,"modal-footer"],["type","button","aria-label","Close",1,"btn","btn-primary",3,"click"],[1,"modal-body","d-flex","justify-content-center",2,"background","linear-gradient(\n                  rgba(9, 80, 7, 0.8),\n                  rgba(5, 61, 19, 0.8)\n                ),\n                url(../../../../assets/foodFreedom.png)","background-size","cover","background-position","center","color","#fff"],[1,"modal-body","d-flex","justify-content-center",2,"background","linear-gradient(\n                  rgba(9, 80, 7, 0.8),\n                  rgba(5, 61, 19, 0.8)\n                ),\n                url(../../../../assets/foodFreedom.jpg)","background-size","cover","background-position","center","color","#fff"],["type","button","aria-label","Close",1,"btn-primary","btn",3,"click"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),l._uU(4,"What is WILDFIT 90 ?"),l.qZA(),l.TgZ(5,"div"),l._uU(6," WILDFIT 90 is a 90 day group coaching health transformation program that teaches you how to permanently alter your relationship with food. If you are someone who wants to release weight, gain or maintain weight, if you are an athlete seeking peak performance or someone who wants to live longer and with greater vitality, this is the place to be. "),l.qZA()(),l.TgZ(7,"div",4)(8,"h3",3),l._uU(9,"How Does It Work ??"),l.qZA(),l.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"h3"),l._uU(14,"Week 1:"),l.qZA()(),l.TgZ(15,"div",8)(16,"h3"),l._uU(17,"WILDFIT PRINCIPLES AND FOUNDATION"),l.qZA(),l.TgZ(18,"p"),l._uU(19," The first week is by far the most important week of the program. We gain insights into why we eat, what we eat, when we eat it. You'll be surprised to find out what makes you eat that pint of ice-cream in the middle of the night!! "),l.qZA()()()(),l.TgZ(20,"div",9)(21,"div",6)(22,"div",7)(23,"h3"),l._uU(24,"Week 2-3:"),l.qZA()(),l.TgZ(25,"div",8)(26,"h3"),l._uU(27,"UNDERSTAND SUGAR DEPENDENCY"),l.qZA(),l.TgZ(28,"p"),l._uU(29," These 2 weeks help address our dependency on processed foods and sugars. We learn how sugars sneak into our lives in almost everything we buy at the supermarket and how to deal with it. "),l.qZA()()()(),l.TgZ(30,"div",10)(31,"div",6)(32,"div",7)(33,"h3"),l._uU(34,"Week 4-5:"),l.qZA()(),l.TgZ(35,"div",8)(36,"h3"),l._uU(37,"NUTRITIONAL TOP UP"),l.qZA(),l.TgZ(38,"p"),l._uU(39," In these weeks we prepare our bodies for the healing process to start. In WILDFIT we believe in preparing our bodies by giving it the best nutrition possible before making any change. "),l.qZA()()()(),l.TgZ(40,"div",11)(41,"div",6)(42,"div",7)(43,"h3"),l._uU(44,"Week 6-10:"),l.qZA()(),l.TgZ(45,"div",8)(46,"h3"),l._uU(47,"OUR BODIES START TO HEAL"),l.qZA(),l.TgZ(48,"p"),l._uU(49," This is when your body starts to respond to all the foundational work that we did in the weeks before. Weight starts to shift, energy levels stabilize, body shape starts to change and any more changes start to reflect! "),l.qZA()()()(),l.TgZ(50,"div",12)(51,"div",6)(52,"div",7)(53,"h3"),l._uU(54,"Week 11:"),l.qZA()(),l.TgZ(55,"div",8)(56,"h3"),l._uU(57,"WILDFIT SEASONS"),l.qZA(),l.TgZ(58,"p"),l._uU(59," In the span of 90 days, we will learn how to eat seasonally to get the greatest benefit for our bodies! "),l.qZA()()()(),l.TgZ(60,"div",13)(61,"div",6)(62,"div",7)(63,"h3"),l._uU(64,"Week 12:"),l.qZA()(),l.TgZ(65,"div",8)(66,"h3"),l._uU(67,"BURN SOME MORE FAT"),l.qZA(),l.TgZ(68,"p"),l._uU(69," In this week, you will receive guidance regarding how to transition between seasons by yourself. This prepares you for your LIVING WILDFIT phase after the 90 days! "),l.qZA()()()(),l.TgZ(70,"div",14)(71,"div",6)(72,"div",7)(73,"h3"),l._uU(74,"Week 13:"),l.qZA()(),l.TgZ(75,"div",8)(76,"h3"),l._uU(77,"LIVING WILDFIT"),l.qZA(),l.TgZ(78,"p"),l._uU(79," In this week, you will learn how to practise living WILDFIT by choosing your base season and making food decisions on your own! "),l.qZA()()()()()(),l.TgZ(80,"div",15)(81,"h3",3),l._uU(82,"HOW WILL I BENEFIT ?"),l.qZA(),l.TgZ(83,"div",16)(84,"div",17),l.YNc(85,y7,12,0,"ng-template",null,18,l.W1O),l.TgZ(87,"div",19)(88,"div",20),l._UZ(89,"img",21),l.qZA(),l.TgZ(90,"div",22)(91,"h3"),l._uU(92,"OPTIMAL HEALTH"),l.qZA(),l.TgZ(93,"p"),l._uU(94," WILDFIT is not a diet, it is a way of life that helps you achieve optimal health. When our body achieves optimal health, diseases, health conditions, allergies, body aches/pains etc start to disappear. If you are carrying additional weight, that starts to come off. If want to "),l.qZA()(),l.TgZ(95,"button",23),l.NdJ("click",function(){l.CHM(r);const c=l.MAs(86);return i.openLg(c)}),l._uU(96," Read More "),l.qZA()()(),l.TgZ(97,"div",17),l.YNc(98,v7,12,0,"ng-template",null,24,l.W1O),l.TgZ(100,"div",19)(101,"div",20),l._UZ(102,"img",25),l.qZA(),l.TgZ(103,"div",22)(104,"h3"),l._uU(105,"TRUST YOUR BODY & WIN IN LIFE"),l.qZA(),l.TgZ(106,"p"),l._uU(107," With WILDFIT, you learn to listen to your body. Our bodies are magnificent machines that have all the wisdom in it to give us indications of what to eat and what not to eat. With continued use of processed foods and foods that do not serve us "),l.qZA()(),l.TgZ(108,"button",23),l.NdJ("click",function(){l.CHM(r);const c=l.MAs(99);return i.openLg(c)}),l._uU(109," Read More "),l.qZA()()(),l.TgZ(110,"div",17),l.YNc(111,b7,23,0,"ng-template",null,26,l.W1O),l.TgZ(113,"div",19)(114,"div",20),l._UZ(115,"img",27),l.qZA(),l.TgZ(116,"div",22)(117,"h3"),l._uU(118,"Food Freedom"),l.qZA(),l.TgZ(119,"p"),l._uU(120," Ever felt like a certain food has some kind of power over you ? Or a food that makes saying NO to it, next to impossible ? And have you ever realized that once you have those foods, do you feel guilty ? So if these foods are so good, why do they make you feel guilty ? Fair question, right ? "),l.qZA()(),l.TgZ(121,"button",23),l.NdJ("click",function(){l.CHM(r);const c=l.MAs(112);return i.openLg(c)}),l._uU(122," Read More "),l.qZA()()()(),l.TgZ(123,"div"),l._UZ(124,"img",28),l.qZA()()(),l._UZ(125,"app-testimonials")}},directives:[AV],styles:[".section-heading[_ngcontent-%COMP%]{text-align:center}.wildfit90[_ngcontent-%COMP%]{padding:30px}.whatisw90[_ngcontent-%COMP%]{background-image:url(822048.42b94f88b3034773.jpg)}.wildfit90[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{background-color:#f0f8ff;padding:5px 10px}.wildfit90[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   h3[_ngcontent-%COMP%]{text-align:center}.wildfit90[_ngcontent-%COMP%]   .howditwork[_ngcontent-%COMP%]   .howditwork-title[_ngcontent-%COMP%]{text-align:center;font-size:40px;padding:10px}.wildfit90[_ngcontent-%COMP%]   .howditwork[_ngcontent-%COMP%]   .week-container[_ngcontent-%COMP%]{margin-bottom:10px;box-shadow:0 5px 10px #3b795a,0 5px 10px #3b795a;border-radius:12px;transition:all .2s ease-in-out}.wildfit90[_ngcontent-%COMP%]   .howditwork[_ngcontent-%COMP%]   .week-container[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.02);box-shadow:0 5px 10px #123825,0 5px 10px #123825}.wildfit90[_ngcontent-%COMP%]   .howditwork[_ngcontent-%COMP%]   .week-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:10px;font-weight:500}.wildfit90[_ngcontent-%COMP%]   .howditwork[_ngcontent-%COMP%]   .week-container[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:13px;margin-bottom:8px}.wildfit90[_ngcontent-%COMP%]   .howditwork[_ngcontent-%COMP%]   .week-container[_ngcontent-%COMP%]   .week-content[_ngcontent-%COMP%]{width:100%;padding:10px 10px 0}.wildfit90[_ngcontent-%COMP%]   .howditwork[_ngcontent-%COMP%]   .week-container[_ngcontent-%COMP%]   .week[_ngcontent-%COMP%]{background-color:#b1c7b5b3;border-radius:10px;width:150px}.card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;padding:20px}.card-outer[_ngcontent-%COMP%]{width:350px;padding:20px}.card-inner[_ngcontent-%COMP%]{border:none;background-color:#fff;box-shadow:0 3px 10px #628d78,0 -3px 10px #628d78,0 3px 10px #628d78,0 -3px 10px #628d78;transition:all .1s ease-in}.card-inner[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 0 10px #3b795a,0 0 10px #3b795a,0 0 10px #3b795a,0 0 10px #3b795a}.card-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.card-image[_ngcontent-%COMP%]{height:150px;width:100%;overflow:hidden}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.card-content[_ngcontent-%COMP%]{padding:20px}.readButton[_ngcontent-%COMP%]{padding:0 20px}.btn-primary[_ngcontent-%COMP%]{margin:20px}.card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-size:18px}@media (max-width:980px){.card-container[_ngcontent-%COMP%]{flex-direction:column}.card-outer[_ngcontent-%COMP%]{width:450px}.card-content[_ngcontent-%COMP%]{padding-bottom:0}.btn-primary[_ngcontent-%COMP%]{margin-top:0}}"]}),n})()},{path:"myStory",component:_7},{path:"home",component:t7},{path:"wildfit",component:m7},{path:"shop",component:o7},{path:"cart",component:c7},{path:"contact",component:hz},{path:"testimonials",component:AV},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let E7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[CU.forRoot(w7,{scrollPositionRestoration:"enabled"})],CU]}),n})();var C7=k(7123);let T7=(()=>{class n{constructor(t){this.cartApi=t,this.totalItems=0,this.collapsed=!0}ngOnInit(){this.cartApi.getProductData().subscribe(t=>{let i=0;t.map(r=>{i+=r.quantity,console.log(r)}),this.totalItems=i}),console.log(this.totalItems)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(DR))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-new-header"]],decls:30,vars:3,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],["routerLink","/home",1,"navbar-brand"],["src","../../../../assets/3ft.png","width","120px","alt",""],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"resize"],[1,"navbar-nav","ml-auto"],[1,"nav-link"],["routerLink","/myStory","routerLinkActive","active"],["routerLink","/wildfit","routerLinkActive","active"],["routerLink","/wildfit90","routerLinkActive","active"],["routerLink","/shop","routerLinkActive","active"],["routerLink","/contact","routerLinkActive","active"],[1,"navbar-text"],[1,""],["routerLink","/cart"],[1,"p-3","fal","fa-shopping-cart"],[1,"itemCount"],[1,"btn","btn-dark","work-btn"]],template:function(t,i){1&t&&(l.TgZ(0,"nav",0)(1,"a",1),l._UZ(2,"img",2),l.qZA(),l.TgZ(3,"button",3),l.NdJ("click",function(){return i.collapsed=!i.collapsed}),l._UZ(4,"span",4),l.qZA(),l.TgZ(5,"div",5),l.NdJ("resize",function(){return i.collapsed=!0},!1,l.Jf7),l.TgZ(6,"ul",6)(7,"li",7)(8,"a",8),l._uU(9,"About"),l.qZA()(),l.TgZ(10,"li",7)(11,"a",9),l._uU(12,"Wildfit"),l.qZA()(),l.TgZ(13,"li",7)(14,"a",10),l._uU(15,"Wildfit90"),l.qZA()(),l.TgZ(16,"li",7)(17,"a",11),l._uU(18,"Shop"),l.qZA()(),l.TgZ(19,"li",7)(20,"a",12),l._uU(21,"Contact"),l.qZA()()(),l.TgZ(22,"span",13)(23,"div",14)(24,"a",15)(25,"i",16)(26,"span",17),l._uU(27),l.qZA()()(),l.TgZ(28,"button",18),l._uU(29,"Work with me"),l.qZA()()()()()),2&t&&(l.xp6(5),l.ekj("collapse",i.collapsed),l.xp6(22),l.Oqu(i.totalItems))},directives:[wR,Iv,yU],styles:[".navbar[_ngcontent-%COMP%]{font-family:Varela Round,sans-serif;padding:30px 50px;background-color:#fff;display:flex;justify-content:space-between;align-items:center}a[_ngcontent-%COMP%]{text-decoration:none}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;display:flex;list-style:none}.navbar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:28px;margin:0 5px;color:#1d2c36;position:relative}.navbar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]   .itemCount[_ngcontent-%COMP%]{position:absolute;top:10%;font-size:16px;color:#052b15;font-weight:500}.social[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0 20px}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 20px;color:#052b15;font-size:16px!important}.navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#5db68c;transform:scale(1.1);transition:all .1s ease-in-out}.fal[_ngcontent-%COMP%]{display:unset!important}.work-btn[_ngcontent-%COMP%]{padding:10px 23px;box-shadow:0 20px 20px #b4b4b4;font-size:14px!important}@media (max-width:1034px){.work-btn[_ngcontent-%COMP%]{display:none}}.active[_ngcontent-%COMP%]{color:#011404!important;font-weight:700!important}.navbar-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}@media (max-width:940px){.navbar-text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{align-items:flex-start;flex-direction:column}}"]}),n})(),D7=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:59,vars:0,consts:[[1,"footer-section"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],[1,"p-2","subs"],[1,"d-flex"],["type","text","placeholder","Enter you mail here",1,"p-2"],[1,"btn","btn-light","work-btn"],[1,"row","link-section"],[1,"col-md-4"],[1,"social-icons"],["href","https://www.instagram.com/3ftribe/"],[1,"fab","fa-facebook-f",2,"font-size","26px"],["href","https://www.facebook.com/3F-Tribe-Flow-Fit-Free-112698478002910 "],[1,"fab","fa-instagram"],[1,"col-md-8"],[1,"row"],[1,"footer-links"],["routerLink","/home"],["routerLink","/myStory"],["routerLink","/wildfit"],["routerLink","/testimonials"],["routerLink","/contact"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3"),l._uU(4,"Subscribe to our Newsletter"),l.qZA()(),l.TgZ(5,"div",3),l._UZ(6,"input",4),l.TgZ(7,"button",5),l._uU(8,"Subscribe"),l.qZA()()(),l.TgZ(9,"div",6)(10,"div",7)(11,"h4"),l._uU(12,"Social Media"),l.qZA(),l.TgZ(13,"div",8)(14,"div")(15,"a",9),l._UZ(16,"i",10),l.qZA()(),l.TgZ(17,"div")(18,"a",11),l._UZ(19,"i",12),l.qZA()()()(),l.TgZ(20,"div",13)(21,"div",14)(22,"div",7)(23,"h4"),l._uU(24,"Links"),l.qZA(),l.TgZ(25,"ul",15)(26,"li")(27,"a",16),l._uU(28,"Home"),l.qZA()(),l.TgZ(29,"li")(30,"a",17),l._uU(31,"About"),l.qZA()(),l.TgZ(32,"li")(33,"a",18),l._uU(34,"Wildfit"),l.qZA()(),l.TgZ(35,"li")(36,"a",19),l._uU(37,"Testimonials"),l.qZA()(),l.TgZ(38,"li")(39,"a",20),l._uU(40,"Contact"),l.qZA()()()(),l.TgZ(41,"div",7)(42,"h4"),l._uU(43,"3FTRIBE"),l.qZA(),l.TgZ(44,"ul")(45,"li"),l._uU(46,"Terms & Conditions"),l.qZA(),l.TgZ(47,"li"),l._uU(48,"Privacy Policy"),l.qZA()()(),l.TgZ(49,"div",7)(50,"h4"),l._uU(51,"Get in Touch"),l.qZA(),l.TgZ(52,"ul")(53,"li"),l._uU(54,"+31653204130"),l.qZA(),l.TgZ(55,"li"),l._uU(56,"aseema@3ftribe.com"),l.qZA()()()()()(),l.TgZ(57,"h5"),l._uU(58,"\xa93FTribe.co . All rights reserved"),l.qZA()())},directives:[Iv],styles:[".footer-section[_ngcontent-%COMP%]{background:linear-gradient(rgba(0,0,0,.5),rgba(0,0,0,.8)),url(footer.97cca21ca4f43f26.png);background-size:cover;padding:40px 40px 15px;color:#fff}.footer-section[_ngcontent-%COMP%]   .subs[_ngcontent-%COMP%]{text-align:center;width:480px;margin:80px 80px 15px}.footer-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:50px;font-weight:580}.footer-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:320px;color:#fff;margin:0 12px;font-size:16px;background:transparent;outline:none;border:none;border-bottom:1px solid #fff}.footer-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff}.footer-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:140px;height:50px;margin-right:20px;padding:10px 23px;font-size:14px!important;background:#fff}.btn-light[_ngcontent-%COMP%]:hover{box-shadow:0 15px 20px #8b8a8a}.footer-section[_ngcontent-%COMP%]   .link-section[_ngcontent-%COMP%]{margin:120px 60px 0}.footer-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:20px;font-size:16px;font-weight:600;color:#9da09c}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.footer-section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px 0;font-size:13px}.footer-section[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:0;padding:0;font-size:16px;text-align:center}*[_ngcontent-%COMP%]{scroll-behavior:smooth}.footer-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff!important}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.social-icons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:40px;height:40px;margin-right:20px}.social-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;display:flex;justify-content:center;align-items:center;transition:all .2s ease-in-out}.social-icons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   i[_ngcontent-%COMP%]:hover{color:#244af3;transform:scale(1.3)}.social-icons[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   i[_ngcontent-%COMP%]:hover{color:#e42a2a;transform:scale(1.3)}"]}),n})(),I7=(()=>{class n{constructor(){this.title="3FTribe"}ngOnInit(){C7.init()}onActivate(t){window.scroll(0,0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:13,vars:0,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://pro.fontawesome.com/releases/v5.10.0/css/all.css","integrity","sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p","crossorigin","anonymous"],["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@500&family=Playfair+Display&family=Public+Sans:wght@800&family=Roboto&family=Spartan:wght@900&family=Varela+Round&display=swap","rel","stylesheet"]],template:function(t,i){1&t&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"link",4)(6,"link",5)(7,"link",6)(8,"link",7),l.qZA(),l.TgZ(9,"body"),l._UZ(10,"app-new-header")(11,"router-outlet")(12,"app-footer"),l.qZA()())},directives:[T7,iR,D7],styles:["*[_ngcontent-%COMP%]{font-size:16px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}*[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}"]}),n})();const NV_firebase={apiKey:"AIzaSyA2tvxN58DGPTNSLATEiJAcfQH5LDHWB80",authDomain:"ftribe-5be7f.firebaseapp.com",databaseURL:"https://ftribe-5be7f-default-rtdb.firebaseio.com",projectId:"ftribe-5be7f",storageBucket:"ftribe-5be7f.appspot.com",messagingSenderId:"355287377202",appId:"1:355287377202:web:172b2c9b3422eb7e5fe32b",measurementId:"G-QGV791DEJY"};let S7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[I7]}),n.\u0275inj=l.cJS({providers:[],imports:[[xa,E7,Bc.forRoot(),YK,Tp,ni.hO.initializeApp(NV_firebase),V8,I0,q0,N3,e6,Q5]]}),n})();(0,l.G48)(),Du().bootstrapModule(S7).catch(n=>console.error(n))},7123:function(Je){Je.exports=function(he){function k(z){if(l[z])return l[z].exports;var F=l[z]={exports:{},id:z,loaded:!1};return he[z].call(F.exports,F,F.exports,k),F.loaded=!0,F.exports}var l={};return k.m=he,k.c=l,k.p="dist/",k(0)}([function(he,k,l){"use strict";function z(oe){return oe&&oe.__esModule?oe:{default:oe}}var F=Object.assign||function(oe){for(var Ne=1;Ne<arguments.length;Ne++){var rt=arguments[Ne];for(var We in rt)Object.prototype.hasOwnProperty.call(rt,We)&&(oe[We]=rt[We])}return oe},ae=(z(l(1)),l(6)),te=z(ae),ee=z(l(7)),j=z(l(8)),ne=z(l(9)),Ce=z(l(10)),je=z(l(11)),ve=z(l(14)),Te=[],Be=!1,Pe={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},Oe=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Be=!0),Be)return Te=(0,je.default)(Te,Pe),(0,Ce.default)(Te,Pe.once),Te},we=function(){Te=(0,ve.default)(),Oe()};he.exports={init:function(oe){Pe=F(Pe,oe),Te=(0,ve.default)();var Ne=document.all&&!window.atob;return function(oe){return!0===oe||"mobile"===oe&&ne.default.mobile()||"phone"===oe&&ne.default.phone()||"tablet"===oe&&ne.default.tablet()||"function"==typeof oe&&!0===oe()}(Pe.disable)||Ne?void Te.forEach(function(oe,Ne){oe.node.removeAttribute("data-aos"),oe.node.removeAttribute("data-aos-easing"),oe.node.removeAttribute("data-aos-duration"),oe.node.removeAttribute("data-aos-delay")}):(Pe.disableMutationObserver||j.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),Pe.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Pe.easing),document.querySelector("body").setAttribute("data-aos-duration",Pe.duration),document.querySelector("body").setAttribute("data-aos-delay",Pe.delay),"DOMContentLoaded"===Pe.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?Oe(!0):"load"===Pe.startEvent?window.addEventListener(Pe.startEvent,function(){Oe(!0)}):document.addEventListener(Pe.startEvent,function(){Oe(!0)}),window.addEventListener("resize",(0,ee.default)(Oe,Pe.debounceDelay,!0)),window.addEventListener("orientationchange",(0,ee.default)(Oe,Pe.debounceDelay,!0)),window.addEventListener("scroll",(0,te.default)(function(){(0,Ce.default)(Te,Pe.once)},Pe.throttleDelay)),Pe.disableMutationObserver||j.default.ready("[data-aos]",we),Te)},refresh:Oe,refreshHard:we}},function(he,k){},,,,,function(he,k){(function(l){"use strict";function z(fe,H,oe){function Ne(Nt){var rn=It,ei=yn;return It=yn=void 0,Lt=Nt,ln=fe.apply(ei,rn)}function rt(Nt){return Lt=Nt,xt=setTimeout(Ge,H),St?Ne(Nt):ln}function ht(Nt){var rn=Nt-bn;return void 0===bn||rn>=H||rn<0||jn&&Nt-Lt>=vn}function Ge(){var Nt=ge();return ht(Nt)?Xn(Nt):void(xt=setTimeout(Ge,function We(Nt){var Kr=H-(Nt-bn);return jn?we(Kr,vn-(Nt-Lt)):Kr}(Nt)))}function Xn(Nt){return xt=void 0,Gt&&It?Ne(Nt):(It=yn=void 0,ln)}function jt(){var Nt=ge(),rn=ht(Nt);if(It=arguments,yn=this,bn=Nt,rn){if(void 0===xt)return rt(bn);if(jn)return xt=setTimeout(Ge,H),Ne(bn)}return void 0===xt&&(xt=setTimeout(Ge,H)),ln}var It,yn,vn,ln,xt,bn,Lt=0,St=!1,jn=!1,Gt=!0;if("function"!=typeof fe)throw new TypeError(se);return H=re(H)||0,le(oe)&&(St=!!oe.leading,vn=(jn="maxWait"in oe)?Oe(re(oe.maxWait)||0,H):vn,Gt="trailing"in oe?!!oe.trailing:Gt),jt.cancel=function Fn(){void 0!==xt&&clearTimeout(xt),Lt=0,It=bn=yn=xt=void 0},jt.flush=function Di(){return void 0===xt?ln:Xn(ge())},jt}function le(fe){var H=void 0===fe?"undefined":ee(fe);return!!fe&&("object"==H||"function"==H)}function te(fe){return"symbol"==(void 0===fe?"undefined":ee(fe))||function ae(fe){return!!fe&&"object"==(void 0===fe?"undefined":ee(fe))}(fe)&&Pe.call(fe)==G}function re(fe){if("number"==typeof fe)return fe;if(te(fe))return j;if(le(fe)){var H="function"==typeof fe.valueOf?fe.valueOf():fe;fe=le(H)?H+"":H}if("string"!=typeof fe)return 0===fe?fe:+fe;fe=fe.replace(ne,"");var oe=Ce.test(fe);return oe||Re.test(fe)?je(fe.slice(2),oe?2:8):Ue.test(fe)?j:+fe}var ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},se="Expected a function",j=NaN,G="[object Symbol]",ne=/^\s+|\s+$/g,Ue=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Re=/^0o[0-7]+$/i,je=parseInt,ye="object"==(void 0===l?"undefined":ee(l))&&l&&l.Object===Object&&l,ve="object"==("undefined"==typeof self?"undefined":ee(self))&&self&&self.Object===Object&&self,Te=ye||ve||Function("return this")(),Pe=Object.prototype.toString,Oe=Math.max,we=Math.min,ge=function(){return Te.Date.now()};he.exports=function F(fe,H,oe){var Ne=!0,rt=!0;if("function"!=typeof fe)throw new TypeError(se);return le(oe)&&(Ne="leading"in oe?!!oe.leading:Ne,rt="trailing"in oe?!!oe.trailing:rt),z(fe,H,{leading:Ne,maxWait:H,trailing:rt})}}).call(k,function(){return this}())},function(he,k){(function(l){"use strict";function F(ge){var fe=void 0===ge?"undefined":re(ge);return!!ge&&("object"==fe||"function"==fe)}function ae(ge){return"symbol"==(void 0===ge?"undefined":re(ge))||function le(ge){return!!ge&&"object"==(void 0===ge?"undefined":re(ge))}(ge)&&Be.call(ge)==j}function te(ge){if("number"==typeof ge)return ge;if(ae(ge))return se;if(F(ge)){var fe="function"==typeof ge.valueOf?ge.valueOf():ge;ge=F(fe)?fe+"":fe}if("string"!=typeof ge)return 0===ge?ge:+ge;ge=ge.replace(G,"");var H=Ue.test(ge);return H||Ce.test(ge)?Re(ge.slice(2),H?2:8):ne.test(ge)?se:+ge}var re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ge){return typeof ge}:function(ge){return ge&&"function"==typeof Symbol&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},ee="Expected a function",se=NaN,j="[object Symbol]",G=/^\s+|\s+$/g,ne=/^[-+]0x[0-9a-f]+$/i,Ue=/^0b[01]+$/i,Ce=/^0o[0-7]+$/i,Re=parseInt,je="object"==(void 0===l?"undefined":re(l))&&l&&l.Object===Object&&l,ye="object"==("undefined"==typeof self?"undefined":re(self))&&self&&self.Object===Object&&self,ve=je||ye||Function("return this")(),Be=Object.prototype.toString,Pe=Math.max,Oe=Math.min,we=function(){return ve.Date.now()};he.exports=function z(ge,fe,H){function oe(Gt){var Nt=jt,rn=It;return jt=It=void 0,bn=Gt,vn=ge.apply(rn,Nt)}function Ne(Gt){return bn=Gt,ln=setTimeout(ht,fe),Lt?oe(Gt):vn}function We(Gt){var Nt=Gt-xt;return void 0===xt||Nt>=fe||Nt<0||St&&Gt-bn>=yn}function ht(){var Gt=we();return We(Gt)?Ge(Gt):void(ln=setTimeout(ht,function rt(Gt){var ei=fe-(Gt-xt);return St?Oe(ei,yn-(Gt-bn)):ei}(Gt)))}function Ge(Gt){return ln=void 0,jn&&jt?oe(Gt):(jt=It=void 0,vn)}function Di(){var Gt=we(),Nt=We(Gt);if(jt=arguments,It=this,xt=Gt,Nt){if(void 0===ln)return Ne(xt);if(St)return ln=setTimeout(ht,fe),oe(xt)}return void 0===ln&&(ln=setTimeout(ht,fe)),vn}var jt,It,yn,vn,ln,xt,bn=0,Lt=!1,St=!1,jn=!0;if("function"!=typeof ge)throw new TypeError(ee);return fe=te(fe)||0,F(H)&&(Lt=!!H.leading,yn=(St="maxWait"in H)?Pe(te(H.maxWait)||0,fe):yn,jn="trailing"in H?!!H.trailing:jn),Di.cancel=function Xn(){void 0!==ln&&clearTimeout(ln),bn=0,jt=xt=It=ln=void 0},Di.flush=function Fn(){return void 0===ln?vn:Ge(we())},Di}}).call(k,function(){return this}())},function(he,k){"use strict";function l(re){var ee=void 0,se=void 0;for(ee=0;ee<re.length;ee+=1)if((se=re[ee]).dataset&&se.dataset.aos||se.children&&l(se.children))return!0;return!1}function z(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function ae(re){re&&re.forEach(function(ee){var se=Array.prototype.slice.call(ee.addedNodes),j=Array.prototype.slice.call(ee.removedNodes);if(l(se.concat(j)))return te()})}Object.defineProperty(k,"__esModule",{value:!0});var te=function(){};k.default={isSupported:function F(){return!!z()},ready:function le(re,ee){var se=window.document,G=new(z())(ae);te=ee,G.observe(se.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(he,k){"use strict";function z(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(k,"__esModule",{value:!0});var F=function(){function se(j,G){for(var ne=0;ne<G.length;ne++){var Ue=G[ne];Ue.enumerable=Ue.enumerable||!1,Ue.configurable=!0,"value"in Ue&&(Ue.writable=!0),Object.defineProperty(j,Ue.key,Ue)}}return function(j,G,ne){return G&&se(j.prototype,G),ne&&se(j,ne),j}}(),le=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,ae=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,te=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,re=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ee=function(){function se(){!function l(se,j){if(!(se instanceof j))throw new TypeError("Cannot call a class as a function")}(this,se)}return F(se,[{key:"phone",value:function(){var j=z();return!(!le.test(j)&&!ae.test(j.substr(0,4)))}},{key:"mobile",value:function(){var j=z();return!(!te.test(j)&&!re.test(j.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),se}();k.default=new ee},function(he,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0});k.default=function(F,le){var ae=window.pageYOffset,te=window.innerHeight;F.forEach(function(re,ee){!function(F,le,ae){var te=F.node.getAttribute("data-aos-once");le>F.position?F.node.classList.add("aos-animate"):void 0!==te&&("false"===te||!ae&&"true"!==te)&&F.node.classList.remove("aos-animate")}(re,te+ae,le)})}},function(he,k,l){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var le=function z(te){return te&&te.__esModule?te:{default:te}}(l(12));k.default=function(te,re){return te.forEach(function(ee,se){ee.node.classList.add("aos-init"),ee.position=(0,le.default)(ee.node,re.offset)}),te}},function(he,k,l){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var le=function z(te){return te&&te.__esModule?te:{default:te}}(l(13));k.default=function(te,re){var ee=0,se=0,j=window.innerHeight,G={offset:te.getAttribute("data-aos-offset"),anchor:te.getAttribute("data-aos-anchor"),anchorPlacement:te.getAttribute("data-aos-anchor-placement")};switch(G.offset&&!isNaN(G.offset)&&(se=parseInt(G.offset)),G.anchor&&document.querySelectorAll(G.anchor)&&(te=document.querySelectorAll(G.anchor)[0]),ee=(0,le.default)(te).top,G.anchorPlacement){case"top-bottom":break;case"center-bottom":ee+=te.offsetHeight/2;break;case"bottom-bottom":ee+=te.offsetHeight;break;case"top-center":ee+=j/2;break;case"bottom-center":ee+=j/2+te.offsetHeight;break;case"center-center":ee+=j/2+te.offsetHeight/2;break;case"top-top":ee+=j;break;case"bottom-top":ee+=te.offsetHeight+j;break;case"center-top":ee+=te.offsetHeight/2+j}return G.anchorPlacement||G.offset||isNaN(re)||(se=re),ee+se}},function(he,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(z){for(var F=0,le=0;z&&!isNaN(z.offsetLeft)&&!isNaN(z.offsetTop);)F+=z.offsetLeft-("BODY"!=z.tagName?z.scrollLeft:0),le+=z.offsetTop-("BODY"!=z.tagName?z.scrollTop:0),z=z.offsetParent;return{top:le,left:F}}},function(he,k){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(z){return z=z||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(z,function(F){return{node:F}})}}])},5867:(Je,he,k)=>{"use strict";k.d(he,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=k(9681);(0,l.registerVersion)("firebase","9.8.3","app")},127:(Je,he,k)=>{"use strict";k.d(he,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.8.3","app-compat")},9916:(Je,he,k)=>{"use strict";k.r(he);var l=k(5861),z=k(3942),F=k(2090),le=k(9681),ae=k(9501),te=k(1877),re=k(4859);const Re=function Ue(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new te.Yd("@firebase/auth");function Be(v,...g){Te.logLevel<=te.in.ERROR&&Te.error(`Auth (${le.SDK_VERSION}): ${v}`,...g)}function Pe(v,...g){throw fe(v,...g)}function Oe(v,...g){return fe(v,...g)}function we(v,g,_){const w=Object.assign(Object.assign({},je()),{[g]:_});return new F.LL("auth","Firebase",w).create(g,{appName:v.name})}function ge(v,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Pe(v,"argument-error"),we(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fe(v,...g){if("string"!=typeof v){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(_,...w)}return ye.create(v,...g)}function H(v,g,..._){if(!v)throw fe(g,..._)}function oe(v){const g="INTERNAL ASSERTION FAILED: "+v;throw Be(g),new Error(g)}function Ne(v,g){v||oe(g)}const rt=new Map;function We(v){Ne(v instanceof Function,"Expected a class definition");let g=rt.get(v);return g?(Ne(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,rt.set(v,g),g)}function Xn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Fn(){return"http:"===Di()||"https:"===Di()}function Di(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class yn{constructor(g,_){this.shortDelay=g,this.longDelay=_,Ne(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return function jt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fn()||(0,F.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vn(v,g){Ne(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class ln{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},bn=new yn(3e4,6e4);function Lt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function St(v,g,_,w){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(v,g,_,w,A={}){return Gt(v,A,(0,l.Z)(function*(){let P={},J={};w&&("GET"===g?J=w:P={body:JSON.stringify(w)});const me=(0,F.xO)(Object.assign({key:v.config.apiKey},J)).slice(1),He=yield v._getAdditionalHeaders();return He["Content-Type"]="application/json",v.languageCode&&(He["X-Firebase-Locale"]=v.languageCode),ln.fetch()(Kr(v,v.config.apiHost,_,me),Object.assign({method:g,headers:He,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Gt(v,g,_){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,l.Z)(function*(v,g,_){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},xt),g);try{const A=new cr(v),P=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const J=yield P.json();if("needConfirmation"in J)throw Yr(v,"account-exists-with-different-credential",J);if(P.ok&&!("errorMessage"in J))return J;{const me=P.ok?J.errorMessage:J.error.message,[He,Qe]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw Yr(v,"credential-already-in-use",J);if("EMAIL_EXISTS"===He)throw Yr(v,"email-already-in-use",J);if("USER_DISABLED"===He)throw Yr(v,"user-disabled",J);const vt=w[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(Qe)throw we(v,vt,Qe);Pe(v,vt)}}catch(A){if(A instanceof F.ZR)throw A;Pe(v,"network-request-failed")}})).apply(this,arguments)}function rn(v,g,_,w){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(v,g,_,w,A={}){const P=yield St(v,g,_,w,A);return"mfaPendingCredential"in P&&Pe(v,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Kr(v,g,_,w){const A=`${g}${_}?${w}`;return v.config.emulator?vn(v.config,A):`${v.config.apiScheme}://${A}`}class cr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(Oe(this.auth,"network-request-failed")),bn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yr(v,g,_){const w={appName:v.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const A=Oe(v,g,w);return A.customData._tokenResponse=_,A}function kr(){return(kr=(0,l.Z)(function*(v,g){return St(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Ln(v,g){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(v,g){return St(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function no(v,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(v,g){return St(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function mi(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Po(){return(Po=(0,l.Z)(function*(v,g=!1){const _=(0,F.m9)(v),w=yield _.getIdToken(g),A=st(w);H(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,J=null==P?void 0:P.sign_in_provider;return{claims:A,token:w,authTime:mi(zt(A.auth_time)),issuedAtTime:mi(zt(A.iat)),expirationTime:mi(zt(A.exp)),signInProvider:J||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function zt(v){return 1e3*Number(v)}function st(v){const[g,_,w]=v.split(".");if(void 0===g||void 0===_||void 0===w)return Be("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(_);return A?JSON.parse(A):(Be("Failed to decode base64 JWT payload"),null)}catch(A){return Be("Caught error parsing JWT payload as JSON",A),null}}function Ui(v,g){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(v,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof F.ZR&&Wt(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Wt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class ko{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class Vi{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=mi(this.lastLoginAt),this.creationTime=mi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ji(v){return $.apply(this,arguments)}function $(){return($=(0,l.Z)(function*(v){var g;const _=v.auth,w=yield v.getIdToken(),A=yield Ui(v,no(_,{idToken:w}));H(null==A?void 0:A.users.length,_,"internal-error");const P=A.users[0];v._notifyReloadListener(P);const J=(null===(g=P.providerUserInfo)||void 0===g?void 0:g.length)?q(P.providerUserInfo):[],me=Ee(v.providerData,J),vt=!!v.isAnonymous&&!(v.email&&P.passwordHash||(null==me?void 0:me.length)),ct={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:me,metadata:new Vi(P.createdAt,P.lastLoginAt),isAnonymous:vt};Object.assign(v,ct)})).apply(this,arguments)}function Y(){return(Y=(0,l.Z)(function*(v){const g=(0,F.m9)(v);yield ji(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Ee(v,g){return[...v.filter(w=>!g.some(A=>A.providerId===w.providerId)),...g]}function q(v){return v.map(g=>{var{providerId:_}=g,w=(0,ae.__rest)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Me(){return(Me=(0,l.Z)(function*(v,g){const _=yield Gt(v,{},(0,l.Z)(function*(){const w=(0,F.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:P}=v.config,J=Kr(v,A,"/v1/token",`key=${P}`),me=yield v._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(J,{method:"POST",headers:me,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Xe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){H(g.idToken,"internal-error"),H(void 0!==g.idToken,"internal-error"),H(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function bt(v){const g=st(v);return H(g,"internal-error"),H(void 0!==g.exp,"internal-error"),H(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,l.Z)(function*(){return H(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:J}=yield function ie(v,g){return Me.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(A,P,Number(J))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:A,expirationTime:P}=_,J=new Xe;return w&&(H("string"==typeof w,"internal-error",{appName:g}),J.refreshToken=w),A&&(H("string"==typeof A,"internal-error",{appName:g}),J.accessToken=A),P&&(H("number"==typeof P,"internal-error",{appName:g}),J.expirationTime=P),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Xe,this.toJSON())}_performRefresh(){return oe("not implemented")}}function lt(v,g){H("string"==typeof v||void 0===v,"internal-error",{appName:g})}class wt{constructor(g){var{uid:_,auth:w,stsTokenManager:A}=g,P=(0,ae.__rest)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ko(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Vi(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const w=yield Ui(_,_.stsTokenManager.getToken(_.auth,g));return H(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function Fr(v){return Po.apply(this,arguments)}(this,g)}reload(){return function K(v){return Y.apply(this,arguments)}(this)}_assign(g){this!==g&&(H(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new wt(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,l.Z)(function*(){let A=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),A=!0),_&&(yield ji(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield Ui(g,function _t(v,g){return kr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,A,P,J,me,He,Qe,vt;const ct=null!==(w=_.displayName)&&void 0!==w?w:void 0,li=null!==(A=_.email)&&void 0!==A?A:void 0,Ns=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,_e=null!==(J=_.photoURL)&&void 0!==J?J:void 0,wr=null!==(me=_.tenantId)&&void 0!==me?me:void 0,ki=null!==(He=_._redirectEventId)&&void 0!==He?He:void 0,L=null!==(Qe=_.createdAt)&&void 0!==Qe?Qe:void 0,os=null!==(vt=_.lastLoginAt)&&void 0!==vt?vt:void 0,{uid:Th,emailVerified:Dh,isAnonymous:Zm,providerData:ui,stsTokenManager:Ms}=_;H(Th&&Ms,g,"internal-error");const Ih=Xe.fromJSON(this.name,Ms);H("string"==typeof Th,g,"internal-error"),lt(ct,g.name),lt(li,g.name),H("boolean"==typeof Dh,g,"internal-error"),H("boolean"==typeof Zm,g,"internal-error"),lt(Ns,g.name),lt(_e,g.name),lt(wr,g.name),lt(ki,g.name),lt(L,g.name),lt(os,g.name);const Xc=new wt({uid:Th,auth:g,email:li,emailVerified:Dh,displayName:ct,isAnonymous:Zm,photoURL:_e,phoneNumber:Ns,tenantId:wr,stsTokenManager:Ih,createdAt:L,lastLoginAt:os});return ui&&Array.isArray(ui)&&(Xc.providerData=ui.map(zv=>Object.assign({},zv))),ki&&(Xc._redirectEventId=ki),Xc}static _fromIdTokenResponse(g,_,w=!1){return(0,l.Z)(function*(){const A=new Xe;A.updateFromServerResponse(_);const P=new wt({uid:_.localId,auth:g,stsTokenManager:A,isAnonymous:w});return yield ji(P),P})()}}const Et=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var A=this;return(0,l.Z)(function*(){A.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const A=w.storage[_];return void 0===A?null:A})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return v.type="NONE",v})();function ri(v,g,_){return`firebase:${v}:${g}:${_}`}class Ji{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:A,name:P}=this.auth;this.fullUserKey=ri(this.userKey,A.apiKey,P),this.fullPersistenceKey=ri("persistence",A.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?wt._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Ji(We(Et),g,w);const A=(yield Promise.all(_.map(function(){var Qe=(0,l.Z)(function*(vt){if(yield vt._isAvailable())return vt});return function(vt){return Qe.apply(this,arguments)}}()))).filter(Qe=>Qe);let P=A[0]||We(Et);const J=ri(w,g.config.apiKey,g.name);let me=null;for(const Qe of _)try{const vt=yield Qe._get(J);if(vt){const ct=wt._fromJSON(g,vt);Qe!==P&&(me=ct),P=Qe;break}}catch(vt){}const He=A.filter(Qe=>Qe._shouldAllowMigration);return P._shouldAllowMigration&&He.length?(P=He[0],me&&(yield P._set(J,me.toJSON())),yield Promise.all(_.map(function(){var Qe=(0,l.Z)(function*(vt){if(vt!==P)try{yield vt._remove(J)}catch(ct){}});return function(vt){return Qe.apply(this,arguments)}}())),new Ji(P,g,w)):new Ji(P,g,w)})()}}function _l(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(si(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(yl(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(ks(g))return"Blackberry";if(oi(g))return"Webos";if(fu(g))return"Safari";if((g.includes("chrome/")||vl(g))&&!g.includes("edge/"))return"Chrome";if(Qi(g))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function yl(v=(0,F.z$)()){return/firefox\//i.test(v)}function fu(v=(0,F.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function vl(v=(0,F.z$)()){return/crios\//i.test(v)}function si(v=(0,F.z$)()){return/iemobile/i.test(v)}function Qi(v=(0,F.z$)()){return/android/i.test(v)}function ks(v=(0,F.z$)()){return/blackberry/i.test(v)}function oi(v=(0,F.z$)()){return/webos/i.test(v)}function hr(v=(0,F.z$)()){return/iphone|ipad|ipod/i.test(v)}function io(v=(0,F.z$)()){return hr(v)||Qi(v)||oi(v)||ks(v)||/windows phone/i.test(v)||si(v)}function wa(v,g=[]){let _;switch(v){case"Browser":_=_l((0,F.z$)());break;case"Worker":_=`${_l((0,F.z$)())}-${v}`;break;default:_=v}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${le.SDK_VERSION}/${w}`}class fr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=P=>new Promise((J,me)=>{try{J(g(P))}catch(He){me(He)}});w.onAbort=_,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,l.Z)(function*(){var w;if(_.auth.currentUser===g)return;const A=[];try{for(const P of _.queue)yield P(g),P.onAbort&&A.push(P.onAbort)}catch(P){A.reverse();for(const J of A)try{J()}catch(me){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(w=P)||void 0===w?void 0:w.message})}})()}}class Ye{constructor(g,_,w){this.app=g,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new un(this),this.idTokenSubscription=new un(this),this.beforeStateQueue=new fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=We(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A,P;if(!w._deleted&&(w.persistenceManager=yield Ji.create(w,g),!w._deleted)){if(null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(J){}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var w;const A=yield _.assertedPersistence.getCurrentUser();let P=A,J=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const me=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,He=null==P?void 0:P._redirectEventId,Qe=yield _.tryRedirectSignIn(g);(!me||me===He)&&(null==Qe?void 0:Qe.user)&&(P=Qe.user,J=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(J)try{yield _.beforeStateQueue.runMiddleware(P)}catch(me){P=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(me))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return H(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(A){yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield ji(g)}catch(w){if("auth/network-request-failed"!==w.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function It(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const w=g?(0,F.m9)(g):null;return w&&H(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return g&&H(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(We(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new F.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,l.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(_);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&We(g)||_._popupRedirectResolver;H(w,_,"argument-error"),_.redirectPersistenceManager=yield Ji.create(_,[We(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var w,A;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,A){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),J=this._isInitialized?Promise.resolve():this._initializationPromise;return H(J,this,"internal-error"),J.then(()=>P(this.currentUser)),"function"==typeof _?g.addObserver(_,w,A):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=wa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function at(v){return(0,F.m9)(v)}class un{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,F.ne)(_=>this.observer=_)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function gs(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function ms(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Jr{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return oe("not implemented")}_getIdTokenResponse(g){return oe("not implemented")}_linkToIdToken(g,_){return oe("not implemented")}_getReauthenticationResolver(g){return oe("not implemented")}}function $n(v,g){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(v,g){return St(v,"POST","/v1/accounts:resetPassword",Lt(v,g))})).apply(this,arguments)}function Ea(v,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,l.Z)(function*(v,g){return St(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function pu(v,g){return so.apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(v,g){return St(v,"POST","/v1/accounts:update",Lt(v,g))})).apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:signInWithPassword",Lt(v,g))})).apply(this,arguments)}function oo(v,g){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(v,g){return St(v,"POST","/v1/accounts:sendOobCode",Lt(v,g))})).apply(this,arguments)}function pn(v,g){return gu.apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(v,g){return oo(v,g)})).apply(this,arguments)}function wl(v,g){return gr.apply(this,arguments)}function gr(){return(gr=(0,l.Z)(function*(v,g){return oo(v,g)})).apply(this,arguments)}function _s(v,g){return mu.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(v,g){return oo(v,g)})).apply(this,arguments)}function kd(v,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(v,g){return oo(v,g)})).apply(this,arguments)}function Tc(){return(Tc=(0,l.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:signInWithEmailLink",Lt(v,g))})).apply(this,arguments)}function Fd(){return(Fd=(0,l.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:signInWithEmailLink",Lt(v,g))})).apply(this,arguments)}class Hi extends Jr{constructor(g,_,w,A=null){super("password",w),this._email=g,this._password=_,this._tenantId=A}static _fromEmailAndPassword(g,_){return new Hi(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new Hi(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function Cn(v,g){return Lo.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function vs(v,g){return Tc.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Pe(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Ea(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function _u(v,g){return Fd.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:Pe(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ao(v,g){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,l.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:signInWithIdp",Lt(v,g))})).apply(this,arguments)}class Fs extends Jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Fs(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Pe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:A}=_,P=(0,ae.__rest)(_,["providerId","signInMethod"]);if(!w||!A)return null;const J=new Fs(w,A);return J.idToken=P.idToken||void 0,J.accessToken=P.accessToken||void 0,J.secret=P.secret,J.nonce=P.nonce,J.pendingToken=P.pendingToken||null,J}_getIdTokenResponse(g){return ao(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,ao(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ao(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,F.xO)(_)}return g}}function gm(v,g){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,l.Z)(function*(v,g){return St(v,"POST","/v1/accounts:sendVerificationCode",Lt(v,g))})).apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:signInWithPhoneNumber",Lt(v,g))})).apply(this,arguments)}function Ud(){return(Ud=(0,l.Z)(function*(v,g){const _=yield rn(v,"POST","/v1/accounts:signInWithPhoneNumber",Lt(v,g));if(_.temporaryProof)throw Yr(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const _m={USER_NOT_FOUND:"user-not-found"};function Vd(){return(Vd=(0,l.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:signInWithPhoneNumber",Lt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),_m)})).apply(this,arguments)}class Ca extends Jr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new Ca({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new Ca({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function Dc(v,g){return lo.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function mm(v,g){return Ud.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function ym(v,g){return Vd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:A}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:A,temporaryProof:P}=g;return w||_||A||P?new Ca({verificationId:_,verificationCode:w,phoneNumber:A,temporaryProof:P}):null}}class yu{constructor(g){var _,w,A,P,J,me;const He=(0,F.zd)((0,F.pd)(g)),Qe=null!==(_=He.apiKey)&&void 0!==_?_:null,vt=null!==(w=He.oobCode)&&void 0!==w?w:null,ct=function Qf(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=He.mode)&&void 0!==A?A:null);H(Qe&&vt&&ct,"argument-error"),this.apiKey=Qe,this.operation=ct,this.code=vt,this.continueUrl=null!==(P=He.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(J=He.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(me=He.tenantId)&&void 0!==me?me:null}static parseLink(g){const _=function El(v){const g=(0,F.zd)((0,F.pd)(v)).link,_=g?(0,F.zd)((0,F.pd)(g)).deep_link_id:null,w=(0,F.zd)((0,F.pd)(v)).deep_link_id;return(w?(0,F.zd)((0,F.pd)(w)).link:null)||w||_||g||v}(g);try{return new yu(_)}catch(w){return null}}}let Hd=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,w){return Hi._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const A=yu.parseLink(w);return H(A,"argument-error"),Hi._fromEmailAndCode(_,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Gi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Bo extends Gi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class bs extends Bo{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return H("providerId"in _&&"signInMethod"in _,"argument-error"),Fs._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return H(g.idToken||g.accessToken,"argument-error"),Fs._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return bs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return bs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:P,nonce:J,providerId:me}=g;if(!w&&!A&&!_&&!P||!me)return null;try{return new bs(me)._credential({idToken:_,accessToken:w,nonce:J,pendingToken:P})}catch(He){return null}}}let Ta=(()=>{class v extends Bo{constructor(){super("facebook.com")}static credential(_){return Fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Gd=(()=>{class v extends Bo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:A}=_;if(!w&&!A)return null;try{return v.credential(w,A)}catch(P){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Xf=(()=>{class v extends Bo{constructor(){super("github.com")}static credential(_){return Fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Uo extends Jr{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return ao(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,ao(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,ao(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:A,pendingToken:P}=_;return w&&A&&P&&w===A?new Uo(w,P):null}static _create(g,_){return new Uo(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class er extends Gi{constructor(g){H(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return er.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return er.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=Uo.fromJSON(g);return H(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return Uo._create(w,_)}catch(A){return null}}}let $d=(()=>{class v extends Bo{constructor(){super("twitter.com")}static credential(_,w){return Fs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=_;if(!w||!A)return null;try{return v.credential(w,A)}catch(P){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function $i(v,g){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,l.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:signUp",Lt(v,g))})).apply(this,arguments)}class Br{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,A=!1){return(0,l.Z)(function*(){const P=yield wt._fromIdTokenResponse(g,w,A),J=Ic(w);return new Br({user:P,providerId:J,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const A=Ic(w);return new Br({user:g,providerId:A,_tokenResponse:w,operationType:_})})()}}function Ic(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Sc(){return(Sc=(0,l.Z)(function*(v){var g;const _=at(v);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Br({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield $i(_,{returnSecureToken:!0}),A=yield Br._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class Sa extends F.ZR{constructor(g,_,w,A){var P;super(_.code,_.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,Sa.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,A){return new Sa(g,_,w,A)}}function Ac(v,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Sa._fromErrorAndOperation(v,P,g,w):P})}function ws(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function cn(){return(cn=(0,l.Z)(function*(v,g){const _=(0,F.m9)(v);yield sn(!0,_,g);const{providerUserInfo:w}=yield Ln(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),A=ws(w||[]);return _.providerData=_.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Cl(v,g){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(v,g,_=!1){const w=yield Ui(v,g._linkToIdToken(v.auth,yield v.getIdToken()),_);return Br._forOperation(v,"link",w)})).apply(this,arguments)}function sn(v,g,_){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,l.Z)(function*(v,g,_){yield ji(g);const A=!1===v?"provider-already-linked":"no-such-provider";H(ws(g.providerData).has(_)===v,g.auth,A)})).apply(this,arguments)}function vu(v,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(v,g,_=!1){const{auth:w}=v,A="reauthenticate";try{const P=yield Ui(v,Ac(w,A,g,v),_);H(P.idToken,w,"internal-error");const J=st(P.idToken);H(J,w,"internal-error");const{sub:me}=J;return H(v.uid===me,w,"user-mismatch"),Br._forOperation(v,A,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Pe(w,"user-mismatch"),P}})).apply(this,arguments)}function Si(v,g){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,l.Z)(function*(v,g,_=!1){const w="signIn",A=yield Ac(v,w,g),P=yield Br._fromIdTokenResponse(v,w,A);return _||(yield v._updateCurrentUser(P.user)),P})).apply(this,arguments)}function xn(v,g){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(v,g){return Si(at(v),g)})).apply(this,arguments)}function Ai(v,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(v,g){const _=(0,F.m9)(v);return yield sn(!1,_,g.providerId),Cl(_,g)})).apply(this,arguments)}function Ls(v,g){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(v,g){return vu((0,F.m9)(v),g)})).apply(this,arguments)}function Qr(v,g){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(v,g){return rn(v,"POST","/v1/accounts:signInWithCustomToken",Lt(v,g))})).apply(this,arguments)}function ft(){return(ft=(0,l.Z)(function*(v,g){const _=at(v),w=yield Qr(_,{token:g,returnSecureToken:!0}),A=yield Br._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class Na{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?bu._fromServerResponse(g,_):Pe(g,"internal-error")}}class bu extends Na{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new bu(_)}}function Il(v,g,_){var w;H((null===(w=_.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),H(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(H(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(H(_.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Sl(){return(Sl=(0,l.Z)(function*(v,g,_){const w=(0,F.m9)(v),A={requestType:"PASSWORD_RESET",email:g};_&&Il(w,A,_),yield wl(w,A)})).apply(this,arguments)}function Oc(){return(Oc=(0,l.Z)(function*(v,g,_){yield $n((0,F.m9)(v),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(v,g){yield pu((0,F.m9)(v),{oobCode:g})})).apply(this,arguments)}function wu(v,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(v,g){const _=(0,F.m9)(v),w=yield $n(_,{oobCode:g}),A=w.requestType;switch(H(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":H(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":H(w.mfaInfo,_,"internal-error");default:H(w.email,_,"internal-error")}let P=null;return w.mfaInfo&&(P=Na._fromServerResponse(at(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(function*(v,g){const{data:_}=yield wu((0,F.m9)(v),g);return _.email})).apply(this,arguments)}function Al(){return(Al=(0,l.Z)(function*(v,g,_){const w=at(v),A=yield $i(w,{returnSecureToken:!0,email:g,password:_}),P=yield Br._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function Eu(){return(Eu=(0,l.Z)(function*(v,g,_){const w=(0,F.m9)(v),A={requestType:"EMAIL_SIGNIN",email:g};H(_.handleCodeInApp,w,"argument-error"),_&&Il(w,A,_),yield _s(w,A)})).apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(v,g,_){const w=(0,F.m9)(v),A=Hd.credentialWithLink(g,_||Xn());return H(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),xn(w,A)})).apply(this,arguments)}function Bs(v,g){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,l.Z)(function*(v,g){return St(v,"POST","/v1/accounts:createAuthUri",Lt(v,g))})).apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(v,g){const w={identifier:g,continueUri:Fn()?Xn():"http://localhost"},{signinMethods:A}=yield Bs((0,F.m9)(v),w);return A||[]})).apply(this,arguments)}function Tu(){return(Tu=(0,l.Z)(function*(v,g){const _=(0,F.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&Il(_.auth,A,g);const{email:P}=yield pn(_.auth,A);P!==v.email&&(yield v.reload())})).apply(this,arguments)}function Du(){return(Du=(0,l.Z)(function*(v,g,_){const w=(0,F.m9)(v),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};_&&Il(w.auth,P,_);const{email:J}=yield kd(w.auth,P);J!==v.email&&(yield v.reload())})).apply(this,arguments)}function xl(v,g){return xa.apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(v,g){return St(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(v,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,F.m9)(v),P={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},J=yield Ui(w,xl(w.auth,P));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const me=w.providerData.find(({providerId:He})=>"password"===He);me&&(me.displayName=w.displayName,me.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function Oa(v,g,_){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,l.Z)(function*(v,g,_){const{auth:w}=v,P={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(P.email=g),_&&(P.password=_);const J=yield Ui(v,Ea(w,P));yield v._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Ra{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class zd extends Ra{constructor(g,_,w,A){super(g,_,w),this.username=A}}class Pa extends Ra{constructor(g,_){super(g,"facebook.com",_)}}class Ts extends zd{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class tp extends Ra{constructor(g,_){super(g,"google.com",_)}}class _i extends zd{constructor(g,_,w){super(g,"twitter.com",_,w)}}function Ds(v){const{user:g,_tokenResponse:_}=v;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function qd(v){var g,_;if(!v)return null;const{providerId:w}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},P=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const J=null===(_=null===(g=st(v.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(J)return new Ra(P,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new Pa(P,A);case"github.com":return new Ts(P,A);case"google.com":return new tp(P,A);case"twitter.com":return new _i(P,A,v.screenName||null);case"custom":case"anonymous":return new Ra(P,null);default:return new Ra(P,w,A)}}(_)}class Us{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new Us("enroll",g)}static _fromMfaPendingCredential(g){return new Us("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Us._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return Us._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ka{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=at(g),A=_.customData._serverResponse,P=(A.mfaInfo||[]).map(me=>Na._fromServerResponse(w,me));H(A.mfaPendingCredential,w,"internal-error");const J=Us._fromMfaPendingCredential(A.mfaPendingCredential);return new ka(J,P,function(){var me=(0,l.Z)(function*(He){const Qe=yield He._process(w,J);delete A.mfaInfo,delete A.mfaPendingCredential;const vt=Object.assign(Object.assign({},A),{idToken:Qe.idToken,refreshToken:Qe.refreshToken});switch(_.operationType){case"signIn":const ct=yield Br._fromIdTokenResponse(w,_.operationType,vt);return yield w._updateCurrentUser(ct.user),ct;case"reauthenticate":return H(_.user,w,"internal-error"),Br._forOperation(_.user,_.operationType,vt);default:Pe(w,"internal-error")}});return function(He){return me.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function ip(v,g){return St(v,"POST","/v2/accounts/mfaEnrollment:start",Lt(v,g))}class Yd{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Na._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Yd(g)}getSession(){var g=this;return(0,l.Z)(function*(){return Us._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var w=this;return(0,l.Z)(function*(){const A=g,P=yield w.getSession(),J=yield Ui(w.user,A._process(w.user.auth,P,_));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const w="string"==typeof g?g:g.uid,A=yield _.user.getIdToken(),P=yield Ui(_.user,function Iu(v,g){return St(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(v,g))}(_.user.auth,{idToken:A,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:J})=>J!==w),yield _.user._updateTokensIfNecessary(P);try{yield _.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const Su=new WeakMap,$o="__sak";class Jd{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem($o,"1"),this.storage.removeItem($o),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Is=(()=>{class v extends Jd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Em(){const v=(0,F.z$)();return fu(v)||hr(v)}()&&function Ii(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=io(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),P=this.localCache[w];A!==P&&_(w,P,A)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((me,He,Qe)=>{this.notifyListeners(me,Qe)});const A=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(A);if(_.newValue!==me)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!w)return}const P=()=>{const me=this.storage.getItem(A);!w&&this.localCache[A]===me||this.notifyListeners(A,me)},J=this.storage.getItem(A);!function bl(){return(0,F.w1)()&&10===document.documentMode}()||J===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,w){this.localCache[_]=w;const A=this.listeners[_];if(A)for(const P of Array.from(A))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var A=()=>super._set,P=this;return(0,l.Z)(function*(){yield A().call(P,_,w),P.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,A=this;return(0,l.Z)(function*(){const P=yield w().call(A,_);return A.localCache[_]=JSON.stringify(P),P})()}_remove(_){var w=()=>super._remove,A=this;return(0,l.Z)(function*(){yield w().call(A,_),delete A.localCache[_]})()}}return v.type="LOCAL",v})(),Vr=(()=>{class v extends Jd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return v.type="SESSION",v})();let Mu=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(P=>P.isListeningto(_));if(w)return w;const A=new v(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const A=_,{eventId:P,eventType:J,data:me}=A.data,He=w.handlersMap[J];if(!(null==He?void 0:He.size))return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:J});const Qe=Array.from(He).map(function(){var ct=(0,l.Z)(function*(li){return li(A.origin,me)});return function(li){return ct.apply(this,arguments)}}()),vt=yield function Wo(v){return Promise.all(v.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(Qe);A.ports[0].postMessage({status:"done",eventId:P,eventType:J,response:vt})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function es(v="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return v+_}class Bc{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var A=this;return(0,l.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let J,me;return new Promise((He,Qe)=>{const vt=es("",20);P.port1.start();const ct=setTimeout(()=>{Qe(new Error("unsupported_event"))},w);me={messageChannel:P,onMessage(li){const Ns=li;if(Ns.data.eventId===vt)switch(Ns.data.status){case"ack":clearTimeout(ct),J=setTimeout(()=>{Qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),He(Ns.data.response);break;default:clearTimeout(ct),clearTimeout(J),Qe(new Error("invalid_response"))}}},A.handlers.add(me),P.port1.addEventListener("message",me.onMessage),A.target.postMessage({eventType:g,eventId:vt,data:_},[P.port2])}).finally(()=>{me&&A.removeMessageHandler(me)})})()}}function yt(){return window}function qo(){return void 0!==yt().WorkerGlobalScope&&"function"==typeof yt().importScripts}function xu(){return(xu=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const th="firebaseLocalStorageDb",mr="firebaseLocalStorage",dn="fbase_key";class et{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Wi(v,g){return v.transaction([mr],g?"readwrite":"readonly").objectStore(mr)}function zo(){const v=indexedDB.open(th,1);return new Promise((g,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(mr,{keyPath:dn})}catch(A){_(A)}}),v.addEventListener("success",(0,l.Z)(function*(){const w=v.result;w.objectStoreNames.contains(mr)?g(w):(w.close(),yield function nh(){const v=indexedDB.deleteDatabase(th);return new et(v).toPromise()}(),g(yield zo()))}))})}function Zo(v,g,_){return kl.apply(this,arguments)}function kl(){return(kl=(0,l.Z)(function*(v,g,_){const w=Wi(v,!0).put({[dn]:g,value:_});return new et(w).toPromise()})).apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(v,g){const _=Wi(v,!1).get(g),w=yield new et(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function qi(v,g){const _=Wi(v,!0).delete(g);return new et(_).toPromise()}const Ko=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield zo()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const P=yield w._openDb();return yield _(P)}catch(P){if(A++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return qo()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Mu._getInstance(function eh(){return qo()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(A,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(A,P){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,A;if(_.activeServiceWorker=yield function Qd(){return xu.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Bc(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Xd(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield zo();return yield Zo(_,$o,"1"),yield qi(_,$o),!0}catch(_){}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(P=>Zo(P,_,w)),A.localCache[_]=w,A.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const A=yield w._withRetries(P=>function Ou(v,g){return _r.apply(this,arguments)}(P,_));return w.localCache[_]=A,A})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(A=>qi(A,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(J=>{const me=Wi(J,!1).getAll();return new et(me).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:J,value:me}of w)P.add(J),JSON.stringify(_.localCache[J])!==JSON.stringify(me)&&(_.notifyListeners(J,me),A.push(J));for(const J of Object.keys(_.localCache))_.localCache[J]&&!P.has(J)&&(_.notifyListeners(J,null),A.push(J));return A})()}notifyListeners(_,w){this.localCache[_]=w;const A=this.listeners[_];if(A)for(const P of Array.from(A))P(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ru(v,g){return St(v,"POST","/v2/accounts/mfaSignIn:start",Lt(v,g))}function La(){return(La=(0,l.Z)(function*(v){return(yield St(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function tr(v){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=g,w.onerror=A=>{const P=Oe("internal-error");P.customData=A,_(P)},w.type="text/javascript",w.charset="UTF-8",function zn(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(w)})}function js(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Ba=1e12;class Yo{constructor(g){this.auth=g,this.counter=Ba,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new rp(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||Ba;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Ba))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(g||Ba))||void 0===w||w.execute(),""})()}}class rp{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;H(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pu(v){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Nn=js("rcb"),sp=new yn(3e4,6e4);class ih{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!yt().grecaptcha}load(g,_=""){return H(function op(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(yt().grecaptcha):new Promise((w,A)=>{const P=yt().setTimeout(()=>{A(Oe(g,"network-request-failed"))},sp.get());yt()[Nn]=()=>{yt().clearTimeout(P),delete yt()[Nn];const me=yt().grecaptcha;if(!me)return void A(Oe(g,"internal-error"));const He=me.render;me.render=(Qe,vt)=>{const ct=He(Qe,vt);return this.counter++,ct},this.hostLanguage=_,w(me)},tr(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:Nn,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),A(Oe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!yt().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rh{load(g){return(0,l.Z)(function*(){return new Yo(g)})()}clearedOneInstance(){}}const Vc="recaptcha",ap={theme:"light",type:"image"};class Bl{constructor(g,_=Object.assign({},ap),w){this.parameters=_,this.type=Vc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=at(w),this.isInvisible="invisible"===this.parameters.size,H("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;H(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rh:new ih,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(P=>{const J=me=>{!me||(g.tokenChangeListeners.delete(J),P(me))};g.tokenChangeListeners.add(J),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){H(!this.parameters.sitekey,this.auth,"argument-error"),H(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),H("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=yt()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){H(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){H(Fn()&&!qo(),g.auth,"internal-error"),yield function lp(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function ts(v){return La.apply(this,arguments)}(g.auth);H(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return H(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Rn{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=Ca._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function ho(){return(ho=(0,l.Z)(function*(v,g,_){const w=at(v),A=yield Jo(w,g,(0,F.m9)(_));return new Rn(A,P=>xn(w,P))})).apply(this,arguments)}function ku(){return(ku=(0,l.Z)(function*(v,g,_){const w=(0,F.m9)(v);yield sn(!1,w,"phone");const A=yield Jo(w.auth,g,(0,F.m9)(_));return new Rn(A,P=>Ai(w,P))})).apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(v,g,_){const w=(0,F.m9)(v),A=yield Jo(w.auth,g,(0,F.m9)(_));return new Rn(A,P=>Ls(w,P))})).apply(this,arguments)}function Jo(v,g,_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.Z)(function*(v,g,_){var w;const A=yield _.verify();try{let P;if(H("string"==typeof A,v,"argument-error"),H(_.type===Vc,v,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const J=P.session;if("phoneNumber"in P)return H("enroll"===J.type,v,"internal-error"),(yield ip(v,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{H("signin"===J.type,v,"internal-error");const me=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return H(me,v,"missing-multi-factor-info"),(yield Ru(v,{mfaPendingCredential:J.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield gm(v,{phoneNumber:P.phoneNumber,recaptchaToken:A});return J}}finally{_._reset()}})).apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(v,g){yield Cl((0,F.m9)(v),g)})).apply(this,arguments)}let po=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=at(_)}verifyPhoneNumber(_,w){return Jo(this.auth,_,(0,F.m9)(w))}static credential(_,w){return Ca._fromVerification(_,w)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:A}=_;return w&&A?Ca._fromTokenResponse(w,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function xi(v,g){return g?We(g):(H(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ai extends Jr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ao(g,this._buildIdpRequest())}_linkToIdToken(g,_){return ao(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return ao(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function jc(v){return Si(v.auth,new ai(v),v.bypassAuthState)}function Hc(v){const{auth:g,user:_}=v;return H(_,g,"internal-error"),vu(_,new ai(v),v.bypassAuthState)}function ns(v){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,l.Z)(function*(v){const{auth:g,user:_}=v;return H(_,g,"internal-error"),Cl(_,new ai(v),v.bypassAuthState)})).apply(this,arguments)}class Xo{constructor(g,_,w,A,P=!1){this.auth=g,this.resolver=w,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(w,A){g.pendingPromise={resolve:w,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(w,A){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:P,tenantId:J,error:me,type:He}=g;if(me)return void _.reject(me);const Qe={auth:_.auth,requestUri:w,sessionId:A,tenantId:J||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(He)(Qe))}catch(vt){_.reject(vt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return jc;case"linkViaPopup":case"linkViaRedirect":return ns;case"reauthViaPopup":case"reauthViaRedirect":return Hc;default:Pe(this.auth,"internal-error")}}resolve(g){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Ne(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sh=new yn(2e3,1e4);function go(){return(go=(0,l.Z)(function*(v,g,_){const w=at(v);ge(v,g,Gi);const A=xi(w,_);return new $c(w,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(v,g,_){const w=(0,F.m9)(v);ge(w.auth,g,Gi);const A=xi(w.auth,_);return new $c(w.auth,"reauthViaPopup",g,A,w).executeNotNull()})).apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(v,g,_){const w=(0,F.m9)(v);ge(w.auth,g,Gi);const A=xi(w.auth,_);return new $c(w.auth,"linkViaPopup",g,A,w).executeNotNull()})).apply(this,arguments)}let $c=(()=>{class v extends Xo{constructor(_,w,A,P,J){super(_,w,P,J),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return H(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){Ne(1===_.filter.length,"Popup operations only handle one event");const w=es();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(Oe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,sh.get())};_()}}return v.currentPopupAction=null,v})();const ea=new Map;class OE extends Xo{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=ea.get(_.auth._key());if(!w){try{const P=(yield function Ua(v,g){return Va.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(P)}catch(A){w=()=>Promise.reject(A)}ea.set(_.auth._key(),w)}return _.bypassAuthState||ea.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const A=yield w.auth._redirectUserForId(g.eventId);if(A)return w.user=A,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Va(){return(Va=(0,l.Z)(function*(v,g){const _=V(g),w=R(v);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(_));return yield w._remove(_),A})).apply(this,arguments)}function ja(v,g){return oh.apply(this,arguments)}function oh(){return(oh=(0,l.Z)(function*(v,g){return R(v)._set(V(g),"true")})).apply(this,arguments)}function S(v,g){ea.set(v._key(),g)}function R(v){return We(v._redirectPersistence)}function V(v){return ri("pendingRedirect",v.config.apiKey,v.name)}function Ie(){return(Ie=(0,l.Z)(function*(v,g,_){const w=at(v);ge(v,g,Gi);const A=xi(w,_);return yield ja(A,w),A._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(v,g,_){const w=(0,F.m9)(v);ge(w.auth,g,Gi);const A=xi(w.auth,_);yield ja(A,w.auth);const P=yield ah(w);return A._openRedirect(w.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(v,g,_){const w=(0,F.m9)(v);ge(w.auth,g,Gi);const A=xi(w.auth,_);yield sn(!1,w,g.providerId),yield ja(A,w.auth);const P=yield ah(w);return A._openRedirect(w.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function Hl(){return(Hl=(0,l.Z)(function*(v,g){return yield at(v)._initializationPromise,is(v,g,!1)})).apply(this,arguments)}function is(v,g){return br.apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(v,g,_=!1){const w=at(v),A=xi(w,g),J=yield new OE(w,A,_).execute();return J&&!_&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,g)),J})).apply(this,arguments)}function ah(v){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(v){const g=es(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Ss{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function xv(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yo(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!yo(g)){const A=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(Oe(this.auth,A))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ss(g))}saveEventToCache(g){this.cachedEventUids.add(ss(g)),this.lastProcessedEventTime=Date.now()}}function ss(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function yo({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function lh(v){return $l.apply(this,arguments)}function $l(){return($l=(0,l.Z)(function*(v,g={}){return St(v,"GET","/v1/projects",g)})).apply(this,arguments)}const ta=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vo=/^https?/;function Sm(){return(Sm=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield lh(v);for(const _ of g)try{if(uh(_))return}catch(w){}Pe(v,"unauthorized-domain")})).apply(this,arguments)}function uh(v){const g=Xn(),{protocol:_,hostname:w}=new URL(g);if(v.startsWith("chrome-extension://")){const J=new URL(v);return""===J.hostname&&""===w?"chrome-extension:"===_&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&J.hostname===w}if(!vo.test(_))return!1;if(ta.test(v))return w===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const Am=new yn(3e4,6e4);function cp(){const v=yt().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let Wl=null;function Mm(v){return Wl=Wl||function Nm(v){return new Promise((g,_)=>{var w,A,P;function J(){cp(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{cp(),_(Oe(v,"network-request-failed"))},timeout:Am.get()})}if(null===(A=null===(w=yt().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)g(gapi.iframes.getContext());else{if(!(null===(P=yt().gapi)||void 0===P?void 0:P.load)){const me=js("iframefcb");return yt()[me]=()=>{gapi.load?J():_(Oe(v,"network-request-failed"))},tr(`https://apis.google.com/js/api.js?onload=${me}`).catch(He=>_(He))}J()}}).catch(g=>{throw Wl=null,g})}(v),Wl}const Lu=new yn(5e3,15e3),xm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Om=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rm(v){const g=v.config;H(g.authDomain,v,"auth-domain-config-required");const _=g.emulator?vn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:v.name,v:le.SDK_VERSION},A=Om.get(v.config.apiHost);A&&(w.eid=A);const P=v._getFrameworks();return P.length&&(w.fw=P.join(",")),`${_}?${(0,F.xO)(w).slice(1)}`}function zl(){return zl=(0,l.Z)(function*(v){const g=yield Mm(v),_=yt().gapi;return H(_,v,"internal-error"),g.open({where:document.body,url:Rm(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xm,dontclear:!0},w=>new Promise(function(){var A=(0,l.Z)(function*(P,J){yield w.restyle({setHideOnLeave:!1});const me=Oe(v,"network-request-failed"),He=yt().setTimeout(()=>{J(me)},Lu.get());function Qe(){yt().clearTimeout(He),P(w)}w.ping(Qe).then(Qe,()=>{J(me)})});return function(P,J){return A.apply(this,arguments)}}()))}),zl.apply(this,arguments)}const Pm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ov{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Ga(v,g,_,w,A,P){H(v.config.authDomain,v,"auth-domain-config-required"),H(v.config.apiKey,v,"invalid-api-key");const J={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:w,v:le.SDK_VERSION,eventId:A};if(g instanceof Gi){g.setDefaultLanguage(v.languageCode),J.providerId=g.providerId||"",(0,F.xb)(g.getCustomParameters())||(J.customParameters=JSON.stringify(g.getCustomParameters()));for(const[He,Qe]of Object.entries(P||{}))J[He]=Qe}if(g instanceof Bo){const He=g.getScopes().filter(Qe=>""!==Qe);He.length>0&&(J.scopes=He.join(","))}v.tenantId&&(J.tid=v.tenantId);const me=J;for(const He of Object.keys(me))void 0===me[He]&&delete me[He];return`${function Rv({config:v}){return v.emulator?vn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,F.xO)(me).slice(1)}`}const hp="webStorageSupport";class fp extends class FE{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return oe("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new fp(g)}_finalizeEnroll(g,_,w){return function Go(v,g){return St(v,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(v,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Vs(v,g){return St(v,"POST","/v2/accounts/mfaSignIn:finalize",Lt(v,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Um=(()=>{class v{constructor(){}static assertion(_){return fp._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var Pv="@firebase/auth";class kv{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{var A;g((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gs(){return window}function Zl(){return(Zl=(0,l.Z)(function*(v,g,_){var w;const{BuildInfo:A}=Gs();Ne(g.sessionId,"AuthEvent did not contain a session ID");const P=yield gp(g.sessionId),J={};return hr()?J.ibi=A.packageName:Qi()?J.apn=A.packageName:Pe(v,"operation-not-supported-in-this-environment"),A.displayName&&(J.appDisplayName=A.displayName),J.sessionId=P,Ga(v,_,g.type,void 0,null!==(w=g.eventId)&&void 0!==w?w:void 0,J)})).apply(this,arguments)}function dh(){return(dh=(0,l.Z)(function*(v){const{BuildInfo:g}=Gs(),_={};hr()?_.iosBundleId=g.packageName:Qi()?_.androidPackageName=g.packageName:Pe(v,"operation-not-supported-in-this-environment"),yield lh(v,_)})).apply(this,arguments)}function fh(){return(fh=(0,l.Z)(function*(v,g,_){const{cordova:w}=Gs();let A=()=>{};try{yield new Promise((P,J)=>{let me=null;function He(){var ct;P();const li=null===(ct=w.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof li&&li(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Qe(){me||(me=window.setTimeout(()=>{J(Oe(v,"redirect-cancelled-by-user"))},2e3))}function vt(){"visible"===(null==document?void 0:document.visibilityState)&&Qe()}g.addPassiveListener(He),document.addEventListener("resume",Qe,!1),Qi()&&document.addEventListener("visibilitychange",vt,!1),A=()=>{g.removePassiveListener(He),document.removeEventListener("resume",Qe,!1),document.removeEventListener("visibilitychange",vt,!1),me&&window.clearTimeout(me)}})}finally{A()}})).apply(this,arguments)}function gp(v){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,l.Z)(function*(v){const g=mp(v),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function mp(v){if(Ne(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),_=new Uint8Array(g);for(let w=0;w<v.length;w++)_[w]=v.charCodeAt(w);return _}!function LE(v){(0,le._registerComponent)(new re.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:P,authDomain:J}=w.options;return((me,He)=>{H(P&&!P.includes(":"),"invalid-api-key",{appName:me.name}),H(!(null==J?void 0:J.includes(":")),"argument-error",{appName:me.name});const Qe={apiKey:P,authDomain:J,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wa(v)},vt=new Ye(me,He,Qe);return function Ge(v,g){const _=(null==g?void 0:g.persistence)||[],w=(Array.isArray(_)?_:[_]).map(We);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(vt,_),vt})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new re.wA("auth-internal",g=>{const _=at(g.getProvider("auth").getImmediate());return new kv(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(Pv,"0.20.3",function Vm(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,le.registerVersion)(Pv,"0.20.3","esm2017")}("Browser");class UE extends Ss{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,l.Z)(function*(){yield g.initPromise})()}}function Gm(v){return ph.apply(this,arguments)}function ph(){return(ph=(0,l.Z)(function*(v){const g=yield $a()._get(gh(v));return g&&(yield $a()._remove(gh(v))),g})).apply(this,arguments)}function Vv(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const w=Math.floor(Math.random()*g.length);v.push(g.charAt(w))}return v.join("")}function $a(){return We(Is)}function gh(v){return ri("authEvent",v.config.apiKey,v.name)}function Pn(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,..._]=v.split("?");return(0,F.zd)(_.join("?"))}function _p(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Oe("no-auth-event")}}function Vu(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function yp(v=(0,F.z$)()){return!("file:"!==Vu()&&"ionic:"!==Vu()&&"capacitor:"!==Vu()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function wp(){try{const v=self.localStorage,g=es();if(v)return v.setItem(g,"1"),v.removeItem(g),!function bp(v=(0,F.z$)()){return function ir(){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)}()||function vp(v=(0,F.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,F.hl)()}catch(v){return vi()&&(0,F.hl)()}return!1}function vi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ju(){return(function VE(){return"http:"===Vu()||"https:"===Vu()}()||(0,F.ru)()||yp())&&!function Kc(){return(0,F.b$)()||(0,F.UG)()}()&&wp()&&!vi()}function Ep(){return yp()&&"undefined"!=typeof document}function Cp(){return(Cp=(0,l.Z)(function*(){return!!Ep()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const As={LOCAL:"local",NONE:"none",SESSION:"session"},Yc=H,Wv="persistence";function ni(v){return ut.apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(v){yield v._initializationPromise;const g=Qc(),_=ri(Wv,v.config.apiKey,v.name);g&&g.setItem(_,v._getPersistence())})).apply(this,arguments)}function Qc(){var v;try{return(null===(v=function Tp(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const Ri=H;class hn{constructor(){this.browserResolver=We(class Lm{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vr,this._completeRedirectFn=is,this._overrideRedirectResult=S}_openPopup(g,_,w,A){var P=this;return(0,l.Z)(function*(){var J;Ne(null===(J=P.eventManagers[g._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const me=Ga(g,_,w,Xn(),A);return function RE(v,g,_,w=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let me="";const He=Object.assign(Object.assign({},Pm),{width:w.toString(),height:A.toString(),top:P,left:J}),Qe=(0,F.z$)().toLowerCase();_&&(me=vl(Qe)?"_blank":_),yl(Qe)&&(g=g||"http://localhost",He.scrollbars="yes");const vt=Object.entries(He).reduce((li,[Ns,_e])=>`${li}${Ns}=${_e},`,"");if(function Fo(v=(0,F.z$)()){var g;return hr(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Qe)&&"_self"!==me)return function PE(v,g){const _=document.createElement("a");_.href=v,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",me),new Ov(null);const ct=window.open(g||"",me,vt);H(ct,v,"popup-blocked");try{ct.focus()}catch(li){}return new Ov(ct)}(g,me,es())})()}_openRedirect(g,_,w,A){var P=this;return(0,l.Z)(function*(){return yield P._originValidation(g),function On(v){yt().location.href=v}(Ga(g,_,w,Xn(),A)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:A,promise:P}=this.eventManagers[_];return A?Promise.resolve(A):(Ne(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const w=yield function qc(v){return zl.apply(this,arguments)}(g),A=new Ss(g);return w.register("authEvent",P=>(H(null==P?void 0:P.authEvent,g,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:A},_.iframes[g._key()]=w,A})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(hp,{type:hp},A=>{var P;const J=null===(P=null==A?void 0:A[0])||void 0===P?void 0:P[hp];void 0!==J&&_(!!J),Pe(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Wc(v){return Sm.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return io()||fu()||hr()}}),this.cordovaResolver=We(class Hv{constructor(){this._redirectPersistence=Vr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=is,this._overrideRedirectResult=S}_initialize(g){var _=this;return(0,l.Z)(function*(){const w=g._key();let A=_.eventManagers.get(w);return A||(A=new UE(g),_.eventManagers.set(w,A),_.attachCallbackListeners(g,A)),A})()}_openPopup(g){Pe(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,w,A){var P=this;return(0,l.Z)(function*(){!function Lv(v){var g,_,w,A,P,J,me,He,Qe,vt;const ct=Gs();H("function"==typeof(null===(g=null==ct?void 0:ct.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),H(void 0!==(null===(_=null==ct?void 0:ct.BuildInfo)||void 0===_?void 0:_.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),H("function"==typeof(null===(P=null===(A=null===(w=null==ct?void 0:ct.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(He=null===(me=null===(J=null==ct?void 0:ct.cordova)||void 0===J?void 0:J.plugins)||void 0===me?void 0:me.browsertab)||void 0===He?void 0:He.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),H("function"==typeof(null===(vt=null===(Qe=null==ct?void 0:ct.cordova)||void 0===Qe?void 0:Qe.InAppBrowser)||void 0===vt?void 0:vt.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const J=yield P._initialize(g);yield J.initialized(),J.resetRedirect(),function I(){ea.clear()}(),yield P._originValidation(g);const me=function Zc(v,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:Vv(),postBody:null,tenantId:v.tenantId,error:Oe(v,"no-auth-event")}}(g,w,A);yield function Hm(v,g){return $a()._set(gh(v),g)}(g,me);const He=yield function $s(v,g,_){return Zl.apply(this,arguments)}(g,me,_),Qe=yield function hh(v){const{cordova:g}=Gs();return new Promise(_=>{g.plugins.browsertab.isAvailable(w=>{let A=null;w?g.plugins.browsertab.openUrl(v):A=g.InAppBrowser.open(v,function Pd(v=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),_(A)})})}(He);return function BE(v,g,_){return fh.apply(this,arguments)}(g,J,Qe)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function ch(v){return dh.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:w,handleOpenURL:A,BuildInfo:P}=Gs(),J=setTimeout((0,l.Z)(function*(){yield Gm(g),_.onEvent(_p())}),500),me=function(){var vt=(0,l.Z)(function*(ct){clearTimeout(J);const li=yield Gm(g);let Ns=null;li&&(null==ct?void 0:ct.url)&&(Ns=function Uv(v,g){var _,w;const A=function jv(v){const g=Pn(v),_=g.link?decodeURIComponent(g.link):void 0,w=Pn(_).link,A=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Pn(A).link||A||w||_||v}(g);if(A.includes("/__/auth/callback")){const P=Pn(A),J=P.firebaseError?function mh(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(P.firebaseError)):null,me=null===(w=null===(_=null==J?void 0:J.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],He=me?Oe(me):null;return He?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(li,ct.url)),_.onEvent(Ns||_p())});return function(li){return vt.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,me);const He=A,Qe=`${P.packageName.toLowerCase()}://`;Gs().handleOpenURL=function(){var vt=(0,l.Z)(function*(ct){if(ct.toLowerCase().startsWith(Qe)&&me({url:ct}),"function"==typeof He)try{He(ct)}catch(li){console.error(li)}});return function(ct){return vt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Vr,this._completeRedirectFn=is,this._overrideRedirectResult=S}_initialize(g){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,w,A){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(g,_,w,A)})()}_openRedirect(g,_,w,A){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(g,_,w,A)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Ep()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ri(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,l.Z)(function*(){if(g.underlyingResolver)return;const _=yield function jE(){return Cp.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function Dp(v){return v.unwrap()}function vh(v){return Pi(v)}function Pi(v){const{_tokenResponse:g}=v instanceof F.ZR?v.customData:v;if(!g)return null;if(!(v instanceof F.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return po.credentialFromResult(v);const _=g.providerId;if(!_||"password"===_)return null;let w;switch(_){case"google.com":w=Gd;break;case"facebook.com":w=Ta;break;case"github.com":w=Xf;break;case"twitter.com":w=$d;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:J,pendingToken:me,nonce:He}=g;return P||J||A||me?me?_.startsWith("saml.")?Uo._create(_,me):Fs._fromParams({providerId:_,signInMethod:_,pendingToken:me,idToken:A,accessToken:P}):new bs(_).credential({idToken:A,accessToken:P,rawNonce:He}):null}return v instanceof F.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function gn(v,g){return g.catch(_=>{throw _ instanceof F.ZR&&function bh(v,g){var _;const w=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new qm(v,function yi(v,g){var _;const w=(0,F.m9)(v),A=g;return H(g.customData.operationType,w,"argument-error"),H(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),ka._fromError(w,A)}(v,g));else if(w){const A=Pi(g),P=g;A&&(P.credential=A,P.tenantId=w.tenantId||void 0,P.email=w.email||void 0,P.phoneNumber=w.phoneNumber||void 0)}}(v,_),_}).then(_=>{const A=_.user;return{operationType:_.operationType,credential:vh(_),additionalUserInfo:Ds(_),user:jr.getOrCreate(A)}})}function wh(v,g){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,l.Z)(function*(v,g){const _=yield g;return{verificationId:_.verificationId,confirm:w=>gn(v,_.confirm(w))}})).apply(this,arguments)}class qm{constructor(g,_){this.resolver=_,this.auth=function Wm(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return gn(Dp(this.auth),this.resolver.resolveSignIn(g))}}class jr{constructor(g){this._delegate=g,this.multiFactor=function Au(v){const g=(0,F.m9)(v);return Su.has(g)||Su.set(g,Yd._fromUser(g)),Su.get(g)}(g)}static getOrCreate(g){return jr.USER_MAP.has(g)||jr.USER_MAP.set(g,new jr(g)),jr.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,l.Z)(function*(){return gn(_.auth,Ai(_._delegate,g))})()}linkWithPhoneNumber(g,_){var w=this;return(0,l.Z)(function*(){return wh(w.auth,function up(v,g,_){return ku.apply(this,arguments)}(w._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,l.Z)(function*(){return gn(_.auth,function Im(v,g,_){return mo.apply(this,arguments)}(_._delegate,g,hn))})()}linkWithRedirect(g){var _=this;return(0,l.Z)(function*(){return yield ni(at(_.auth)),function qt(v,g,_){return function pt(v,g,_){return Oi.apply(this,arguments)}(v,g,_)}(_._delegate,g,hn)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,l.Z)(function*(){return gn(_.auth,Ls(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return wh(this.auth,function yr(v,g,_){return nr.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return gn(this.auth,function Fu(v,g,_){return Gc.apply(this,arguments)}(this._delegate,g,hn))}reauthenticateWithRedirect(g){var _=this;return(0,l.Z)(function*(){return yield ni(at(_.auth)),function Ve(v,g,_){return function Ct(v,g,_){return Bt.apply(this,arguments)}(v,g,_)}(_._delegate,g,hn)})()}sendEmailVerification(g){return function Pc(v,g){return Tu.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,l.Z)(function*(){return yield function ep(v,g){return cn.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function bm(v,g){return Oa((0,F.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function Lc(v,g){return Oa((0,F.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function fo(v,g){return Qo.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function Fc(v,g){return Ol.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function kc(v,g,_){return Du.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jr.USER_MAP=new WeakMap;const Ws=H;let qs=(()=>{class v{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=_.options;Ws(A,"invalid-api-key",{appName:_.name}),Ws(A,"invalid-api-key",{appName:_.name});const P="undefined"!=typeof window?hn:void 0;this._delegate=w.initialize({options:{persistence:Sp(A,_.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Re),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function pr(v,g,_){const w=at(v);H(w._canInitEmulator,w,"emulator-config-failed"),H(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const A=!!(null==_?void 0:_.disableWarnings),P=gs(g),{host:J,port:me}=function ti(v){const g=gs(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const P=A[1];return{host:P,port:ms(w.substr(P.length+1))}}{const[P,J]=w.split(":");return{host:P,port:ms(J)}}}(g);w.config.emulator={url:`${P}//${J}${null===me?"":`:${me}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:me,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function En(){function v(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,_,w)}applyActionCode(_){return function De(v,g){return Ut.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return wu(this._delegate,_)}confirmPasswordReset(_,w){return function xc(v,g,_){return Oc.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var A=this;return(0,l.Z)(function*(){return gn(A._delegate,function Ur(v,g,_){return Al.apply(this,arguments)}(A._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function co(v,g){return Xr.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Nl(v,g){const _=yu.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,l.Z)(function*(){Ws(ju(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function vr(v,g){return Hl.apply(this,arguments)}(_._delegate,hn);return w?gn(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function $m(v,g){at(v)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,w,A){const{next:P,error:J,complete:me}=Ip(_,w,A);return this._delegate.onAuthStateChanged(P,J,me)}onIdTokenChanged(_,w,A){const{next:P,error:J,complete:me}=Ip(_,w,A);return this._delegate.onIdTokenChanged(P,J,me)}sendSignInLinkToEmail(_,w){return function vm(v,g,_){return Eu.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function Mc(v,g,_){return Sl.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,l.Z)(function*(){let A;switch(function qv(v,g){Yc(Object.values(As).includes(g),v,"invalid-persistence-type"),(0,F.b$)()?Yc(g!==As.SESSION,v,"unsupported-persistence-type"):(0,F.UG)()?Yc(g===As.NONE,v,"unsupported-persistence-type"):vi()?Yc(g===As.NONE||g===As.LOCAL&&(0,F.hl)(),v,"unsupported-persistence-type"):Yc(g===As.NONE||wp(),v,"unsupported-persistence-type")}(w._delegate,_),_){case As.SESSION:A=Vr;break;case As.LOCAL:A=(yield We(Ko)._isAvailable())?Ko:Is;break;case As.NONE:A=Et;break;default:return Pe("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return gn(this._delegate,function Wd(v){return Sc.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return gn(this._delegate,xn(this._delegate,_))}signInWithCustomToken(_){return gn(this._delegate,function Aa(v,g){return ft.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return gn(this._delegate,function Rc(v,g,_){return xn((0,F.m9)(v),Hd.credential(g,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return gn(this._delegate,function Cu(v,g,_){return Wn.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return wh(this._delegate,function Ul(v,g,_){return ho.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,l.Z)(function*(){return Ws(ju(),w._delegate,"operation-not-supported-in-this-environment"),gn(w._delegate,function jl(v,g,_){return go.apply(this,arguments)}(w._delegate,_,hn))})()}signInWithRedirect(_){var w=this;return(0,l.Z)(function*(){return Ws(ju(),w._delegate,"operation-not-supported-in-this-environment"),yield ni(w._delegate),function Q(v,g,_){return function ce(v,g,_){return Ie.apply(this,arguments)}(v,g,_)}(w._delegate,_,hn)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function Ma(v,g){return Ho.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=As,v})();function Ip(v,g,_){let w=v;"function"!=typeof v&&({next:w,error:g,complete:_}=v);const A=w;return{next:J=>A(J&&jr.getOrCreate(J)),error:g,complete:_}}function Sp(v,g){const _=function Jc(v,g){const _=Qc();if(!_)return[];const w=ri(Wv,v,g);switch(_.getItem(w)){case As.NONE:return[Et];case As.LOCAL:return[Ko,Vr];case As.SESSION:return[Vr];default:return[]}}(v,g);if("undefined"!=typeof self&&!_.includes(Ko)&&_.push(Ko),"undefined"!=typeof window)for(const w of[Is,Vr])_.includes(w)||_.push(w);return _.includes(Et)||_.push(Et),_}class Zt{constructor(){this.providerId="phone",this._delegate=new po(Dp(z.Z.auth()))}static credential(g,_){return po.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Zt.PHONE_SIGN_IN_METHOD=po.PHONE_SIGN_IN_METHOD,Zt.PROVIDER_ID=po.PROVIDER_ID;const zm=H;class Ch{constructor(g,_,w=z.Z.app()){var A;zm(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Bl(g,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function na(v){v.INTERNAL.registerComponent(new re.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),w=g.getProvider("auth");return new qs(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hd,FacebookAuthProvider:Ta,GithubAuthProvider:Xf,GoogleAuthProvider:Gd,OAuthProvider:bs,SAMLAuthProvider:er,PhoneAuthProvider:Zt,PhoneMultiFactorGenerator:Um,RecaptchaVerifier:Ch,TwitterAuthProvider:$d,Auth:qs,AuthCredential:Jr,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.16")}(z.Z)},8306:(Je,he,k)=>{"use strict";k.d(he,{y:()=>j});var l=k(930),z=k(727),F=k(8822),le=k(4671);var re=k(2416),ee=k(576),se=k(2806);let j=(()=>{class Ce{constructor(je){je&&(this._subscribe=je)}lift(je){const ye=new Ce;return ye.source=this,ye.operator=je,ye}subscribe(je,ye,ve){const Te=function Ue(Ce){return Ce&&Ce instanceof l.Lv||function ne(Ce){return Ce&&(0,ee.m)(Ce.next)&&(0,ee.m)(Ce.error)&&(0,ee.m)(Ce.complete)}(Ce)&&(0,z.Nn)(Ce)}(je)?je:new l.Hp(je,ye,ve);return(0,se.x)(()=>{const{operator:Be,source:Pe}=this;Te.add(Be?Be.call(Te,Pe):Pe?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(je){try{return this._subscribe(je)}catch(ye){je.error(ye)}}forEach(je,ye){return new(ye=G(ye))((ve,Te)=>{let Be;Be=this.subscribe(Pe=>{try{je(Pe)}catch(Oe){Te(Oe),null==Be||Be.unsubscribe()}},Te,ve)})}_subscribe(je){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(je)}[F.L](){return this}pipe(...je){return function te(Ce){return 0===Ce.length?le.y:1===Ce.length?Ce[0]:function(je){return Ce.reduce((ye,ve)=>ve(ye),je)}}(je)(this)}toPromise(je){return new(je=G(je))((ye,ve)=>{let Te;this.subscribe(Be=>Te=Be,Be=>ve(Be),()=>ye(Te))})}}return Ce.create=Re=>new Ce(Re),Ce})();function G(Ce){var Re;return null!==(Re=null!=Ce?Ce:re.v.Promise)&&void 0!==Re?Re:Promise}},7579:(Je,he,k)=>{"use strict";k.d(he,{x:()=>re});var l=k(8306),z=k(727);const le=(0,k(3888).d)(se=>function(){se(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=k(8737),te=k(2806);let re=(()=>{class se extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ne=new ee(this,this);return ne.operator=G,ne}_throwIfClosed(){if(this.closed)throw new le}next(G){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ne=this.observers.slice();for(const Ue of ne)Ue.next(G)}})}error(G){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ne}=this;for(;ne.length;)ne.shift().error(G)}})}complete(){(0,te.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ne,isStopped:Ue,observers:Ce}=this;return ne||Ue?z.Lc:(Ce.push(G),new z.w0(()=>(0,ae.P)(Ce,G)))}_checkFinalizedStatuses(G){const{hasError:ne,thrownError:Ue,isStopped:Ce}=this;ne?G.error(Ue):Ce&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return se.create=(j,G)=>new ee(j,G),se})();class ee extends re{constructor(j,G){super(),this.destination=j,this.source=G}next(j){var G,ne;null===(ne=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ne||ne.call(G,j)}error(j){var G,ne;null===(ne=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ne||ne.call(G,j)}complete(){var j,G;null===(G=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===G||G.call(j)}_subscribe(j){var G,ne;return null!==(ne=null===(G=this.source)||void 0===G?void 0:G.subscribe(j))&&void 0!==ne?ne:z.Lc}}},930:(Je,he,k)=>{"use strict";k.d(he,{Hp:()=>Ue,Lv:()=>ne});var l=k(576),z=k(727),F=k(2416),le=k(7849),ae=k(5032);const te=se("C",void 0,void 0);function se(ve,Te,Be){return{kind:ve,value:Te,error:Be}}var j=k(3410),G=k(2806);class ne extends z.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,z.Nn)(Te)&&Te.add(this)):this.destination=ye}static create(Te,Be,Pe){return new Ue(Te,Be,Pe)}next(Te){this.isStopped?je(function ee(ve){return se("N",ve,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?je(function re(ve){return se("E",void 0,ve)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?je(te,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ue extends ne{constructor(Te,Be,Pe){let Oe;if(super(),(0,l.m)(Te))Oe=Te;else if(Te){let we;({next:Oe,error:Be,complete:Pe}=Te),this&&F.v.useDeprecatedNextContext?(we=Object.create(Te),we.unsubscribe=()=>this.unsubscribe()):we=Te,Oe=null==Oe?void 0:Oe.bind(we),Be=null==Be?void 0:Be.bind(we),Pe=null==Pe?void 0:Pe.bind(we)}this.destination={next:Oe?Ce(Oe):ae.Z,error:Ce(null!=Be?Be:Re),complete:Pe?Ce(Pe):ae.Z}}}function Ce(ve,Te){return(...Be)=>{try{ve(...Be)}catch(Pe){F.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Pe):(0,le.h)(Pe)}}}function Re(ve){throw ve}function je(ve,Te){const{onStoppedNotification:Be}=F.v;Be&&j.z.setTimeout(()=>Be(ve,Te))}const ye={closed:!0,next:ae.Z,error:Re,complete:ae.Z}},727:(Je,he,k)=>{"use strict";k.d(he,{Lc:()=>te,w0:()=>ae,Nn:()=>re});var l=k(576);const F=(0,k(3888).d)(se=>function(G){se(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ne,Ue)=>`${Ue+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var le=k(8737);class ae{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Ce of G)Ce.remove(this);else G.remove(this);const{initialTeardown:ne}=this;if((0,l.m)(ne))try{ne()}catch(Ce){j=Ce instanceof F?Ce.errors:[Ce]}const{_teardowns:Ue}=this;if(Ue){this._teardowns=null;for(const Ce of Ue)try{ee(Ce)}catch(Re){j=null!=j?j:[],Re instanceof F?j=[...j,...Re.errors]:j.push(Re)}}if(j)throw new F(j)}}add(j){var G;if(j&&j!==this)if(this.closed)ee(j);else{if(j instanceof ae){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._teardowns=null!==(G=this._teardowns)&&void 0!==G?G:[]).push(j)}}_hasParent(j){const{_parentage:G}=this;return G===j||Array.isArray(G)&&G.includes(j)}_addParent(j){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(j),G):G?[G,j]:j}_removeParent(j){const{_parentage:G}=this;G===j?this._parentage=null:Array.isArray(G)&&(0,le.P)(G,j)}remove(j){const{_teardowns:G}=this;G&&(0,le.P)(G,j),j instanceof ae&&j._removeParent(this)}}ae.EMPTY=(()=>{const se=new ae;return se.closed=!0,se})();const te=ae.EMPTY;function re(se){return se instanceof ae||se&&"closed"in se&&(0,l.m)(se.remove)&&(0,l.m)(se.add)&&(0,l.m)(se.unsubscribe)}function ee(se){(0,l.m)(se)?se():se.unsubscribe()}},2416:(Je,he,k)=>{"use strict";k.d(he,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Je,he,k)=>{"use strict";k.d(he,{E:()=>z});const z=new(k(8306).y)(ae=>ae.complete())},8996:(Je,he,k)=>{"use strict";k.d(he,{D:()=>Oe});var l=k(8421),z=k(5363),F=k(9468),te=k(8306),ee=k(2202),se=k(576),j=k(9672);function ne(we,ge){if(!we)throw new Error("Iterable cannot be null");return new te.y(fe=>{(0,j.f)(fe,ge,()=>{const H=we[Symbol.asyncIterator]();(0,j.f)(fe,ge,()=>{H.next().then(oe=>{oe.done?fe.complete():fe.next(oe.value)})},0,!0)})})}var Ue=k(3670),Ce=k(8239),Re=k(1144),je=k(6495),ye=k(2206),ve=k(4532),Te=k(3260);function Oe(we,ge){return ge?function Pe(we,ge){if(null!=we){if((0,Ue.c)(we))return function le(we,ge){return(0,l.Xf)(we).pipe((0,F.R)(ge),(0,z.Q)(ge))}(we,ge);if((0,Re.z)(we))return function re(we,ge){return new te.y(fe=>{let H=0;return ge.schedule(function(){H===we.length?fe.complete():(fe.next(we[H++]),fe.closed||this.schedule())})})}(we,ge);if((0,Ce.t)(we))return function ae(we,ge){return(0,l.Xf)(we).pipe((0,F.R)(ge),(0,z.Q)(ge))}(we,ge);if((0,ye.D)(we))return ne(we,ge);if((0,je.T)(we))return function G(we,ge){return new te.y(fe=>{let H;return(0,j.f)(fe,ge,()=>{H=we[ee.h](),(0,j.f)(fe,ge,()=>{let oe,Ne;try{({value:oe,done:Ne}=H.next())}catch(rt){return void fe.error(rt)}Ne?fe.complete():fe.next(oe)},0,!0)}),()=>(0,se.m)(null==H?void 0:H.return)&&H.return()})}(we,ge);if((0,Te.L)(we))return function Be(we,ge){return ne((0,Te.Q)(we),ge)}(we,ge)}throw(0,ve.z)(we)}(we,ge):(0,l.Xf)(we)}},8421:(Je,he,k)=>{"use strict";k.d(he,{Xf:()=>Ce});var l=k(9501),F=k(1144),le=k(8239),ae=k(8306),te=k(3670),re=k(2206),ee=k(4532),se=k(6495),j=k(3260),G=k(576),ne=k(7849),Ue=k(8822);function Ce(Oe){if(Oe instanceof ae.y)return Oe;if(null!=Oe){if((0,te.c)(Oe))return function Re(Oe){return new ae.y(we=>{const ge=Oe[Ue.L]();if((0,G.m)(ge.subscribe))return ge.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,F.z)(Oe))return function je(Oe){return new ae.y(we=>{for(let ge=0;ge<Oe.length&&!we.closed;ge++)we.next(Oe[ge]);we.complete()})}(Oe);if((0,le.t)(Oe))return function ye(Oe){return new ae.y(we=>{Oe.then(ge=>{we.closed||(we.next(ge),we.complete())},ge=>we.error(ge)).then(null,ne.h)})}(Oe);if((0,re.D)(Oe))return Te(Oe);if((0,se.T)(Oe))return function ve(Oe){return new ae.y(we=>{for(const ge of Oe)if(we.next(ge),we.closed)return;we.complete()})}(Oe);if((0,j.L)(Oe))return function Be(Oe){return Te((0,j.Q)(Oe))}(Oe)}throw(0,ee.z)(Oe)}function Te(Oe){return new ae.y(we=>{(function Pe(Oe,we){var ge,fe,H,oe;return(0,l.__awaiter)(this,void 0,void 0,function*(){try{for(ge=(0,l.__asyncValues)(Oe);!(fe=yield ge.next()).done;)if(we.next(fe.value),we.closed)return}catch(Ne){H={error:Ne}}finally{try{fe&&!fe.done&&(oe=ge.return)&&(yield oe.call(ge))}finally{if(H)throw H.error}}we.complete()})})(Oe,we).catch(ge=>we.error(ge))})}},6451:(Je,he,k)=>{"use strict";k.d(he,{T:()=>te});var l=k(8189),z=k(8421),F=k(515),le=k(3269),ae=k(8996);function te(...re){const ee=(0,le.yG)(re),se=(0,le._6)(re,1/0),j=re;return j.length?1===j.length?(0,z.Xf)(j[0]):(0,l.J)(se)((0,ae.D)(j,ee)):F.E}},5403:(Je,he,k)=>{"use strict";k.d(he,{Q:()=>z});var l=k(930);class z extends l.Lv{constructor(le,ae,te,re,ee){super(le),this.onFinalize=ee,this._next=ae?function(se){try{ae(se)}catch(j){le.error(j)}}:super._next,this._error=re?function(se){try{re(se)}catch(j){le.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(se){le.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}},4004:(Je,he,k)=>{"use strict";k.d(he,{U:()=>F});var l=k(4482),z=k(5403);function F(le,ae){return(0,l.e)((te,re)=>{let ee=0;te.subscribe(new z.Q(re,se=>{re.next(le.call(ae,se,ee++))}))})}},8189:(Je,he,k)=>{"use strict";k.d(he,{J:()=>F});var l=k(5577),z=k(4671);function F(le=1/0){return(0,l.z)(z.y,le)}},5577:(Je,he,k)=>{"use strict";k.d(he,{z:()=>ee});var l=k(4004),z=k(8421),F=k(4482),le=k(9672),ae=k(5403),re=k(576);function ee(se,j,G=1/0){return(0,re.m)(j)?ee((ne,Ue)=>(0,l.U)((Ce,Re)=>j(ne,Ce,Ue,Re))((0,z.Xf)(se(ne,Ue))),G):("number"==typeof j&&(G=j),(0,F.e)((ne,Ue)=>function te(se,j,G,ne,Ue,Ce,Re,je){const ye=[];let ve=0,Te=0,Be=!1;const Pe=()=>{Be&&!ye.length&&!ve&&j.complete()},Oe=ge=>ve<ne?we(ge):ye.push(ge),we=ge=>{Ce&&j.next(ge),ve++;let fe=!1;(0,z.Xf)(G(ge,Te++)).subscribe(new ae.Q(j,H=>{null==Ue||Ue(H),Ce?Oe(H):j.next(H)},()=>{fe=!0},void 0,()=>{if(fe)try{for(ve--;ye.length&&ve<ne;){const H=ye.shift();Re?(0,le.f)(j,Re,()=>we(H)):we(H)}Pe()}catch(H){j.error(H)}}))};return se.subscribe(new ae.Q(j,Oe,()=>{Be=!0,Pe()})),()=>{null==je||je()}}(ne,Ue,se,G)))}},5363:(Je,he,k)=>{"use strict";k.d(he,{Q:()=>le});var l=k(9672),z=k(4482),F=k(5403);function le(ae,te=0){return(0,z.e)((re,ee)=>{re.subscribe(new F.Q(ee,se=>(0,l.f)(ee,ae,()=>ee.next(se),te),()=>(0,l.f)(ee,ae,()=>ee.complete(),te),se=>(0,l.f)(ee,ae,()=>ee.error(se),te)))})}},3099:(Je,he,k)=>{"use strict";k.d(he,{B:()=>te});var l=k(8996),z=k(5698),F=k(7579),le=k(930),ae=k(4482);function te(ee={}){const{connector:se=(()=>new F.x),resetOnError:j=!0,resetOnComplete:G=!0,resetOnRefCountZero:ne=!0}=ee;return Ue=>{let Ce=null,Re=null,je=null,ye=0,ve=!1,Te=!1;const Be=()=>{null==Re||Re.unsubscribe(),Re=null},Pe=()=>{Be(),Ce=je=null,ve=Te=!1},Oe=()=>{const we=Ce;Pe(),null==we||we.unsubscribe()};return(0,ae.e)((we,ge)=>{ye++,!Te&&!ve&&Be();const fe=je=null!=je?je:se();ge.add(()=>{ye--,0===ye&&!Te&&!ve&&(Re=re(Oe,ne))}),fe.subscribe(ge),Ce||(Ce=new le.Hp({next:H=>fe.next(H),error:H=>{Te=!0,Be(),Re=re(Pe,j,H),fe.error(H)},complete:()=>{ve=!0,Be(),Re=re(Pe,G),fe.complete()}}),(0,l.D)(we).subscribe(Ce))})(Ue)}}function re(ee,se,...j){return!0===se?(ee(),null):!1===se?null:se(...j).pipe((0,z.q)(1)).subscribe(()=>ee())}},9468:(Je,he,k)=>{"use strict";k.d(he,{R:()=>z});var l=k(4482);function z(F,le=0){return(0,l.e)((ae,te)=>{te.add(F.schedule(()=>ae.subscribe(te),le))})}},5698:(Je,he,k)=>{"use strict";k.d(he,{q:()=>le});var l=k(515),z=k(4482),F=k(5403);function le(ae){return ae<=0?()=>l.E:(0,z.e)((te,re)=>{let ee=0;te.subscribe(new F.Q(re,se=>{++ee<=ae&&(re.next(se),ae<=ee&&re.complete())}))})}},8505:(Je,he,k)=>{"use strict";k.d(he,{b:()=>ae});var l=k(576),z=k(4482),F=k(5403),le=k(4671);function ae(te,re,ee){const se=(0,l.m)(te)||re||ee?{next:te,error:re,complete:ee}:te;return se?(0,z.e)((j,G)=>{var ne;null===(ne=se.subscribe)||void 0===ne||ne.call(se);let Ue=!0;j.subscribe(new F.Q(G,Ce=>{var Re;null===(Re=se.next)||void 0===Re||Re.call(se,Ce),G.next(Ce)},()=>{var Ce;Ue=!1,null===(Ce=se.complete)||void 0===Ce||Ce.call(se),G.complete()},Ce=>{var Re;Ue=!1,null===(Re=se.error)||void 0===Re||Re.call(se,Ce),G.error(Ce)},()=>{var Ce,Re;Ue&&(null===(Ce=se.unsubscribe)||void 0===Ce||Ce.call(se)),null===(Re=se.finalize)||void 0===Re||Re.call(se)}))}):le.y}},4408:(Je,he,k)=>{"use strict";k.d(he,{o:()=>ae});var l=k(727);class z extends l.w0{constructor(re,ee){super()}schedule(re,ee=0){return this}}const F={setInterval(...te){const{delegate:re}=F;return((null==re?void 0:re.setInterval)||setInterval)(...te)},clearInterval(te){const{delegate:re}=F;return((null==re?void 0:re.clearInterval)||clearInterval)(te)},delegate:void 0};var le=k(8737);class ae extends z{constructor(re,ee){super(re,ee),this.scheduler=re,this.work=ee,this.pending=!1}schedule(re,ee=0){if(this.closed)return this;this.state=re;const se=this.id,j=this.scheduler;return null!=se&&(this.id=this.recycleAsyncId(j,se,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(j,this.id,ee),this}requestAsyncId(re,ee,se=0){return F.setInterval(re.flush.bind(re,this),se)}recycleAsyncId(re,ee,se=0){if(null!=se&&this.delay===se&&!1===this.pending)return ee;F.clearInterval(ee)}execute(re,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const se=this._execute(re,ee);if(se)return se;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ee){let j,se=!1;try{this.work(re)}catch(G){se=!0,j=G||new Error("Scheduled action threw falsy error")}if(se)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:re,scheduler:ee}=this,{actions:se}=ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(se,this),null!=re&&(this.id=this.recycleAsyncId(ee,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(Je,he,k)=>{"use strict";k.d(he,{v:()=>F});var l=k(6063);class z{constructor(ae,te=z.now){this.schedulerActionCtor=ae,this.now=te}schedule(ae,te=0,re){return new this.schedulerActionCtor(this,ae).schedule(re,te)}}z.now=l.l.now;class F extends z{constructor(ae,te=z.now){super(ae,te),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:te}=this;if(this._active)return void te.push(ae);let re;this._active=!0;do{if(re=ae.execute(ae.state,ae.delay))break}while(ae=te.shift());if(this._active=!1,re){for(;ae=te.shift();)ae.unsubscribe();throw re}}}},4986:(Je,he,k)=>{"use strict";k.d(he,{z:()=>F,P:()=>le});var l=k(4408);const F=new(k(7565).v)(l.o),le=F},6063:(Je,he,k)=>{"use strict";k.d(he,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(Je,he,k)=>{"use strict";k.d(he,{z:()=>l});const l={setTimeout(...z){const{delegate:F}=l;return((null==F?void 0:F.setTimeout)||setTimeout)(...z)},clearTimeout(z){const{delegate:F}=l;return((null==F?void 0:F.clearTimeout)||clearTimeout)(z)},delegate:void 0}},2202:(Je,he,k)=>{"use strict";k.d(he,{h:()=>z});const z=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Je,he,k)=>{"use strict";k.d(he,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Je,he,k)=>{"use strict";k.d(he,{jO:()=>le,yG:()=>ae,_6:()=>te});var l=k(576),z=k(3532);function F(re){return re[re.length-1]}function le(re){return(0,l.m)(F(re))?re.pop():void 0}function ae(re){return(0,z.K)(F(re))?re.pop():void 0}function te(re,ee){return"number"==typeof F(re)?re.pop():ee}},8737:(Je,he,k)=>{"use strict";function l(z,F){if(z){const le=z.indexOf(F);0<=le&&z.splice(le,1)}}k.d(he,{P:()=>l})},3888:(Je,he,k)=>{"use strict";function l(z){const le=z(ae=>{Error.call(ae),ae.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}k.d(he,{d:()=>l})},2806:(Je,he,k)=>{"use strict";k.d(he,{x:()=>F,O:()=>le});var l=k(2416);let z=null;function F(ae){if(l.v.useDeprecatedSynchronousErrorHandling){const te=!z;if(te&&(z={errorThrown:!1,error:null}),ae(),te){const{errorThrown:re,error:ee}=z;if(z=null,re)throw ee}}else ae()}function le(ae){l.v.useDeprecatedSynchronousErrorHandling&&z&&(z.errorThrown=!0,z.error=ae)}},9672:(Je,he,k)=>{"use strict";function l(z,F,le,ae=0,te=!1){const re=F.schedule(function(){le(),te?z.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(z.add(re),!te)return re}k.d(he,{f:()=>l})},4671:(Je,he,k)=>{"use strict";function l(z){return z}k.d(he,{y:()=>l})},1144:(Je,he,k)=>{"use strict";k.d(he,{z:()=>l});const l=z=>z&&"number"==typeof z.length&&"function"!=typeof z},2206:(Je,he,k)=>{"use strict";k.d(he,{D:()=>z});var l=k(576);function z(F){return Symbol.asyncIterator&&(0,l.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(Je,he,k)=>{"use strict";function l(z){return"function"==typeof z}k.d(he,{m:()=>l})},3670:(Je,he,k)=>{"use strict";k.d(he,{c:()=>F});var l=k(8822),z=k(576);function F(le){return(0,z.m)(le[l.L])}},6495:(Je,he,k)=>{"use strict";k.d(he,{T:()=>F});var l=k(2202),z=k(576);function F(le){return(0,z.m)(null==le?void 0:le[l.h])}},8239:(Je,he,k)=>{"use strict";k.d(he,{t:()=>z});var l=k(576);function z(F){return(0,l.m)(null==F?void 0:F.then)}},3260:(Je,he,k)=>{"use strict";k.d(he,{Q:()=>le,L:()=>ae});var l=k(9501),F=k(576);function le(te){return(0,l.__asyncGenerator)(this,arguments,function*(){const ee=te.getReader();try{for(;;){const{value:se,done:j}=yield(0,l.__await)(ee.read());if(j)return yield(0,l.__await)(void 0);yield yield(0,l.__await)(se)}}finally{ee.releaseLock()}})}function ae(te){return(0,F.m)(null==te?void 0:te.getReader)}},3532:(Je,he,k)=>{"use strict";k.d(he,{K:()=>z});var l=k(576);function z(F){return F&&(0,l.m)(F.schedule)}},4482:(Je,he,k)=>{"use strict";k.d(he,{A:()=>z,e:()=>F});var l=k(576);function z(le){return(0,l.m)(null==le?void 0:le.lift)}function F(le){return ae=>{if(z(ae))return ae.lift(function(te){try{return le(te,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Je,he,k)=>{"use strict";function l(){}k.d(he,{Z:()=>l})},7849:(Je,he,k)=>{"use strict";k.d(he,{h:()=>F});var l=k(2416),z=k(3410);function F(le){z.z.setTimeout(()=>{const{onUnhandledError:ae}=l.v;if(!ae)throw le;ae(le)})}},4532:(Je,he,k)=>{"use strict";function l(z){return new TypeError(`You provided ${null!==z&&"object"==typeof z?"an invalid object":`'${z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(he,{z:()=>l})},9501:()=>{},5e3:(Je,he,k)=>{"use strict";k.d(he,{deG:()=>sp,tb:()=>ol,AFp:()=>aw,ip1:()=>Dg,CZH:()=>pf,hGG:()=>nD,z2F:()=>Ng,sBO:()=>$1,Sil:()=>P1,_Vd:()=>Ke,EJc:()=>dw,SBq:()=>ci,qLn:()=>vh,vpe:()=>nl,tBr:()=>is,XFs:()=>_t,OlP:()=>Nn,zs3:()=>Eo,ZZ4:()=>_w,aQg:()=>vw,soG:()=>cc,YKP:()=>tc,h0i:()=>ec,PXZ:()=>aN,R0b:()=>No,FiY:()=>br,Lbi:()=>bd,g9A:()=>uw,Qsj:()=>BA,FYo:()=>r1,JOm:()=>A,tp0:()=>rs,Rgc:()=>da,dDg:()=>gf,q4F:()=>jA,GfV:()=>o1,s_b:()=>So,ifc:()=>zt,eFA:()=>_f,G48:()=>cN,Gpc:()=>G,X6Q:()=>uN,_c5:()=>hc,VLi:()=>F1,c2e:()=>cw,zSh:()=>m_,wAp:()=>gt,vHH:()=>Re,cg1:()=>J_,kL8:()=>Yu,dqk:()=>Wt,sIi:()=>ad,CqO:()=>lT,QGY:()=>Zp,F4k:()=>aT,RDi:()=>Ac,AaK:()=>ee,qOj:()=>C_,TTD:()=>bs,_Bn:()=>Fe,xp6:()=>f0,uIk:()=>j0,Tol:()=>gT,ekj:()=>Hh,Suo:()=>Jb,Xpm:()=>lt,lG2:()=>fu,Yz7:()=>xt,cJS:()=>Lt,oAB:()=>Ji,Yjl:()=>vl,Y36:()=>Wp,_UZ:()=>Dr,qZA:()=>Uh,TgZ:()=>or,EpF:()=>J0,n5z:()=>ts,Ikx:()=>nu,SDv:()=>e1,QtT:()=>t1,pQV:()=>Vb,LFG:()=>Ve,$8M:()=>zn,$Z:()=>K0,NdJ:()=>qu,CRH:()=>Qb,oxw:()=>Kp,Hsn:()=>L_,F$t:()=>F_,Q6J:()=>qp,s9C:()=>nb,MGl:()=>B_,DdM:()=>my,VKq:()=>de,WLB:()=>dg,kEZ:()=>Io,iGM:()=>m1,MAs:()=>JC,Jf7:()=>Zt,CHM:()=>wu,LSH:()=>_h,kYT:()=>_l,Udp:()=>zi,YNc:()=>YC,W1O:()=>ac,_uU:()=>yT,Oqu:()=>pb,hij:()=>tu,Gf:()=>_1});var l=k(7579),z=k(727),F=k(8306),le=k(6451),ae=k(3099);function te(o){for(let a in o)if(o[a]===te)return a;throw Error("Could not find renamed property on target object.")}function re(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function ee(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ee).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function se(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const j=te({__forward_ref__:te});function G(o){return o.__forward_ref__=G,o.toString=function(){return ee(this())},o}function ne(o){return Ue(o)?o():o}function Ue(o){return"function"==typeof o&&o.hasOwnProperty(j)&&o.__forward_ref__===G}class Re extends Error{constructor(a,u){super(function je(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,u)),this.code=a}}function ye(o){return"string"==typeof o?o:null==o?"":String(o)}function ve(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ye(o)}function Oe(o,a){const u=a?` in ${a}`:"";throw new Re(-201,`No provider for ${ve(o)} found${u}`)}function It(o,a,u,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}function xt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Lt(o){return{providers:o.providers||[],imports:o.imports||[]}}function St(o){return jn(o,ei)||jn(o,cr)}function jn(o,a){return o.hasOwnProperty(a)?o[a]:null}function rn(o){return o&&(o.hasOwnProperty(Kr)||o.hasOwnProperty(Yr))?o[Kr]:null}const ei=te({\u0275prov:te}),Kr=te({\u0275inj:te}),cr=te({ngInjectableDef:te}),Yr=te({ngInjectorDef:te});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let kr;function Hn(o){const a=kr;return kr=o,a}function no(o,a,u){const d=St(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&_t.Optional?null:void 0!==a?a:void Oe(ee(o),"Injector")}function mi(o){return{toString:o}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),zt=(()=>{return(o=zt||(zt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",zt;var o})();const st="undefined"!=typeof globalThis&&globalThis,bt="undefined"!=typeof window&&window,Ui="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Wt=st||"undefined"!=typeof global&&global||bt||Ui,ji={},$=[],K=te({\u0275cmp:te}),Y=te({\u0275dir:te}),Ee=te({\u0275pipe:te}),q=te({\u0275mod:te}),ie=te({\u0275fac:te}),Me=te({__NG_ELEMENT_ID__:te});let Xe=0;function lt(o){return mi(()=>{const u={},d={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||$,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||zt.Emulated,id:"c",styles:o.styles||$,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,m=o.features,b=o.pipes;return d.id+=Xe++,d.inputs=yl(o.inputs,u),d.outputs=yl(o.outputs),m&&m.forEach(E=>E(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(wn):null,d.pipeDefs=b?()=>("function"==typeof b?b():b).map(Et):null,d})}function wn(o){return si(o)||function Qi(o){return o[Y]||null}(o)}function Et(o){return function ks(o){return o[Ee]||null}(o)}const ri={};function Ji(o){return mi(()=>{const a={type:o.type,bootstrap:o.bootstrap||$,declarations:o.declarations||$,imports:o.imports||$,exports:o.exports||$,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(ri[o.id]=o.type),a})}function _l(o,a){return mi(()=>{const u=oi(o,!0);u.declarations=a.declarations||$,u.imports=a.imports||$,u.exports=a.exports||$})}function yl(o,a){if(null==o)return ji;const u={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=d,a&&(a[f]=m)}return u}const fu=lt;function vl(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function si(o){return o[K]||null}function oi(o,a){const u=o[q]||null;if(!u&&!0===a)throw new Error(`Type ${ee(o)} does not have '\u0275mod' property.`);return u}function gr(o){return Array.isArray(o)&&"object"==typeof o[1]}function _s(o){return Array.isArray(o)&&!0===o[1]}function mu(o){return 0!=(8&o.flags)}function kd(o){return 2==(2&o.flags)}function ys(o){return 1==(1&o.flags)}function vs(o){return null!==o.template}function Tc(o){return 0!=(512&o[2])}function Gi(o,a){return o.hasOwnProperty(ie)?o[ie]:null}class Bo{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function bs(){return Ta}function Ta(o){return o.type.prototype.ngOnChanges&&(o.setInput=Xf),Gd}function Gd(){const o=Uo(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===ji)o.previous=a;else for(let d in a)u[d]=a[d];o.current=null,this.ngOnChanges(a)}}function Xf(o,a,u,d){const f=Uo(o)||function Da(o,a){return o[Xi]=a}(o,{previous:ji,current:null}),m=f.current||(f.current={}),b=f.previous,E=this.declaredInputs[u],T=b[E];m[E]=new Bo(T&&T.currentValue,a,b===ji),o[d]=a}bs.ngInherit=!0;const Xi="__ngSimpleChanges__";function Uo(o){return o[Xi]||null}let Sa;function Ac(o){Sa=o}function ws(){return void 0!==Sa?Sa:"undefined"!=typeof document?document:void 0}function cn(o){return!!o.listen}const Cl={createRenderer:(o,a)=>ws()};function sn(o){for(;Array.isArray(o);)o=o[0];return o}function uo(o,a){return sn(a[o])}function Si(o,a){return sn(a[o.index])}function xn(o,a){return o.data[a]}function Ai(o,a){const u=a[o];return gr(u)?u:u[0]}function jo(o){return 4==(4&o[2])}function Ls(o){return 128==(128&o[2])}function Qr(o,a){return null==a?null:o[a]}function Cs(o){o[18]=0}function Aa(o,a){o[5]+=a;let u=o,d=o[3];for(;null!==d&&(1===a&&1===u[5]||-1===a&&0===u[5]);)d[5]+=a,u=d,d=d[3]}const ft={lFrame:qd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Sl(){return ft.bindingsEnabled}function De(){return ft.lFrame.lView}function Ut(){return ft.lFrame.tView}function wu(o){return ft.lFrame.contextLView=o,o[8]}function Dn(){let o=Ma();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ma(){return ft.lFrame.currentTNode}function Ho(){const o=ft.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}function Ur(o,a){const u=ft.lFrame;u.currentTNode=o,u.isParent=a}function Al(){return ft.lFrame.isParent}function Rc(){ft.lFrame.isParent=!1}function Nl(){return ft.isInCheckNoChangesMode}function Cu(o){ft.isInCheckNoChangesMode=o}function Wn(){const o=ft.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function co(){return ft.lFrame.bindingIndex++}function Xr(o){const a=ft.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function Tu(o){ft.lFrame.inI18n=o}function kc(o,a){const u=ft.lFrame;u.bindingIndex=u.bindingRootIndex=o,xl(a)}function xl(o){ft.lFrame.currentDirectiveIndex=o}function Fc(){return ft.lFrame.currentQueryIndex}function Ol(o){ft.lFrame.currentQueryIndex=o}function bm(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Lc(o,a,u){if(u&_t.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||u&_t.Host||(f=bm(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const d=ft.lFrame=Rl();return d.currentTNode=a,d.lView=o,!0}function Oa(o){const a=Rl(),u=o[1];ft.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Rl(){const o=ft.lFrame,a=null===o?null:o.child;return null===a?qd(o):a}function qd(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Ra(){const o=ft.lFrame;return ft.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const zd=Ra;function Pa(){const o=Ra();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function _i(){return ft.lFrame.selectedIndex}function Ds(o){ft.lFrame.selectedIndex=o}function Bn(){const o=ft.lFrame;return xn(o.tView,o.selectedIndex)}function Kd(o,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:N,ngOnDestroy:x}=m;b&&(o.contentHooks||(o.contentHooks=[])).push(-u,b),E&&((o.contentHooks||(o.contentHooks=[])).push(u,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,E)),T&&(o.viewHooks||(o.viewHooks=[])).push(-u,T),N&&((o.viewHooks||(o.viewHooks=[])).push(u,N),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,N)),null!=x&&(o.destroyHooks||(o.destroyHooks=[])).push(u,x)}}function Pl(o,a,u){yi(o,a,3,u)}function Us(o,a,u,d){(3&o[2])===u&&yi(o,a,u,d)}function ka(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function yi(o,a,u,d){const m=null!=d?d:-1,b=a.length-1;let E=0;for(let T=void 0!==d?65535&o[18]:0;T<b;T++)if("number"==typeof a[T+1]){if(E=a[T],null!=d&&E>=d)break}else a[T]<0&&(o[18]+=65536),(E<m||-1==m)&&(ip(o,u,a,T),o[18]=(4294901760&o[18])+T+2),T++}function ip(o,a,u,d){const f=u[d]<0,m=u[d+1],E=o[f?-u[d]:u[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class Iu{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function Ni(o,a,u){const d=cn(o);let f=0;for(;f<u.length;){const m=u[f];if("number"==typeof m){if(0!==m)break;f++;const b=u[f++],E=u[f++],T=u[f++];d?o.setAttribute(a,E,T,b):a.setAttributeNS(b,E,T)}else{const b=m,E=u[++f];Nu(b)?d&&o.setProperty(a,b,E):d?o.setAttribute(a,b,E):a.setAttribute(b,E),f++}}return f}function Is(o){return 3===o||4===o||6===o}function Nu(o){return 64===o.charCodeAt(0)}function Vr(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?u=f:0===u||Wo(o,u,f,null,-1===u||2===u?a[++d]:null)}}return o}function Wo(o,a,u,d,f){let m=0,b=o.length;if(-1===a)b=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===a){b=-1;break}if(E>a){b=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===u){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==b&&(o.splice(b,0,a),m=b+1),o.splice(m++,0,u),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function Mu(o){return-1!==o}function es(o){return 32767&o}function yt(o,a){let u=function Bc(o){return o>>16}(o),d=a;for(;u>0;)d=d[15],u--;return d}let On=!0;function qo(o){const a=On;return On=o,a}let eh=0;function Mi(o,a){const u=dn(o,a);if(-1!==u)return u;const d=a[1];d.firstCreatePass&&(o.injectorIndex=a.length,mr(d.data,o),mr(a,null),mr(d.blueprint,null));const f=et(o,a),m=o.injectorIndex;if(Mu(f)){const b=es(f),E=yt(f,a),T=E[1].data;for(let N=0;N<8;N++)a[m+N]=E[b+N]|T[b+N]}return a[m+8]=f,m}function mr(o,a){o.push(0,0,0,0,0,0,0,0,a)}function dn(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function et(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,d=null,f=a;for(;null!==f;){const m=f[1],b=m.type;if(d=2===b?m.declTNode:1===b?f[6]:null,null===d)return-1;if(u++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function Wi(o,a,u){!function th(o,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Me)&&(d=u[Me]),null==d&&(d=u[Me]=eh++);const f=255&d;a.data[o+(f>>5)]|=1<<f}(o,a,u)}function zo(o,a,u){if(u&_t.Optional)return o;Oe(a,"NodeInjector")}function Zo(o,a,u,d){if(u&_t.Optional&&void 0===d&&(d=null),0==(u&(_t.Self|_t.Host))){const f=o[9],m=Hn(void 0);try{return f?f.get(a,d,u&_t.Optional):no(a,d,u&_t.Optional)}finally{Hn(m)}}return zo(d,a,u)}function kl(o,a,u,d=_t.Default,f){if(null!==o){const m=function Tm(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Me)?o[Me]:void 0;return"number"==typeof a?a>=0?255&a:_r:a}(u);if("function"==typeof m){if(!Lc(a,o,d))return d&_t.Host?zo(f,u,d):Zo(a,u,d,f);try{const b=m(d);if(null!=b||d&_t.Optional)return b;Oe(u)}finally{zd()}}else if("number"==typeof m){let b=null,E=dn(o,a),T=-1,N=d&_t.Host?a[16][6]:null;for((-1===E||d&_t.SkipSelf)&&(T=-1===E?et(o,a):a[E+8],-1!==T&&Ru(d,!1)?(b=a[1],E=es(T),a=yt(T,a)):E=-1);-1!==E;){const x=a[1];if(Ko(m,E,x.data)){const U=qi(E,a,u,b,d,N);if(U!==Ou)return U}T=a[E+8],-1!==T&&Ru(d,a[1].data[E+8]===N)&&Ko(m,E,a)?(b=x,E=es(T),a=yt(T,a)):E=-1}}}return Zo(a,u,d,f)}const Ou={};function _r(){return new Vs(Dn(),De())}function qi(o,a,u,d,f,m){const b=a[1],E=b.data[o+8],x=Uc(E,b,u,null==d?kd(E)&&On:d!=b&&0!=(3&E.type),f&_t.Host&&m===E);return null!==x?Fa(a,b,x,E):Ou}function Uc(o,a,u,d,f){const m=o.providerIndexes,b=a.data,E=1048575&m,T=o.directiveStart,x=m>>20,W=f?E+x:o.directiveEnd;for(let X=d?E:E+x;X<W;X++){const be=b[X];if(X<T&&u===be||X>=T&&be.type===u)return X}if(f){const X=b[T];if(X&&vs(X)&&X.type===u)return T}return null}function Fa(o,a,u,d){let f=o[u];const m=a.data;if(function Yd(o){return o instanceof Iu}(f)){const b=f;b.resolving&&function Te(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Re(-200,`Circular dependency in DI detected for ${o}${u}`)}(ve(m[u]));const E=qo(b.canSeeViewProviders);b.resolving=!0;const T=b.injectImpl?Hn(b.injectImpl):null;Lc(o,d,_t.Default);try{f=o[u]=b.factory(void 0,m,o,d),a.firstCreatePass&&u>=d.directiveStart&&function wm(o,a,u){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const b=Ta(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,b)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==T&&Hn(T),qo(E),b.resolving=!1,zd()}}return f}function Ko(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function Ru(o,a){return!(o&_t.Self||o&_t.Host&&a)}class Vs{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return kl(this._tNode,this._lView,a,d,u)}}function ts(o){return mi(()=>{const a=o.prototype.constructor,u=a[ie]||La(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[ie]||La(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function La(o){return Ue(o)?()=>{const a=La(ne(o));return a&&a()}:Gi(o)}function zn(o){return function nh(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const d=u.length;let f=0;for(;f<d;){const m=u[f];if(Is(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof u[f];)f++;else{if(m===a)return u[f+1];f+=2}}}return null}(Dn(),o)}const js="__parameters__";function Yo(o,a,u){return mi(()=>{const d=function Ba(o){return function(...u){if(o){const d=o(...u);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const b=new f(...m);return E.annotation=b,E;function E(T,N,x){const U=T.hasOwnProperty(js)?T[js]:Object.defineProperty(T,js,{value:[]})[js];for(;U.length<=x;)U.push(null);return(U[x]=U[x]||[]).push(b),T}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Nn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=xt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sp=new Nn("AnalyzeForEntryComponents");function yr(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let d=o[u];Array.isArray(d)?(a===o&&(a=o.slice(0,u)),yr(d,a)):a!==o&&a.push(d)}return a}function nr(o,a){o.forEach(u=>Array.isArray(u)?nr(u,a):a(u))}function Jo(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function Hs(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function fo(o,a){const u=[];for(let d=0;d<o;d++)u.push(a);return u}function ns(o,a,u){let d=Xo(o,a);return d>=0?o[1|d]=u:(d=~d,function xi(o,a,u,d){let f=o.length;if(f==a)o.push(u,d);else if(1===f)o.push(d,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=u,o[a+1]=d}}(o,d,a,u)),d}function Vl(o,a){const u=Xo(o,a);if(u>=0)return o[1|u]}function Xo(o,a){return function jl(o,a,u){let d=0,f=o.length>>u;for(;f!==d;){const m=d+(f-d>>1),b=o[m<<u];if(a===b)return m<<u;b>a?f=m:d=m+1}return~(f<<u)}(o,a,1)}const Ua={},Va="__NG_DI_FLAG__",ja="ngTempTokenPath",I=/\n/gm,R="__source",V=te({provide:String,useValue:te});let Q;function ce(o){const a=Q;return Q=o,a}function Ie(o,a=_t.Default){if(void 0===Q)throw new Re(203,"");return null===Q?no(o,void 0,a):Q.get(o,a&_t.Optional?null:void 0,a)}function Ve(o,a=_t.Default){return(function Ln(){return kr}()||Ie)(ne(o),a)}const Bt=Ve;function qt(o){const a=[];for(let u=0;u<o.length;u++){const d=ne(o[u]);if(Array.isArray(d)){if(0===d.length)throw new Re(900,"");let f,m=_t.Default;for(let b=0;b<d.length;b++){const E=d[b],T=Oi(E);"number"==typeof T?-1===T?f=E.token:m|=T:f=E}a.push(Ve(f,m))}else a.push(Ve(d))}return a}function pt(o,a){return o[Va]=a,o.prototype[Va]=a,o}function Oi(o){return o[Va]}const is=pt(Yo("Inject",o=>({token:o})),-1),br=pt(Yo("Optional"),8),rs=pt(Yo("SkipSelf"),4);let Lu;function ql(o){var a;return(null===(a=function dp(){if(void 0===Lu&&(Lu=null,Wt.trustedTypes))try{Lu=Wt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Lu}())||void 0===a?void 0:a.createHTML(o))||o}class zc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ha(o){return o instanceof zc?o.changingThisBreaksApplicationSecurity:o}class Pv{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(ql(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class pp{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ql(a),u;const d=this.inertDocument.createElement("body");return d.innerHTML=ql(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(a){const u=a.attributes;for(let f=u.length-1;0<f;f--){const b=u.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let d=a.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Vm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Fv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gs(o){return(o=String(o)).match(Vm)||o.match(Fv)?o:"unsafe:"+o}function jm(o){return(o=String(o)).split(",").map(a=>Gs(a.trim())).join(", ")}function $s(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function Zl(...o){const a={};for(const u of o)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const ch=$s("area,br,col,hr,img,wbr"),dh=$s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hh=$s("rp,rt"),gp=Zl(ch,Zl(dh,$s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zl(hh,$s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zl(hh,dh)),Uu=$s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mp=$s("srcset"),Zc=Zl(Uu,mp,$s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),$s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Pn=(()=>((Pn=Pn||{})[Pn.NONE=0]="NONE",Pn[Pn.HTML=1]="HTML",Pn[Pn.STYLE=2]="STYLE",Pn[Pn.SCRIPT=3]="SCRIPT",Pn[Pn.URL=4]="URL",Pn[Pn.RESOURCE_URL=5]="RESOURCE_URL",Pn))();function _h(o){const a=function Kc(){const o=De();return o&&o[12]}();return a?a.sanitize(Pn.URL,o)||"":function Ga(o,a){const u=function Rv(o){return o instanceof zc&&o.getTypeName()||null}(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}(o,"URL")?Ha(o):Gs(ye(o))}const wp="__ngContext__";function vi(o,a){o[wp]=a}function Ep(o){const a=function ju(o){return o[wp]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function hn(o){return o.ngOriginalError}function Wm(o,...a){o.error(...a)}class vh{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),d=function Dp(o){return o&&o.ngErrorLogger||Wm}(a);d(this._console,"ERROR",a),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&hn(a);for(;u&&hn(u);)u=hn(u);return u||null}}const gn=/^>|^->|<!--|-->|--!>|<!-$/g,wh=/(<|>)/;const Sp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Wt))();function Zt(o){return o.ownerDocument.defaultView}function na(o){return o instanceof Function?o():o}var A=(()=>((A=A||{})[A.Important=1]="Important",A[A.DashCase=2]="DashCase",A))();let P;function J(o,a){return P(o,a)}function Qe(o){const a=o[3];return _s(a)?a[3]:a}function li(o){return _e(o[13])}function Ns(o){return _e(o[4])}function _e(o){for(;null!==o&&!_s(o);)o=o[4];return o}function ki(o,a,u,d,f){if(null!=d){let m,b=!1;_s(d)?m=d:gr(d)&&(b=!0,d=d[0]);const E=sn(d);0===o&&null!==u?null==f?Jv(a,u,E):Wa(a,u,E,f||null,!0):1===o&&null!==u?Wa(a,u,E,f||null,!0):2===o?n0(a,E,b):3===o&&a.destroyNode(E),null!=m&&function KE(o,a,u,d,f){const m=u[7];m!==sn(u)&&ki(a,o,d,m,f);for(let E=10;E<u.length;E++){const T=u[E];Ap(T[1],T,o,a,d,m)}}(a,o,m,u,f)}}function L(o,a){return cn(o)?o.createText(a):o.createTextNode(a)}function os(o,a,u){cn(o)?o.setValue(a,u):a.textContent=u}function Th(o,a){return o.createComment(function qm(o){return o.replace(gn,a=>a.replace(wh,"\u200b$1\u200b"))}(a))}function Dh(o,a,u){if(cn(o))return o.createElement(a,u);{const d=null!==u?function Sc(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?o.createElement(a):o.createElementNS(d,a)}}function HE(o,a){const u=o[9],d=u.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,Aa(f,-1)),u.splice(d,1)}function Zv(o,a){if(o.length<=10)return;const u=10+a,d=o[u];if(d){const f=d[17];null!==f&&f!==o&&HE(f,d),a>0&&(o[u-1][4]=d[4]);const m=Hs(o,10+a);!function Zm(o,a){Ap(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(d[1],d);const b=m[19];null!==b&&b.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Kv(o,a){if(!(256&a[2])){const u=a[11];cn(u)&&u.destroyNode&&Ap(o,a,u,3,null,null),function Ih(o){let a=o[13];if(!a)return Yv(o[1],o);for(;a;){let u=null;if(gr(a))u=a[13];else{const d=a[10];d&&(u=d)}if(!u){for(;a&&!a[4]&&a!==o;)gr(a)&&Yv(a[1],a),a=a[3];null===a&&(a=o),gr(a)&&Yv(a[1],a),u=a&&a[4]}a=u}}(a)}}function Yv(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function sS(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let d=0;d<u.length;d+=2){const f=a[u[d]];if(!(f instanceof Iu)){const m=u[d+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const E=f[m[b]],T=m[b+1];try{T.call(E)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function rS(o,a){const u=o.cleanup,d=a[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const b=u[m+1],E="function"==typeof b?b(a):sn(a[b]),T=d[f=u[m+2]],N=u[m+3];"boolean"==typeof N?E.removeEventListener(u[m],T,N):N>=0?d[f=N]():d[f=-N].unsubscribe(),m+=2}else{const b=d[f=u[m+1]];u[m].call(b)}if(null!==d){for(let m=f+1;m<d.length;m++)d[m]();a[7]=null}}(o,a),1===a[1].type&&cn(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&_s(a[3])){u!==a[3]&&HE(u,a);const d=a[19];null!==d&&d.detachView(o)}}}function GE(o,a,u){return Hr(o,a.parent,u)}function Hr(o,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===zt.None||f===zt.Emulated)return null}return Si(d,u)}function Wa(o,a,u,d,f){cn(o)?o.insertBefore(a,u,d,f):a.insertBefore(u,d,f)}function Jv(o,a,u){cn(o)?o.appendChild(a,u):a.appendChild(u)}function $E(o,a,u,d,f){null!==d?Wa(o,a,u,d,f):Jv(o,a,u)}function ed(o,a){return cn(o)?o.parentNode(a):a.parentNode}function Km(o,a,u){return qE(o,a,u)}function WE(o,a,u){return 40&o.type?Si(o,u):null}let e0,qE=WE;function zE(o,a){qE=o,e0=a}function Ym(o,a,u,d){const f=GE(o,d,a),m=a[11],E=Km(d.parent||a[6],d,a);if(null!=f)if(Array.isArray(u))for(let T=0;T<u.length;T++)$E(m,f,u[T],E,!1);else $E(m,f,u,E,!1);void 0!==e0&&e0(m,d,a,u,f)}function Gu(o,a){if(null!==a){const u=a.type;if(3&u)return Si(a,o);if(4&u)return Sh(-1,o[a.index]);if(8&u){const d=a.child;if(null!==d)return Gu(o,d);{const f=o[a.index];return _s(f)?Sh(-1,f):sn(f)}}if(32&u)return J(a,o)()||sn(o[a.index]);{const d=t0(o,a);return null!==d?Array.isArray(d)?d[0]:Gu(Qe(o[16]),d):Gu(o,a.next)}}return null}function t0(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Sh(o,a){const u=10+o+1;if(u<a.length){const d=a[u],f=d[1].firstChild;if(null!==f)return Gu(d,f)}return a[7]}function n0(o,a,u){const d=ed(o,a);d&&function Qv(o,a,u,d){cn(o)?o.removeChild(a,u,d):a.removeChild(u)}(o,d,a,u)}function r0(o,a,u,d,f,m,b){for(;null!=u;){const E=d[u.index],T=u.type;if(b&&0===a&&(E&&vi(sn(E),d),u.flags|=4),64!=(64&u.flags))if(8&T)r0(o,a,u.child,d,f,m,!1),ki(a,o,f,E,m);else if(32&T){const N=J(u,d);let x;for(;x=N();)ki(a,o,f,x,m);ki(a,o,f,E,m)}else 16&T?ZE(o,a,d,u,f,m):ki(a,o,f,E,m);u=b?u.projectionNext:u.next}}function Ap(o,a,u,d,f,m){r0(u,d,o.firstChild,a,f,m,!1)}function ZE(o,a,u,d,f,m){const b=u[16],T=b[6].projection[d.projection];if(Array.isArray(T))for(let N=0;N<T.length;N++)ki(a,o,f,T[N],m);else r0(o,a,T,b[3],f,m,!0)}function o0(o,a,u){cn(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function Np(o,a,u){cn(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function a0(o,a,u){let d=o.length;for(;;){const f=o.indexOf(a,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}u=f+1}}const YE="ng-template";function l0(o,a,u){let d=0;for(;d<o.length;){let f=o[d++];if(u&&"class"===f){if(f=o[d],-1!==a0(f.toLowerCase(),a,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function u0(o){return 4===o.type&&o.value!==YE}function aS(o,a,u){return a===(4!==o.type||u?o.value:YE)}function c0(o,a,u){let d=4;const f=o.attrs||[],m=function uS(o){for(let a=0;a<o.length;a++)if(Is(o[a]))return a;return o.length}(f);let b=!1;for(let E=0;E<a.length;E++){const T=a[E];if("number"!=typeof T){if(!b)if(4&d){if(d=2|1&d,""!==T&&!aS(o,T,u)||""===T&&1===a.length){if(bo(d))return!1;b=!0}}else{const N=8&d?T:a[++E];if(8&d&&null!==o.attrs){if(!l0(o.attrs,N,u)){if(bo(d))return!1;b=!0}continue}const U=JE(8&d?"class":T,f,u0(o),u);if(-1===U){if(bo(d))return!1;b=!0;continue}if(""!==N){let W;W=U>m?"":f[U+1].toLowerCase();const X=8&d?W:null;if(X&&-1!==a0(X,N,0)||2&d&&N!==W){if(bo(d))return!1;b=!0}}}}else{if(!b&&!bo(d)&&!bo(T))return!1;if(b&&bo(T))continue;b=!1,d=T|1&d}}return bo(d)||b}function bo(o){return 0==(1&o)}function JE(o,a,u,d){if(null===a)return-1;let f=0;if(d||!u){let m=!1;for(;f<a.length;){const b=a[f];if(b===o)return f;if(3===b||6===b)m=!0;else{if(1===b||2===b){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=m?1:2}return-1}return function cS(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const d=o[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,o)}function Qm(o,a,u=!1){for(let d=0;d<a.length;d++)if(c0(o,a[d],u))return!0;return!1}function Xm(o,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function e_(o,a){return o?":not("+a.trim()+")":a}function d0(o){let a=o[0],u=1,d=2,f="",m=!1;for(;u<o.length;){let b=o[u];if("string"==typeof b)if(2&d){const E=o[++u];f+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?f+="."+b:4&d&&(f+=" "+b);else""!==f&&!bo(b)&&(a+=e_(m,f),f=""),d=b,m=m||!bo(d);u++}return""!==f&&(a+=e_(m,f)),a}const Ft={};function f0(o){Mp(Ut(),De(),_i()+o,Nl())}function Mp(o,a,u,d){if(!d)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Pl(a,m,u)}else{const m=o.preOrderHooks;null!==m&&Us(a,m,0,u)}Ds(u)}function t_(o,a){return o<<17|a<<2}function ia(o){return o>>17&32767}function p0(o){return 2|o}function Yl(o){return(131068&o)>>2}function g0(o,a){return-131069&o|a<<2}function m0(o){return 1|o}function s_(o,a){const u=o.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const f=u[d],m=u[d+1];if(-1!==m){const b=o.data[m];Ol(f),b.contentQueries(2,a[m],m)}}}function nd(o,a,u,d,f,m,b,E,T,N){const x=a.blueprint.slice();return x[0]=f,x[2]=140|d,Cs(x),x[3]=x[15]=o,x[8]=u,x[10]=b||o&&o[10],x[11]=E||o&&o[11],x[12]=T||o&&o[12]||null,x[9]=N||o&&o[9]||null,x[6]=m,x[16]=2==a.type?o[16]:x,x}function Jl(o,a,u,d,f){let m=o.data[a];if(null===m)m=I0(o,a,u,d,f),function Pc(){return ft.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=d,m.attrs=f;const b=Ho();m.injectorIndex=null===b?-1:b.injectorIndex}return Ur(m,!0),m}function I0(o,a,u,d,f){const m=Ma(),b=Al(),T=o.data[a]=function bS(o,a,u,d,f,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,u,a,d,f);return null===o.firstChild&&(o.firstChild=T),null!==m&&(b?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T)),T}function qa(o,a,u,d){if(0===u)return-1;const f=a.length;for(let m=0;m<u;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function Op(o,a,u){Oa(a);try{const d=o.viewQuery;null!==d&&R0(1,d,u);const f=o.template;null!==f&&S0(o,a,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&s_(o,a),o.staticViewQueries&&R0(2,o.viewQuery,u);const m=o.components;null!==m&&function D0(o,a){for(let u=0;u<a.length;u++)RS(o,a[u])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[2]&=-5,Pa()}}function $u(o,a,u,d){const f=a[2];if(256==(256&f))return;Oa(a);const m=Nl();try{Cs(a),function Ml(o){return ft.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&S0(o,a,u,2,d);const b=3==(3&f);if(!m)if(b){const N=o.preOrderCheckHooks;null!==N&&Pl(a,N,null)}else{const N=o.preOrderHooks;null!==N&&Us(a,N,0,null),ka(a,0)}if(function xS(o){for(let a=li(o);null!==a;a=Ns(a)){if(!a[2])continue;const u=a[9];for(let d=0;d<u.length;d++){const f=u[d],m=f[3];0==(1024&f[2])&&Aa(m,1),f[2]|=1024}}}(a),function MS(o){for(let a=li(o);null!==a;a=Ns(a))for(let u=10;u<a.length;u++){const d=a[u],f=d[1];Ls(d)&&$u(f,d,f.template,d[8])}}(a),null!==o.contentQueries&&s_(o,a),!m)if(b){const N=o.contentCheckHooks;null!==N&&Pl(a,N)}else{const N=o.contentHooks;null!==N&&Us(a,N,1),ka(a,1)}!function C0(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)Ds(~f);else{const m=f,b=u[++d],E=u[++d];kc(b,m),E(2,a[m])}}}finally{Ds(-1)}}(o,a);const E=o.components;null!==E&&function T0(o,a){for(let u=0;u<a.length;u++)OS(o,a[u])}(a,E);const T=o.viewQuery;if(null!==T&&R0(2,T,d),!m)if(b){const N=o.viewCheckHooks;null!==N&&Pl(a,N)}else{const N=o.viewHooks;null!==N&&Us(a,N,2),ka(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Aa(a[3],-1))}finally{Pa()}}function gC(o,a,u,d){const f=a[10],m=!Nl(),b=jo(a);try{m&&!b&&f.begin&&f.begin(),b&&Op(o,a,d),$u(o,a,u,d)}finally{m&&!b&&f.end&&f.end()}}function S0(o,a,u,d,f){const m=_i(),b=2&d;try{Ds(-1),b&&a.length>20&&Mp(o,a,20,Nl()),u(d,f)}finally{Ds(m)}}function A0(o,a,u){!Sl()||(function IS(o,a,u,d){const f=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||Mi(u,a),vi(d,a);const b=u.initialInputs;for(let E=f;E<m;E++){const T=o.data[E],N=vs(T);N&&Ql(a,u,T);const x=Fa(a,o,E,u);vi(x,a),null!==b&&NS(0,E-f,x,T,0,b),N&&(Ai(u.index,a)[8]=x)}}(o,a,u,Si(u,a)),128==(128&u.flags)&&function SS(o,a,u){const d=u.directiveStart,f=u.directiveEnd,b=u.index,E=function Du(){return ft.lFrame.currentDirectiveIndex}();try{Ds(b);for(let T=d;T<f;T++){const N=o.data[T],x=a[T];xl(T),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&wC(N,x)}}finally{Ds(-1),xl(E)}}(o,a,u))}function Zn(o,a,u=Si){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const b=d[m+1],E=-1===b?u(a,o):o[b];o[f++]=E}}}function o_(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Nh(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Nh(o,a,u,d,f,m,b,E,T,N){const x=20+d,U=x+f,W=function vS(o,a){const u=[];for(let d=0;d<a;d++)u.push(d<o?null:Ft);return u}(x,U),X="function"==typeof N?N():N;return W[1]={type:o,blueprint:W,template:u,queries:null,viewQuery:E,declTNode:a,data:W.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:T,consts:X,incompleteFirstPass:!1}}function vC(o,a,u,d){const f=oa(a);null===u?f.push(d):(f.push(u),o.firstCreatePass&&f_(o).push(d,f.length-1))}function N0(o,a,u){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(a,f):u[d]=[a,f]}return u}function zs(o,a,u,d,f,m,b,E){const T=Si(a,u);let x,N=a.inputs;!E&&null!=N&&(x=N[d])?(P0(o,u,x,d,f),kd(a)&&function bC(o,a){const u=Ai(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(d=function ES(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=b?b(f,a.value||"",d):f,cn(m)?m.setProperty(T,d,f):Nu(d)||(T.setProperty?T.setProperty(d,f):T[d]=f))}function id(o,a,u,d){let f=!1;if(Sl()){const m=function AS(o,a,u){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const b=d[m];Qm(u,b.selectors,!1)&&(f||(f=[]),Wi(Mi(u,a),o,b.type),vs(b)?(EC(o,u),f.unshift(b)):f.push(b))}return f}(o,a,u),b=null===d?null:{"":-1};if(null!==m){f=!0,l_(u,o.data.length,m.length);for(let x=0;x<m.length;x++){const U=m[x];U.providersResolver&&U.providersResolver(U)}let E=!1,T=!1,N=qa(o,a,m.length,null);for(let x=0;x<m.length;x++){const U=m[x];u.mergedAttrs=Vr(u.mergedAttrs,U.hostAttrs),u_(o,u,a,N,U),CC(N,U,b),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const W=U.type.prototype;!E&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),E=!0),!T&&(W.ngOnChanges||W.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),T=!0),N++}!function wS(o,a){const d=a.directiveEnd,f=o.data,m=a.attrs,b=[];let E=null,T=null;for(let N=a.directiveStart;N<d;N++){const x=f[N],U=x.inputs,W=null===m||u0(a)?null:c_(U,m);b.push(W),E=N0(U,N,E),T=N0(x.outputs,N,T)}null!==E&&(E.hasOwnProperty("class")&&(a.flags|=16),E.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=E,a.outputs=T}(o,u)}b&&function a_(o,a,u){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=u[a[f+1]];if(null==m)throw new Re(-301,!1);d.push(a[f],m)}}}(u,d,b)}return u.mergedAttrs=Vr(u.mergedAttrs,u.attrs),f}function Er(o,a,u,d,f,m){const b=m.hostBindings;if(b){let E=o.hostBindingOpCodes;null===E&&(E=o.hostBindingOpCodes=[]);const T=~a.index;(function DS(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(E)!=T&&E.push(T),E.push(d,f,b)}}function wC(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function EC(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function CC(o,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=o;vs(a)&&(u[""]=o)}}function l_(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function u_(o,a,u,d,f){o.data[d]=f;const m=f.factory||(f.factory=Gi(f.type)),b=new Iu(m,vs(f),null);o.blueprint[d]=b,u[d]=b,Er(o,a,0,d,qa(o,u,f.hostVars,Ft),f)}function Ql(o,a,u){const d=Si(a,o),f=o_(u),m=o[10],b=d_(o,nd(o,f,null,u.onPush?64:16,d,a,m,m.createRenderer(d,u),null,null));o[a.index]=b}function za(o,a,u,d,f,m,b){if(null==m)cn(o)?o.removeAttribute(a,f,u):a.removeAttribute(f);else{const E=null==b?ye(m):b(m,d||"",f);cn(o)?o.setAttribute(a,f,E,u):u?a.setAttributeNS(u,f,E):a.setAttribute(f,E)}}function NS(o,a,u,d,f,m){const b=m[a];if(null!==b){const E=d.setInput;for(let T=0;T<b.length;){const N=b[T++],x=b[T++],U=b[T++];null!==E?d.setInput(u,U,N,x):u[x]=U}}}function c_(o,a){let u=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],a[d+1])),d+=2}else d+=2;else d+=4}return u}function TC(o,a,u,d){return new Array(o,!0,!1,a,null,0,d,u,null,null)}function OS(o,a){const u=Ai(a,o);if(Ls(u)){const d=u[1];80&u[2]?$u(d,u,d.template,u[8]):u[5]>0&&x0(u)}}function x0(o){for(let d=li(o);null!==d;d=Ns(d))for(let f=10;f<d.length;f++){const m=d[f];if(1024&m[2]){const b=m[1];$u(b,m,b.template,m[8])}else m[5]>0&&x0(m)}const u=o[1].components;if(null!==u)for(let d=0;d<u.length;d++){const f=Ai(u[d],o);Ls(f)&&f[5]>0&&x0(f)}}function RS(o,a){const u=Ai(a,o),d=u[1];(function PS(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(d,u),Op(d,u,u[8])}function d_(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function as(o){for(;o;){o[2]|=64;const a=Qe(o);if(Tc(o)&&!a)return o;o=a}return null}function h_(o,a,u){const d=a[10];d.begin&&d.begin();try{$u(o,a,o.template,u)}catch(f){throw NC(a,f),f}finally{d.end&&d.end()}}function DC(o){!function kp(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],d=Ep(u),f=d[1];gC(f,d,f.template,u)}}(o[8])}function R0(o,a,u){Ol(0),a(o,u)}const kS=(()=>Promise.resolve(null))();function oa(o){return o[7]||(o[7]=[])}function f_(o){return o.cleanup||(o.cleanup=[])}function NC(o,a){const u=o[9],d=u?u.get(vh,null):null;d&&d.handleError(a)}function P0(o,a,u,d,f){for(let m=0;m<u.length;){const b=u[m++],E=u[m++],T=a[b],N=o.data[b];null!==N.setInput?N.setInput(T,f,d,E):T[E]=f}}function rr(o,a,u){let d=u?o.styles:null,f=u?o.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const E=a[b];"number"==typeof E?m=E:1==m?f=se(f,E):2==m&&(d=se(d,E+": "+a[++b]+";"))}u?o.styles=d:o.stylesWithoutHost=d,u?o.classes=f:o.classesWithoutHost=f}const k0=new Nn("INJECTOR",-1);class MC{get(a,u=Ua){if(u===Ua){const d=new Error(`NullInjectorError: No provider for ${ee(a)}!`);throw d.name="NullInjectorError",d}return u}}const m_=new Nn("Set Injector scope."),Fp={},F0={};let __;function L0(){return void 0===__&&(__=new MC),__}function xC(o,a=null,u=null,d){const f=OC(o,a,u,d);return f._resolveInjectorDefTypes(),f}function OC(o,a=null,u=null,d){return new Za(o,u,a||L0(),d)}class Za{constructor(a,u,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&nr(u,E=>this.processProvider(E,a,u)),nr([a],E=>this.processInjectorType(E,[],m)),this.records.set(k0,aa(void 0,this));const b=this.records.get(m_);this.scope=null!=b?b.value:null,this.source=f||("object"==typeof a?null:ee(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=Ua,d=_t.Default){this.assertNotDestroyed();const f=ce(this),m=Hn(void 0);try{if(!(d&_t.SkipSelf)){let E=this.records.get(a);if(void 0===E){const T=function HS(o){return"function"==typeof o||"object"==typeof o&&o instanceof Nn}(a)&&St(a);E=T&&this.injectableDefInScope(T)?aa(wo(a),Fp):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(d&_t.Self?L0():this.parent).get(a,u=d&_t.Optional&&u===Ua?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[ja]=b[ja]||[]).unshift(ee(a)),f)throw b;return function vr(o,a,u,d){const f=o[ja];throw a[R]&&f.unshift(a[R]),o.message=function Hl(o,a,u,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=ee(a);if(Array.isArray(a))f=a.map(ee).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let E=a[b];m.push(b+":"+("string"==typeof E?JSON.stringify(E):ee(E)))}f=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${f}]: ${o.replace(I,"\n  ")}`}("\n"+o.message,f,u,d),o.ngTokenPath=f,o[ja]=null,o}(b,a,"R3InjectorError",this.source)}throw b}finally{Hn(m),ce(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((d,f)=>a.push(ee(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Re(205,!1)}processInjectorType(a,u,d){if(!(a=ne(a)))return!1;let f=rn(a);const m=null==f&&a.ngModule||void 0,b=void 0===m?a:m,E=-1!==d.indexOf(b);if(void 0!==m&&(f=rn(m)),null==f)return!1;if(null!=f.imports&&!E){let x;d.push(b);try{nr(f.imports,U=>{this.processInjectorType(U,u,d)&&(void 0===x&&(x=[]),x.push(U))})}finally{}if(void 0!==x)for(let U=0;U<x.length;U++){const{ngModule:W,providers:X}=x[U];nr(X,be=>this.processProvider(be,W,X||$))}}this.injectorDefTypes.add(b);const T=Gi(b)||(()=>new b);this.records.set(b,aa(T,Fp));const N=f.providers;if(null!=N&&!E){const x=a;nr(N,U=>this.processProvider(U,x,N))}return void 0!==m&&void 0!==a.providers}processProvider(a,u,d){let f=rd(a=ne(a))?a:ne(a&&a.provide);const m=function LS(o,a,u){return Mh(o)?aa(void 0,o.useValue):aa(RC(o),Fp)}(a);if(rd(a)||!0!==a.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=aa(void 0,Fp,!0),b.factory=()=>qt(b.multi),this.records.set(f,b)),f=a,b.multi.push(a)}this.records.set(f,m)}hydrate(a,u){return u.value===Fp&&(u.value=F0,u.value=u.factory()),"object"==typeof u.value&&u.value&&function jS(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=ne(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function wo(o){const a=St(o),u=null!==a?a.factory:Gi(o);if(null!==u)return u;if(o instanceof Nn)throw new Re(204,!1);if(o instanceof Function)return function y_(o){const a=o.length;if(a>0)throw fo(a,"?"),new Re(204,!1);const u=function Gt(o){const a=o&&(o[ei]||o[cr]);if(a){const u=function Nt(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Re(204,!1)}function RC(o,a,u){let d;if(rd(o)){const f=ne(o);return Gi(f)||wo(f)}if(Mh(o))d=()=>ne(o.useValue);else if(function BS(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...qt(o.deps||[]));else if(function PC(o){return!(!o||!o.useExisting)}(o))d=()=>Ve(ne(o.useExisting));else{const f=ne(o&&(o.useClass||o.provide));if(!function VS(o){return!!o.deps}(o))return Gi(f)||wo(f);d=()=>new f(...qt(o.deps))}return d}function aa(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function Mh(o){return null!==o&&"object"==typeof o&&V in o}function rd(o){return"function"==typeof o}let Eo=(()=>{class o{static create(u,d){var f;if(Array.isArray(u))return xC({name:""},d,u,"");{const m=null!==(f=u.name)&&void 0!==f?f:"";return xC({name:m},u.parent,u.providers,m)}}}return o.THROW_IF_NOT_FOUND=Ua,o.NULL=new MC,o.\u0275prov=xt({token:o,providedIn:"any",factory:()=>Ve(k0)}),o.__NG_ELEMENT_ID__=-1,o})();function ZS(o,a){Kd(Ep(o)[1],Dn())}function C_(o){let a=function E_(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const d=[o];for(;a;){let f;if(vs(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Re(903,"");f=a.\u0275dir}if(f){if(u){d.push(f);const b=o;b.inputs=V0(o.inputs),b.declaredInputs=V0(o.declaredInputs),b.outputs=V0(o.outputs);const E=f.hostBindings;E&&GC(o,E);const T=f.viewQuery,N=f.contentQueries;if(T&&JS(o,T),N&&QS(o,N),re(o.inputs,f.inputs),re(o.declaredInputs,f.declaredInputs),re(o.outputs,f.outputs),vs(f)&&f.data.animation){const x=o.data;x.animation=(x.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let b=0;b<m.length;b++){const E=m[b];E&&E.ngInherit&&E(o),E===C_&&(u=!1)}}a=Object.getPrototypeOf(a)}!function YS(o){let a=0,u=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Vr(f.hostAttrs,u=Vr(u,f.hostAttrs))}}(d)}function V0(o){return o===ji?{}:o===$?[]:o}function JS(o,a){const u=o.viewQuery;o.viewQuery=u?(d,f)=>{a(d,f),u(d,f)}:a}function QS(o,a){const u=o.contentQueries;o.contentQueries=u?(d,f,m)=>{a(d,f,m),u(d,f,m)}:a}function GC(o,a){const u=o.hostBindings;o.hostBindings=u?(d,f)=>{a(d,f),u(d,f)}:a}let T_=null;function od(){if(!T_){const o=Wt.Symbol;if(o&&o.iterator)T_=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const d=a[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(T_=d)}}}return T_}function ad(o){return!!D_(o)&&(Array.isArray(o)||!(o instanceof Map)&&od()in o)}function D_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function eu(o,a,u){return o[a]=u}function us(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function ld(o,a,u,d){const f=us(o,a,u);return us(o,a+1,d)||f}function j0(o,a,u,d){const f=De();return us(f,co(),a)&&(Ut(),function sa(o,a,u,d,f,m){const b=Si(o,a);za(a[11],b,m,o.value,u,d,f)}(Bn(),f,o,a,u,d)),j0}function Oh(o,a,u,d){return us(o,co(),u)?a+ye(u)+d:Ft}function YC(o,a,u,d,f,m,b,E){const T=De(),N=Ut(),x=o+20,U=N.firstCreatePass?function nA(o,a,u,d,f,m,b,E,T){const N=a.consts,x=Jl(a,o,4,b||null,Qr(N,E));id(a,u,x,Qr(N,T)),Kd(a,x);const U=x.tViews=Nh(2,x,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,N);return null!==a.queries&&(a.queries.template(a,x),U.queries=a.queries.embeddedTView(x)),x}(x,N,T,a,u,d,f,m,b):N.data[x];Ur(U,!1);const W=T[11].createComment("");Ym(N,T,W,U),vi(W,T),d_(T,T[x]=TC(W,T,W,U)),ys(U)&&A0(N,T,U),null!=b&&Zn(T,U,E)}function JC(o){return function Es(o,a){return o[a]}(function Eu(){return ft.lFrame.contextLView}(),20+o)}function Wp(o,a=_t.Default){const u=De();return null===u?Ve(o,a):kl(Dn(),u,ne(o),a)}function K0(){throw new Error("invalid")}function qp(o,a,u){const d=De();return us(d,co(),a)&&zs(Ut(),Bn(),d,o,a,d[11],u,!1),qp}function Bh(o,a,u,d,f){const b=f?"class":"style";P0(o,u,a.inputs[b],b,d)}function or(o,a,u,d){const f=De(),m=Ut(),b=20+o,E=f[11],T=f[b]=Dh(E,a,function Zd(){return ft.lFrame.currentNamespace}()),N=m.firstCreatePass?function sT(o,a,u,d,f,m,b){const E=a.consts,N=Jl(a,o,2,f,Qr(E,m));return id(a,u,N,Qr(E,b)),null!==N.attrs&&rr(N,N.attrs,!1),null!==N.mergedAttrs&&rr(N,N.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,N),N}(b,m,f,0,a,u,d):m.data[b];Ur(N,!0);const x=N.mergedAttrs;null!==x&&Ni(E,T,x);const U=N.classes;null!==U&&Np(E,T,U);const W=N.styles;return null!==W&&o0(E,T,W),64!=(64&N.flags)&&Ym(m,f,T,N),0===function bu(){return ft.lFrame.elementDepthCount}()&&vi(T,f),function Il(){ft.lFrame.elementDepthCount++}(),ys(N)&&(A0(m,f,N),function mC(o,a,u){if(mu(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const b=o.data[m];b.contentQueries&&b.contentQueries(1,u[m],m)}}}(m,N,f)),null!==d&&Zn(f,N),or}function Uh(){let o=Dn();Al()?Rc():(o=o.parent,Ur(o,!1));const a=o;!function Mc(){ft.lFrame.elementDepthCount--}();const u=Ut();return u.firstCreatePass&&(Kd(u,o),mu(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function Jd(o){return 0!=(16&o.flags)}(a)&&Bh(u,a,De(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Em(o){return 0!=(32&o.flags)}(a)&&Bh(u,a,De(),a.stylesWithoutHost,!1),Uh}function Dr(o,a,u,d){return or(o,a,u,d),Uh(),Dr}function J0(){return De()}function Zp(o){return!!o&&"function"==typeof o.then}function aT(o){return!!o&&"function"==typeof o.subscribe}const lT=aT;function qu(o,a,u,d){const f=De(),m=Ut(),b=Dn();return function eb(o,a,u,d,f,m,b,E){const T=ys(d),x=o.firstCreatePass&&f_(o),U=a[8],W=oa(a);let X=!0;if(3&d.type||E){const qe=Si(d,a),it=E?E(qe):qe,Se=W.length,dt=E?$t=>E(sn($t[d.index])):d.index;if(cn(u)){let $t=null;if(!E&&T&&($t=function X0(o,a,u,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const b=f[m];if(b===u&&f[m+1]===d){const E=a[7],T=f[m+2];return E.length>T?E[T]:null}"string"==typeof b&&(m+=2)}return null}(o,a,f,d.index)),null!==$t)($t.__ngLastListenerFn__||$t).__ngNextListenerFn__=m,$t.__ngLastListenerFn__=m,X=!1;else{m=k_(d,a,U,m,!1);const mn=u.listen(it,f,m);W.push(m,mn),x&&x.push(f,dt,Se,Se+1)}}else m=k_(d,a,U,m,!0),it.addEventListener(f,m,b),W.push(m),x&&x.push(f,dt,Se,b)}else m=k_(d,a,U,m,!1);const be=d.outputs;let Le;if(X&&null!==be&&(Le=be[f])){const qe=Le.length;if(qe)for(let it=0;it<qe;it+=2){const Os=a[Le[it]][Le[it+1]].subscribe(m),pa=W.length;W.push(m,Os),x&&x.push(f,d.index,pa,-(pa+1))}}}(m,f,f[11],b,o,a,!!u,d),qu}function uT(o,a,u,d){try{return!1!==u(d)}catch(f){return NC(o,f),!1}}function k_(o,a,u,d,f){return function m(b){if(b===Function)return d;const E=2&o.flags?Ai(o.index,a):a;0==(32&a[2])&&as(E);let T=uT(a,0,d,b),N=m.__ngNextListenerFn__;for(;N;)T=uT(a,0,N,b)&&T,N=N.__ngNextListenerFn__;return f&&!1===T&&(b.preventDefault(),b.returnValue=!1),T}}function Kp(o=1){return function Ts(o){return(ft.lFrame.contextLView=function tp(o,a){for(;o>0;)a=a[15],o--;return a}(o,ft.lFrame.contextLView))[8]}(o)}function tb(o,a){let u=null;const d=function lS(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?Qm(o,m,!0):Xm(d,m))return f}else u=f}return u}function F_(o){const a=De()[16][6];if(!a.projection){const d=a.projection=fo(o?o.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const b=o?tb(m,o):0;null!==b&&(f[b]?f[b].projectionNext=m:d[b]=m,f[b]=m),m=m.next}}}function L_(o,a=0,u){const d=De(),f=Ut(),m=Jl(f,20+o,16,null,u||null);null===m.projection&&(m.projection=a),Rc(),64!=(64&m.flags)&&function oS(o,a,u){ZE(a[11],0,a,u,GE(o,u,a),Km(u.parent||a[6],u,a))}(f,d,m)}function nb(o,a,u){return B_(o,"",a,"",u),nb}function B_(o,a,u,d,f){const m=De(),b=Oh(m,a,u,d);return b!==Ft&&zs(Ut(),Bn(),m,o,b,m[11],f,!1),B_}function Yp(o,a,u,d,f){const m=o[u+1],b=null===a;let E=d?ia(m):Yl(m),T=!1;for(;0!==E&&(!1===T||b);){const x=o[E+1];rb(o[E],a)&&(T=!0,o[E+1]=d?m0(x):p0(x)),E=d?ia(x):Yl(x)}T&&(o[u+1]=d?p0(m):m0(m))}function rb(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Xo(o,a)>=0}const bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function j_(o){return o.substring(bi.key,bi.keyEnd)}function ob(o,a){const u=bi.textEnd;return u===a?-1:(a=bi.keyEnd=function pT(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,bi.key=a,u),zu(o,a,u))}function zu(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function zi(o,a,u){return ua(o,a,u,!1),zi}function Hh(o,a){return ua(o,a,null,!0),Hh}function gT(o){!function ca(o,a,u,d){const f=Ut(),m=Xr(2);f.firstUpdatePass&&W_(f,null,m,d);const b=De();if(u!==Ft&&us(b,m,u)){const E=f.data[_i()];if(Qp(E,d)&&!$_(f,m)){let T=d?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(u=se(T,u||"")),Bh(f,E,b,u,d)}else!function CA(o,a,u,d,f,m,b,E){f===Ft&&(f=$);let T=0,N=0,x=0<f.length?f[0]:null,U=0<m.length?m[0]:null;for(;null!==x||null!==U;){const W=T<f.length?f[T+1]:void 0,X=N<m.length?m[N+1]:void 0;let Le,be=null;x===U?(T+=2,N+=2,W!==X&&(be=U,Le=X)):null===U||null!==x&&x<U?(T+=2,be=x):(N+=2,be=U,Le=X),null!==be&&$h(o,a,u,d,be,Le,b,E),x=T<f.length?f[T]:null,U=N<m.length?m[N]:null}}(f,E,b,b[11],b[m+1],b[m+1]=function db(o,a,u){if(null==u||""===u)return $;const d=[],f=Ha(u);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(d,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(d,m,f[m]);else"string"==typeof f&&a(d,f);return d}(o,a,u),d,m)}}(ns,la,o,!0)}function la(o,a){for(let u=function fT(o){return function lb(o){bi.key=0,bi.keyEnd=0,bi.value=0,bi.valueEnd=0,bi.textEnd=o.length}(o),ob(o,zu(o,0,bi.textEnd))}(a);u>=0;u=ob(a,u))ns(o,j_(a),!0)}function ua(o,a,u,d){const f=De(),m=Ut(),b=Xr(2);m.firstUpdatePass&&W_(m,o,b,d),a!==Ft&&us(f,b,a)&&$h(m,m.data[_i()],f,f[11],o,f[b+1]=function _T(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=ee(Ha(o)))),o}(a,u),d,b)}function $_(o,a){return a>=o.expandoStartIndex}function W_(o,a,u,d){const f=o.data;if(null===f[u+1]){const m=f[_i()],b=$_(o,u);Qp(m,d)&&null===a&&!b&&(a=!1),a=function wA(o,a,u,d){const f=function xa(o){const a=ft.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(u=cd(u=Gh(null,o,a,u,d),a.attrs,d),m=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==f)if(u=Gh(f,o,a,u,d),null===m){let T=function cb(o,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==Yl(d))return o[ia(d)]}(o,a,d);void 0!==T&&Array.isArray(T)&&(T=Gh(null,o,a,T[1],d),T=cd(T,a.attrs,d),function mT(o,a,u,d){o[ia(u?a.classBindings:a.styleBindings)]=d}(o,a,d,T))}else m=function EA(o,a,u){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=cd(d,o[m].hostAttrs,u);return cd(d,a.attrs,u)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),u}(f,m,a,d),function _A(o,a,u,d,f,m){let b=m?a.classBindings:a.styleBindings,E=ia(b),T=Yl(b);o[d]=u;let x,N=!1;if(Array.isArray(u)){const U=u;x=U[1],(null===x||Xo(U,x)>0)&&(N=!0)}else x=u;if(f)if(0!==T){const W=ia(o[E+1]);o[d+1]=t_(W,E),0!==W&&(o[W+1]=g0(o[W+1],d)),o[E+1]=function dS(o,a){return 131071&o|a<<17}(o[E+1],d)}else o[d+1]=t_(E,0),0!==E&&(o[E+1]=g0(o[E+1],d)),E=d;else o[d+1]=t_(T,0),0===E?E=d:o[T+1]=g0(o[T+1],d),T=d;N&&(o[d+1]=p0(o[d+1])),Yp(o,x,d,!0),Yp(o,x,d,!1),function V_(o,a,u,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Xo(m,a)>=0&&(u[d+1]=m0(u[d+1]))}(a,x,o,d,m),b=t_(E,T),m?a.classBindings=b:a.styleBindings=b}(f,m,a,u,b,d)}}function Gh(o,a,u,d,f){let m=null;const b=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<b&&(m=a[E],d=cd(d,m.hostAttrs,f),m!==o);)E++;return null!==o&&(u.directiveStylingLast=E),d}function cd(o,a,u){const d=u?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?f=b:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ns(o,b,!!u||a[++m]))}return void 0===o?null:o}function $h(o,a,u,d,f,m,b,E){if(!(3&a.type))return;const T=o.data,N=T[E+1];Jp(function tC(o){return 1==(1&o)}(N)?fb(T,a,u,f,Yl(N),b):void 0)||(Jp(m)||function eC(o){return 2==(2&o)}(N)&&(m=fb(T,null,u,f,E,b)),function s0(o,a,u,d,f){const m=cn(o);if(a)f?m?o.addClass(u,d):u.classList.add(d):m?o.removeClass(u,d):u.classList.remove(d);else{let b=-1===d.indexOf("-")?void 0:A.DashCase;if(null==f)m?o.removeStyle(u,d,b):u.style.removeProperty(d);else{const E="string"==typeof f&&f.endsWith("!important");E&&(f=f.slice(0,-10),b|=A.Important),m?o.setStyle(u,d,f,b):u.style.setProperty(d,f,E?"important":"")}}}(d,b,uo(_i(),u),f,m))}function fb(o,a,u,d,f,m){const b=null===a;let E;for(;f>0;){const T=o[f],N=Array.isArray(T),x=N?T[1]:T,U=null===x;let W=u[f+1];W===Ft&&(W=U?$:void 0);let X=U?Vl(W,d):x===d?W:void 0;if(N&&!Jp(X)&&(X=Vl(T,d)),Jp(X)&&(E=X,b))return E;const be=o[f+1];f=b?ia(be):Yl(be)}if(null!==a){let T=m?a.residualClasses:a.residualStyles;null!=T&&(E=Vl(T,d))}return E}function Jp(o){return void 0!==o}function Qp(o,a){return 0!=(o.flags&(a?16:32))}function yT(o,a=""){const u=De(),d=Ut(),f=o+20,m=d.firstCreatePass?Jl(d,f,1,a,null):d.data[f],b=u[f]=L(u[11],a);Ym(d,u,b,m),Ur(m,!1)}function pb(o){return tu("",o,""),pb}function tu(o,a,u){const d=De(),f=Oh(d,o,a,u);return f!==Ft&&function Xl(o,a,u){const d=uo(a,o);os(o[11],d,u)}(d,_i(),f),tu}function nu(o,a,u){const d=De();return us(d,co(),a)&&zs(Ut(),Bn(),d,o,a,d[11],u,!0),nu}const dd=void 0;var Zh=["en",[["a","p"],["AM","PM"],dd],[["AM","PM"],dd,dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dd,"{1} 'at' {0}",dd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Sb(o){const u=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Ku={};function J_(o){const a=function Q_(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Xa(a);if(u)return u;const d=a.split("-")[0];if(u=Xa(d),u)return u;if("en"===d)return Zh;throw new Error(`Missing locale data for the locale "${o}".`)}function Yu(o){return J_(o)[gt.PluralCase]}function Xa(o){return o in Ku||(Ku[o]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[o]),Ku[o]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const ST=["zero","one","two","few","many"],hd="en-US",X_={marker:"element"},Ju={marker:"ICU"};var kn=(()=>((kn=kn||{})[kn.SHIFT=2]="SHIFT",kn[kn.APPEND_EAGERLY=1]="APPEND_EAGERLY",kn[kn.COMMENT=2]="COMMENT",kn))();let Nb=hd;function AT(o,a,u){const d=a.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?WE(o,0,u):sn(u[f])}function NT(o,a,u,d,f){const m=a.insertBeforeIndex;if(Array.isArray(m)){let b=d,E=null;if(3&a.type||(E=b,b=f),null!==b&&0==(2&a.flags))for(let T=1;T<m.length;T++)Wa(o,b,u[m[T]],E,!1)}}function Yh(o,a){if(o.push(a),o.length>1)for(let u=o.length-2;u>=0;u--){const d=o[u];iu(d)||MT(d,a)&&null===xT(d)&&OT(d,a.index)}}function iu(o){return!(64&o.type)}function MT(o,a){return iu(a)||o.index>a.index}function xT(o){const a=o.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function OT(o,a){const u=o.insertBeforeIndex;Array.isArray(u)?u[0]=a:(zE(AT,NT),o.insertBeforeIndex=a)}function el(o,a){const u=o.data[a];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function RT(o,a,u){const d=I0(o,u,64,null,null);return Yh(a,d),d}function ey(o,a){const u=a[o.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Mb(o){return o>>>17}function xb(o){return(131070&o)>>>1}let Jh=0,Qh=0;function PT(o,a,u,d){const f=u[11];let b,m=null;for(let E=0;E<a.length;E++){const T=a[E];if("string"==typeof T){const N=a[++E];null===u[N]&&(u[N]=L(f,T))}else if("number"==typeof T)switch(1&T){case 0:const N=Mb(T);let x,U;if(null===m&&(m=N,b=ed(f,d)),N===m?(x=d,U=b):(x=null,U=sn(u[N])),null!==U){const Le=xb(T);Wa(f,U,u[Le],x,!1);const it=el(o,Le);if(null!==it&&"object"==typeof it){const Se=ey(it,u);null!==Se&&PT(o,it.create[Se],u,u[it.anchorIdx])}}break;case 1:const X=a[++E],be=a[++E];za(f,uo(T>>>1,u),null,null,X,be,null)}else switch(T){case Ju:const N=a[++E],x=a[++E];null===u[x]&&vi(u[x]=Th(f,N),u);break;case X_:const U=a[++E],W=a[++E];null===u[W]&&vi(u[W]=Dh(f,U,null),u)}}}function rg(o,a,u,d,f){for(let m=0;m<u.length;m++){const b=u[m],E=u[++m];if(b&f){let T="";for(let N=m+1;N<=m+E;N++){const x=u[N];if("string"==typeof x)T+=x;else if("number"==typeof x)if(x<0)T+=ye(a[d-x]);else{const U=x>>>2;switch(3&x){case 1:const W=u[++N],X=u[++N],be=o.data[U];"string"==typeof be?za(a[11],a[U],null,be,W,T,X):zs(o,be,a,W,T,a[11],X,!1);break;case 0:const Le=a[U];null!==Le&&os(a[11],Le,T);break;case 2:ny(o,el(o,U),a,T);break;case 3:Xh(o,el(o,U),d,a)}}}}else{const T=u[m+1];if(T>0&&3==(3&T)){const x=el(o,T>>>2);a[x.currentCaseLViewIndex]<0&&Xh(o,x,d,a)}}m+=E}}function Xh(o,a,u,d){let f=d[a.currentCaseLViewIndex];if(null!==f){let m=Jh;f<0&&(f=d[a.currentCaseLViewIndex]=~f,m=-1),rg(o,d,a.update[f],u,m)}}function ny(o,a,u,d){const f=function kT(o,a){let u=o.cases.indexOf(a);if(-1===u)switch(o.type){case 1:{const d=function Kn(o,a){const u=Yu(a)(parseInt(o,10)),d=ST[u];return void 0!==d?d:"other"}(a,function SA(){return Nb}());u=o.cases.indexOf(d),-1===u&&"other"!==d&&(u=o.cases.indexOf("other"));break}case 0:u=o.cases.indexOf("other")}return-1===u?null:u}(a,d);if(ey(a,u)!==f&&(iy(o,a,u),u[a.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const b=u[a.anchorIdx];b&&PT(o,a.create[f],u,b)}}function iy(o,a,u){let d=ey(a,u);if(null!==d){const f=a.remove[d];for(let m=0;m<f.length;m++){const b=f[m];if(b>0){const E=uo(b,u);null!==E&&n0(u[11],E)}else iy(o,el(o,~b),u)}}}function sg(){const o=[];let u,d,a=-1;function m(E,T){a=0;const N=ey(E,T);d=null!==N?E.remove[N]:$}function b(){if(a<d.length){const E=d[a++];return E>0?u[E]:(o.push(a,d),m(u[1].data[~E],u),b())}return 0===o.length?null:(d=o.pop(),a=o.pop(),b())}return function f(E,T){for(u=T;o.length;)o.pop();return m(E.value,T),b}}const sy=/\ufffd(\d+):?\d*\ufffd/gi,PA=/\ufffd(\d+)\ufffd/,Pb=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,LT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,oy=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,BT=/\uE500/g;function VT(o,a,u,d,f,m,b){const E=qa(o,d,1,null);let T=E<<kn.SHIFT,N=Ho();a===N&&(N=null),null===N&&(T|=kn.APPEND_EAGERLY),b&&(T|=kn.COMMENT,function me(o){void 0===P&&(P=o())}(sg)),f.push(T,null===m?"":m);const x=I0(o,E,b?32:1,null===m?"":m,null);Yh(u,x);const U=x.index;return Ur(x,!1),null!==N&&a!==N&&function NA(o,a){let u=o.insertBeforeIndex;null===u?(zE(AT,NT),u=o.insertBeforeIndex=[null,a]):(function oe(o,a,u){o!=a&&It(u,o,a,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(a))}(N,U),x}function kb(o,a,u,d,f,m,b){const E=b.match(sy),T=VT(o,a,u,m,d,E?null:b,!1);E&&fd(f,b,T.index,null,0,null)}function fd(o,a,u,d,f,m){const b=o.length,E=b+1;o.push(null,null);const T=b+2,N=a.split(sy);let x=0;for(let U=0;U<N.length;U++){const W=N[U];if(1&U){const X=f+parseInt(W,10);o.push(-1-X),x|=ag(X)}else""!==W&&o.push(W)}return o.push(u<<2|(d?1:0)),d&&o.push(d,m),o[b]=x,o[E]=o.length-T,x}function ag(o){return 1<<Math.min(o,31)}function ay(o){let a,m,u="",d=0,f=!1;for(;null!==(a=LT.exec(o));)f?a[0]===`\ufffd/*${m}\ufffd`&&(d=a.index,f=!1):(u+=o.substring(d,a.index+a[0].length),m=a[1],f=!0);return u+=o.substr(d),u}function HT(o,a,u,d,f,m){let b=0;const E={type:f.type,currentCaseLViewIndex:qa(o,a,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function WT(o,a,u){o.push(ag(a.mainBinding),2,-1-a.mainBinding,u<<2|2)})(u,f,m),function AA(o,a,u){const d=o.data[a];null===d?o.data[a]=u:d.value=u}(o,m,E);const T=f.values;for(let N=0;N<T.length;N++){const x=T[N],U=[];for(let W=0;W<x.length;W++){const X=x[W];if("string"!=typeof X){const be=U.push(X)-1;x[W]=`\x3c!--\ufffd${be}\ufffd--\x3e`}}b=$T(o,E,a,u,d,f.cases[N],x.join(""),U)|b}b&&function cy(o,a,u){o.push(a,1,u<<2|3)}(u,b,m)}function GT(o){const a=[],u=[];let d=1,f=0;const m=pd(o=o.replace(Pb,function(b,E,T){return d="select"===T?0:1,f=parseInt(E.substr(1),10),""}));for(let b=0;b<m.length;){let E=m[b++].trim();1===d&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&a.push(E);const T=pd(m[b++]);a.length>u.length&&u.push(T)}return{type:d,mainBinding:f,cases:a,values:u}}function pd(o){if(!o)return[];let a=0;const u=[],d=[],f=/[{}]/g;let m;for(f.lastIndex=0;m=f.exec(o);){const E=m.index;if("}"==m[0]){if(u.pop(),0==u.length){const T=o.substring(a,E);Pb.test(T)?d.push(GT(T)):d.push(T),a=E+1}}else{if(0==u.length){const T=o.substring(a,E);d.push(T),a=E+1}u.push("{")}}const b=o.substring(a);return d.push(b),d}function $T(o,a,u,d,f,m,b,E){const T=[],N=[],x=[];a.cases.push(m),a.create.push(T),a.remove.push(N),a.update.push(x);const W=function Um(o){const a=new pp(o);return function kv(){try{return!!(new window.DOMParser).parseFromString(ql(""),"text/html")}catch(o){return!1}}()?new Pv(a):a}(ws()).getInertBodyElement(b),X=function mh(o){return"content"in o&&function jv(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}(W)||W;return X?Lb(o,a,u,d,T,N,x,X,f,E,0):0}function Lb(o,a,u,d,f,m,b,E,T,N,x){let U=0,W=E.firstChild;for(;W;){const X=qa(o,u,1,null);switch(W.nodeType){case Node.ELEMENT_NODE:const be=W,Le=be.tagName.toLowerCase();if(gp.hasOwnProperty(Le)){dy(f,X_,Le,T,X),o.data[X]=Le;const dt=be.attributes;for(let $t=0;$t<dt.length;$t++){const mn=dt.item($t),Os=mn.name.toLowerCase();mn.value.match(sy)?Zc.hasOwnProperty(Os)&&fd(b,mn.value,X,mn.name,0,Uu[Os]?Gs:mp[Os]?jm:null):qT(f,X,mn)}U=Lb(o,a,u,d,f,m,b,W,X,N,x+1)|U,uy(m,X,x)}break;case Node.TEXT_NODE:const qe=W.textContent||"",it=qe.match(sy);dy(f,null,it?"":qe,T,X),uy(m,X,x),it&&(U=fd(b,qe,X,null,0,null)|U);break;case Node.COMMENT_NODE:const Se=PA.exec(W.textContent||"");if(Se){const $t=N[parseInt(Se[1],10)];dy(f,Ju,"",T,X),HT(o,u,d,T,$t,X),Bb(m,X,x)}}W=W.nextSibling}return U}function uy(o,a,u){0===u&&o.push(a)}function Bb(o,a,u){0===u&&(o.push(~a),o.push(a))}function dy(o,a,u,d,f){null!==a&&o.push(a),o.push(u,f,function Ob(o,a,u){return o|a<<17|u<<1}(0,d,f))}function qT(o,a,u){o.push(a<<1|1,u.name,u.value)}function gd(o,a,u=-1){const d=Ut(),f=De(),m=20+o,b=Qr(d.consts,a),E=Ho();d.firstCreatePass&&function UT(o,a,u,d,f,m){const b=Ho(),E=[],T=[],N=[[]];f=function ly(o,a){if(function jT(o){return-1===o}(a))return ay(o);{const u=o.indexOf(`:${a}\ufffd`)+2+a.toString().length,d=o.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return ay(o.substring(u,d))}}(f,m);const x=function ru(o){return o.replace(BT," ")}(f).split(oy);for(let U=0;U<x.length;U++){let W=x[U];if(0==(1&U)){const X=pd(W);for(let be=0;be<X.length;be++){let Le=X[be];if(0==(1&be)){const qe=Le;""!==qe&&kb(o,b,N[0],E,T,u,qe)}else{const qe=Le;if("object"!=typeof qe)throw new Error(`Unable to parse ICU expression in "${f}" message.`);HT(o,u,T,a,qe,VT(o,b,N[0],u,E,"",!0).index)}}}else{const X=47===W.charCodeAt(0),Le=(W.charCodeAt(X?1:0),20+Number.parseInt(W.substring(X?2:1)));if(X)N.shift(),Ur(Ho(),!1);else{const qe=RT(o,N[0],Le);N.unshift([]),Ur(qe,!0)}}}o.data[d]={create:E,update:T}}(d,null===E?0:E.index,f,m,b,u);const T=d.data[m],x=Hr(d,E===f[6]?null:E,f);(function xA(o,a,u,d){const f=o[11];for(let m=0;m<a.length;m++){const b=a[m++],E=a[m],T=(b&kn.COMMENT)===kn.COMMENT,N=(b&kn.APPEND_EAGERLY)===kn.APPEND_EAGERLY,x=b>>>kn.SHIFT;let U=o[x];null===U&&(U=o[x]=T?f.createComment(E):L(f,E)),N&&null!==u&&Wa(f,u,U,d,!1)}})(f,T.create,x,E&&8&E.type?f[E.index]:null),Tu(!0)}function e1(o,a,u){gd(o,a,u),function XT(){Tu(!1)}()}function Vb(o){return function Rb(o){o&&(Jh|=1<<Math.min(Qh,31)),Qh++}(us(De(),co(),o)),Vb}function t1(o){!function MA(o,a,u){if(Qh>0){const d=o.data[u];rg(o,a,Array.isArray(d)?d:d.update,function Bs(){return ft.lFrame.bindingIndex}()-Qh-1,Jh)}Jh=0,Qh=0}(Ut(),De(),o+20)}function tf(o,a,u,d,f){if(o=ne(o),Array.isArray(o))for(let m=0;m<o.length;m++)tf(o[m],a,u,d,f);else{const m=Ut(),b=De();let E=rd(o)?o:ne(o.provide),T=RC(o);const N=Dn(),x=1048575&N.providerIndexes,U=N.directiveStart,W=N.providerIndexes>>20;if(rd(o)||!o.multi){const X=new Iu(T,f,Wp),be=Fi(E,a,f?x:x+W,U);-1===be?(Wi(Mi(N,b),m,E),jb(m,o,a.length),a.push(E),N.directiveStart++,N.directiveEnd++,f&&(N.providerIndexes+=1048576),u.push(X),b.push(X)):(u[be]=X,b[be]=X)}else{const X=Fi(E,a,x+W,U),be=Fi(E,a,x,x+W),Le=X>=0&&u[X],qe=be>=0&&u[be];if(f&&!qe||!f&&!Le){Wi(Mi(N,b),m,E);const it=function FA(o,a,u,d,f){const m=new Iu(o,u,Wp);return m.multi=[],m.index=a,m.componentProviders=0,Hb(m,f,d&&!u),m}(f?Xu:nf,u.length,f,d,T);!f&&qe&&(u[be].providerFactory=it),jb(m,o,a.length,0),a.push(E),N.directiveStart++,N.directiveEnd++,f&&(N.providerIndexes+=1048576),u.push(it),b.push(it)}else jb(m,o,X>-1?X:be,Hb(u[f?be:X],T,!f&&d));!f&&d&&qe&&u[be].componentProviders++}}}function jb(o,a,u,d){const f=rd(a),m=function US(o){return!!o.useClass}(a);if(f||m){const T=(m?ne(a.useClass):a).prototype.ngOnDestroy;if(T){const N=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const x=N.indexOf(u);-1===x?N.push(u,[d,T]):N[x+1].push(d,T)}else N.push(u,T)}}}function Hb(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function Fi(o,a,u,d){for(let f=u;f<d;f++)if(a[f]===o)return f;return-1}function nf(o,a,u,d){return lg(this.multi,[])}function Xu(o,a,u,d){const f=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=Fa(u,u[1],this.providerFactory.index,d);m=E.slice(0,b),lg(f,m);for(let T=b;T<E.length;T++)m.push(E[T])}else m=[],lg(f,m);return m}function lg(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function Fe(o,a=[]){return u=>{u.providersResolver=(d,f)=>function kA(o,a,u){const d=Ut();if(d.firstCreatePass){const f=vs(o);tf(u,d.data,d.blueprint,f,!0),tf(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class rf{}class LA{resolveComponentFactory(a){throw function Gb(o){const a=Error(`No component factory found for ${ee(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let Ke=(()=>{class o{}return o.NULL=new LA,o})();function pe(){return Ae(Dn(),De())}function Ae(o,a){return new ci(Si(o,a))}let ci=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=pe,o})();function i1(o){return o instanceof ci?o.nativeElement:o}class r1{}let BA=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function VA(){const o=De(),u=Ai(Dn().index,o);return function UA(o){return o[11]}(gr(u)?u:o)}(),o})(),s1=(()=>{class o{}return o.\u0275prov=xt({token:o,providedIn:"root",factory:()=>null}),o})();class o1{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const jA=new o1("13.2.7"),$b={};function ug(o,a,u,d,f=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&d.push(sn(m)),_s(m))for(let E=10;E<m.length;E++){const T=m[E],N=T[1].firstChild;null!==N&&ug(T[1],T,N,d)}const b=u.type;if(8&b)ug(o,a,u.child,d);else if(32&b){const E=J(u,a);let T;for(;T=E();)d.push(T)}else if(16&b){const E=t0(a,u);if(Array.isArray(E))d.push(...E);else{const T=Qe(a[16]);ug(T[1],T,E,d,!0)}}u=f?u.projectionNext:u.next}return d}class Pt{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return ug(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(_s(a)){const u=a[8],d=u?u.indexOf(this):-1;d>-1&&(Zv(a,d),Hs(u,d))}this._attachedToViewContainer=!1}Kv(this._lView[1],this._lView)}onDestroy(a){vC(this._lView[1],this._lView,null,a)}markForCheck(){as(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){h_(this._lView[1],this._lView,this.context)}checkNoChanges(){!function IC(o,a,u){Cu(!0);try{h_(o,a,u)}finally{Cu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Re(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ms(o,a){Ap(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Re(902,"");this._appRef=a}}class sf extends Pt{constructor(a){super(a),this._view=a}detectChanges(){DC(this._view)}checkNoChanges(){!function SC(o){Cu(!0);try{DC(o)}finally{Cu(!1)}}(this._view)}get context(){return null}}class Wb extends Ke{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=si(a);return new Qt(u,this.ngModule)}}function Un(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class Qt extends rf{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function h0(o){return o.map(d0).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Un(this.componentDef.inputs)}get outputs(){return Un(this.componentDef.outputs)}create(a,u,d,f){const m=(f=f||this.ngModule)?function cg(o,a){return{get:(u,d,f)=>{const m=o.get(u,$b,f);return m!==$b||d===$b?m:a.get(u,d,f)}}}(a,f.injector):a,b=m.get(r1,Cl),E=m.get(s1,null),T=b.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",x=d?function yC(o,a,u){if(cn(o))return o.selectRootElement(a,u===zt.ShadowDom);let d="string"==typeof a?o.querySelector(a):a;return d.textContent="",d}(T,d,this.componentDef.encapsulation):Dh(b.createRenderer(null,this.componentDef),N,function At(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(N)),U=this.componentDef.onPush?576:528,W=function HC(o,a){return{components:[],scheduler:o||Sp,clean:kS,playerHandler:a||null,flags:0}}(),X=Nh(0,null,null,1,0,null,null,null,null,null),be=nd(null,X,W,U,null,null,b,T,E,m);let Le,qe;Oa(be);try{const it=function U0(o,a,u,d,f,m){const b=u[1];u[20]=o;const T=Jl(b,20,2,"#host",null),N=T.mergedAttrs=a.hostAttrs;null!==N&&(rr(T,N,!0),null!==o&&(Ni(f,o,N),null!==T.classes&&Np(f,o,T.classes),null!==T.styles&&o0(f,o,T.styles)));const x=d.createRenderer(o,a),U=nd(u,o_(a),null,a.onPush?64:16,u[20],T,d,x,m||null,null);return b.firstCreatePass&&(Wi(Mi(T,u),b,a.type),EC(b,T),l_(T,u.length,1)),d_(u,U),u[20]=U}(x,this.componentDef,be,b,T);if(x)if(d)Ni(T,x,["ng-version",jA.full]);else{const{attrs:Se,classes:dt}=function QE(o){const a=[],u=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++d]):8===f&&u.push(m);else{if(!bo(f))break;f=m}d++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Se&&Ni(T,x,Se),dt&&dt.length>0&&Np(T,x,dt.join(" "))}if(qe=xn(X,20),void 0!==u){const Se=qe.projection=[];for(let dt=0;dt<this.ngContentSelectors.length;dt++){const $t=u[dt];Se.push(null!=$t?Array.from($t):null)}}Le=function jC(o,a,u,d,f){const m=u[1],b=function Pp(o,a,u){const d=Dn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),u_(o,d,a,qa(o,a,1,null),u));const f=Fa(a,o,d.directiveStart,d);vi(f,a);const m=Si(d,a);return m&&vi(m,a),f}(m,u,a);if(d.components.push(b),o[8]=b,f&&f.forEach(T=>T(b,a)),a.contentQueries){const T=Dn();a.contentQueries(1,b,T.directiveStart)}const E=Dn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Ds(E.index),Er(u[1],E,0,E.directiveStart,E.directiveEnd,a),wC(a,b)),b}(it,this.componentDef,be,W,[ZS]),Op(X,be,null)}finally{Pa()}return new Ze(this.componentType,Le,Ae(qe,be),be,qe)}}class Ze extends class Li{}{constructor(a,u,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new sf(f),this.componentType=a}get injector(){return new Vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class ec{}class tc{}const su=new Map;class zb extends ec{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Wb(this);const d=oi(a);this._bootstrapComponents=na(d.bootstrap),this._r3Injector=OC(a,u,[{provide:ec,useValue:this},{provide:Ke,useValue:this.componentFactoryResolver}],ee(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=Eo.THROW_IF_NOT_FOUND,d=_t.Default){return a===Eo||a===ec||a===k0?this:this._r3Injector.get(a,u,d)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class tl extends tc{constructor(a){super(),this.moduleType=a,null!==oi(a)&&function a1(o){const a=new Set;!function u(d){const f=oi(d,!0),m=f.id;null!==m&&(function qb(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${ee(a)} vs ${ee(a.name)}`)}(m,su.get(m),d),su.set(m,d));const b=na(f.imports);for(const E of b)a.has(E)||(a.add(E),u(E))}(o)}(a)}create(a){return new zb(this.moduleType,a)}}function my(o,a,u){const d=Wn()+o,f=De();return f[d]===Ft?eu(f,d,u?a.call(u):a()):function I_(o,a){return o[a]}(f,d)}function de(o,a,u,d){return function u1(o,a,u,d,f,m){const b=a+u;return us(o,b,f)?eu(o,b+1,m?d.call(m,f):d(f)):_d(o,b+1)}(De(),Wn(),o,a,u,d)}function dg(o,a,u,d,f){return function c1(o,a,u,d,f,m,b){const E=a+u;return ld(o,E,f,m)?eu(o,E+2,b?d.call(b,f,m):d(f,m)):_d(o,E+2)}(De(),Wn(),o,a,u,d,f)}function Io(o,a,u,d,f,m){return function ds(o,a,u,d,f,m,b,E){const T=a+u;return function S_(o,a,u,d,f){const m=ld(o,a,u,d);return us(o,a+2,f)||m}(o,T,f,m,b)?eu(o,T+3,E?d.call(E,f,m,b):d(f,m,b)):_d(o,T+3)}(De(),Wn(),o,a,u,d,f,m)}function _d(o,a){const u=o[a];return u===Ft?void 0:u}function wi(o){return a=>{setTimeout(o,void 0,a)}}const nl=class qA extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){var f,m,b;let E=a,T=u||(()=>null),N=d;if(a&&"object"==typeof a){const U=a;E=null===(f=U.next)||void 0===f?void 0:f.bind(U),T=null===(m=U.error)||void 0===m?void 0:m.bind(U),N=null===(b=U.complete)||void 0===b?void 0:b.bind(U)}this.__isAsync&&(T=wi(T),E&&(E=wi(E)),N&&(N=wi(N)));const x=super.subscribe({next:E,error:T,complete:N});return a instanceof z.w0&&a.add(x),x}};function rc(){return this._results[od()]()}class Yn{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=od(),d=Yn.prototype;d[u]||(d[u]=rc)}get changes(){return this._changes||(this._changes=new nl)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const f=yr(a);(this._changesDetected=!function ku(o,a,u){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=a[d];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(d._results,f,u))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let da=(()=>{class o{}return o.__NG_ELEMENT_ID__=fg,o})();const Kb=da,f1=class extends Kb{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a){const u=this._declarationTContainer.tViews,d=nd(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(d[19]=m.createEmbeddedView(u)),Op(u,d,a),new Pt(d)}};function fg(){return yy(Dn(),De())}function yy(o,a){return 4&o.type?new f1(a,o,Ae(o,a)):null}let So=(()=>{class o{}return o.__NG_ELEMENT_ID__=pg,o})();function pg(){return sc(Dn(),De())}const gg=So,Yb=class extends gg{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return Ae(this._hostTNode,this._hostLView)}get injector(){return new Vs(this._hostTNode,this._hostLView)}get parentInjector(){const a=et(this._hostTNode,this._hostLView);if(Mu(a)){const u=yt(a,this._hostLView),d=es(a);return new Vs(u[1].data[d+8],u)}return new Vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=ou(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,d){const f=a.createEmbeddedView(u||{});return this.insert(f,d),f}createComponent(a,u,d,f,m){const b=a&&!function ho(o){return"function"==typeof o}(a);let E;if(b)E=u;else{const U=u||{};E=U.index,d=U.injector,f=U.projectableNodes,m=U.ngModuleRef}const T=b?a:new Qt(si(a)),N=d||this.parentInjector;if(!m&&null==T.ngModule){const W=(b?N:this.parentInjector).get(ec,null);W&&(m=W)}const x=T.create(N,f,void 0,m);return this.insert(x.hostView,E),x}insert(a,u){const d=a._lView,f=d[1];if(function Dl(o){return _s(o[3])}(d)){const x=this.indexOf(a);if(-1!==x)this.detach(x);else{const U=d[3],W=new Yb(U,U[6],U[3]);W.detach(W.indexOf(a))}}const m=this._adjustIndex(u),b=this._lContainer;!function Xc(o,a,u,d){const f=10+d,m=u.length;d>0&&(u[f-1][4]=a),d<m-10?(a[4]=u[f],Jo(u,10+d,a)):(u.push(a),a[4]=null),a[3]=u;const b=a[17];null!==b&&u!==b&&function zv(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(b,a);const E=a[19];null!==E&&E.insertView(o),a[2]|=128}(f,d,b,m);const E=Sh(m,b),T=d[11],N=ed(T,b[7]);return null!==N&&function ui(o,a,u,d,f,m){d[0]=f,d[6]=a,Ap(o,d,u,1,f,m)}(f,b[6],T,d,N,E),a.attachToViewContainerRef(),Jo(lf(b),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=ou(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=Zv(this._lContainer,u);d&&(Hs(lf(this._lContainer),u),Kv(d[1],d))}detach(a){const u=this._adjustIndex(a,-1),d=Zv(this._lContainer,u);return d&&null!=Hs(lf(this._lContainer),u)?new Pt(d):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function ou(o){return o[8]}function lf(o){return o[8]||(o[8]=[])}function sc(o,a){let u;const d=a[o.index];if(_s(d))u=d;else{let f;if(8&o.type)f=sn(d);else{const m=a[11];f=m.createComment("");const b=Si(o,a);Wa(m,ed(m,b),f,function Xv(o,a){return cn(o)?o.nextSibling(a):a.nextSibling}(m,b),!1)}a[o.index]=u=TC(d,a,f,o),d_(a,u)}return new Yb(u,o,a)}class vy{constructor(a){this.queryList=a,this.matches=null}clone(){return new vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class oc{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let m=0;m<d;m++){const b=u.getByIndex(m);f.push(this.queries[b.indexInDeclarationView].clone())}return new oc(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==ew(a,u).matches&&this.queries[u].setDirty()}}class by{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class au{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const f=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new au(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class _g{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new _g(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,u,yg(u,m)),this.matchTNodeWithReadOption(a,u,Uc(u,a,m,!1,!1))}else d===da?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Uc(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===ci||f===So||f===da&&4&u.type)this.addMatch(u.index,-2);else{const m=Uc(u,a,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function yg(o,a){const u=o.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function g1(o,a,u,d){return-1===u?function p1(o,a){return 11&o.type?Ae(o,a):4&o.type?yy(o,a):null}(a,o):-2===u?function wy(o,a,u){return u===ci?Ae(a,o):u===da?yy(a,o):u===So?sc(a,o):void 0}(o,a,d):Fa(o,o[1],u,a)}function uf(o,a,u,d){const f=a[19].queries[d];if(null===f.matches){const m=o.data,b=u.matches,E=[];for(let T=0;T<b.length;T+=2){const N=b[T];E.push(N<0?null:g1(a,m[N],b[T+1],u.metadata.read))}f.matches=E}return f.matches}function Ey(o,a,u,d){const f=o.queries.getByIndex(u),m=f.matches;if(null!==m){const b=uf(o,a,f,u);for(let E=0;E<m.length;E+=2){const T=m[E];if(T>0)d.push(b[E/2]);else{const N=m[E+1],x=a[-T];for(let U=10;U<x.length;U++){const W=x[U];W[17]===W[3]&&Ey(W[1],W,N,d)}if(null!==x[9]){const U=x[9];for(let W=0;W<U.length;W++){const X=U[W];Ey(X[1],X,N,d)}}}}}return d}function m1(o){const a=De(),u=Ut(),d=Fc();Ol(d+1);const f=ew(u,d);if(o.dirty&&jo(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Ey(u,a,d,[]):uf(u,a,f,d);o.reset(m,i1),o.notifyOnChanges()}return!0}return!1}function _1(o,a,u){const d=Ut();d.firstCreatePass&&(Mn(d,new by(o,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),Xb(d,De(),a)}function Jb(o,a,u,d){const f=Ut();if(f.firstCreatePass){const m=Dn();Mn(f,new by(a,u,d),m.index),function zA(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}Xb(f,De(),u)}function Qb(){return function Mr(o,a){return o[19].queries[a].queryList}(De(),Fc())}function Xb(o,a,u){const d=new Yn(4==(4&u));vC(o,a,d,d.destroy),null===a[19]&&(a[19]=new oc),a[19].queries.push(new vy(d))}function Mn(o,a,u){null===o.queries&&(o.queries=new au),o.queries.track(new _g(a,u))}function ew(o,a){return o.queries.getByIndex(a)}function ac(o,a){return yy(o,a)}function Ay(...o){}const Dg=new Nn("Application Initializer");let pf=(()=>{class o{constructor(u){this.appInits=u,this.resolve=Ay,this.reject=Ay,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Zp(m))u.push(m);else if(lT(m)){const b=new Promise((E,T)=>{m.subscribe({complete:E,error:T})});u.push(b)}}Promise.all(u).then(()=>{d()}).catch(f=>{this.reject(f)}),0===u.length&&d(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Ve(Dg,8))},o.\u0275prov=xt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const aw=new Nn("AppId",{providedIn:"root",factory:function x1(){return`${lw()}${lw()}${lw()}`}});function lw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const uw=new Nn("Platform Initializer"),bd=new Nn("Platform ID"),ol=new Nn("appBootstrapListener");let cw=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=xt({token:o,factory:o.\u0275fac}),o})();const cc=new Nn("LocaleId",{providedIn:"root",factory:()=>Bt(cc,_t.Optional|_t.SkipSelf)||function O1(){return"undefined"!=typeof $localize&&$localize.locale||hd}()}),dw=new Nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class R1{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let P1=(()=>{class o{compileModuleSync(u){return new tl(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=na(oi(u).declarations).reduce((b,E)=>{const T=si(E);return T&&b.push(new Qt(T)),b},[]);return new R1(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=xt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const xs=(()=>Promise.resolve(0))();function My(o){"undefined"==typeof Zone?xs.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class No{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nl(!1),this.onMicrotaskEmpty=new nl(!1),this.onStable=new nl(!1),this.onError=new nl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&u,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Ig(){let o=Wt.requestAnimationFrame,a=Wt.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function rN(o){const a=()=>{!function Sg(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Wt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,hw(o),o.isCheckStableRunning=!0,xy(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),hw(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,f,m,b,E)=>{try{return Vt(o),u.invokeTask(f,m,b,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),k1(o)}},onInvoke:(u,d,f,m,b,E,T)=>{try{return Vt(o),u.invoke(f,m,b,E,T)}finally{o.shouldCoalesceRunChangeDetection&&a(),k1(o)}},onHasTask:(u,d,f,m)=>{u.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,hw(o),xy(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,f,m)=>(u.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!No.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(No.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,f){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+f,a,al,Ay,Ay);try{return m.runTask(b,u,d)}finally{m.cancelTask(b)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const al={};function xy(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function hw(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Vt(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function k1(o){o._nesting--,xy(o)}class Oy{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nl,this.onMicrotaskEmpty=new nl,this.onStable=new nl,this.onError=new nl}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,f){return a.apply(u,d)}}let gf=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{No.assertNotInAngularZone(),My(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())My(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(Ve(No))},o.\u0275prov=xt({token:o,factory:o.\u0275fac}),o})(),mf=(()=>{class o{constructor(){this._applications=new Map,Py.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return Py.findTestabilityInTree(this,u,d)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=xt({token:o,factory:o.\u0275fac}),o})();class Ry{addToWindow(a){}findTestabilityInTree(a,u,d){return null}}function F1(o){Py=o}let Mo,Py=new Ry;const B1=new Nn("AllowMultipleToken");class aN{constructor(a,u){this.name=a,this.token=u}}function _f(o,a,u=[]){const d=`Platform: ${a}`,f=new Nn(d);return(m=[])=>{let b=Yi();if(!b||b.injector.get(B1,!1))if(o)o(u.concat(m).concat({provide:f,useValue:!0}));else{const E=u.concat(m).concat({provide:f,useValue:!0},{provide:m_,useValue:"platform"});!function lN(o){if(Mo&&!Mo.destroyed&&!Mo.injector.get(B1,!1))throw new Re(400,"");Mo=o.get(ky);const a=o.get(uw,null);a&&a.forEach(u=>u())}(Eo.create({providers:E,name:d}))}return function U1(o){const a=Yi();if(!a)throw new Re(401,"");return a}()}}function Yi(){return Mo&&!Mo.destroyed?Mo:null}let ky=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const E=function V1(o,a){let u;return u="noop"===o?new Oy:("zone.js"===o?void 0:o)||new No({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:No,useValue:E}];return E.run(()=>{const N=Eo.create({providers:T,parent:this.injector,name:u.moduleType.name}),x=u.create(N),U=x.injector.get(vh,null);if(!U)throw new Re(402,"");return E.runOutsideAngular(()=>{const W=E.onError.subscribe({next:X=>{U.handleError(X)}});x.onDestroy(()=>{Fy(this._modules,x),W.unsubscribe()})}),function Ag(o,a,u){try{const d=u();return Zp(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(U,E,()=>{const W=x.injector.get(pf);return W.runInitializers(),W.donePromise.then(()=>(function IA(o){(function jt(o,a){null==o&&It(a,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(Nb=o.toLowerCase().replace(/_/g,"-"))}(x.injector.get(cc,hd)||hd),this._moduleDoBootstrap(x),x))})})}bootstrapModule(u,d=[]){const f=fa({},d);return function sN(o,a,u){const d=new tl(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const d=u.injector.get(Ng);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Re(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Re(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Ve(Eo))},o.\u0275prov=xt({token:o,factory:o.\u0275fac}),o})();function fa(o,a){return Array.isArray(a)?a.reduce(fa,o):Object.assign(Object.assign({},o),a)}let Ng=(()=>{class o{constructor(u,d,f,m,b){this._zone=u,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=m,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new F.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),T=new F.y(N=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{No.assertNotInAngularZone(),My(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{No.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{x.unsubscribe(),U.unsubscribe()}});this.isStable=(0,le.T)(E,T.pipe((0,ae.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Re(405,"");let f;f=u instanceof rf?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(f.componentType);const m=function L1(o){return o.isBoundToModule}(f)?void 0:this._injector.get(ec),E=f.create(Eo.NULL,[],d||f.selector,m),T=E.location.nativeElement,N=E.injector.get(gf,null),x=N&&E.injector.get(mf);return N&&x&&x.registerApplication(T,N),E.onDestroy(()=>{this.detachView(E.hostView),Fy(this.components,E),x&&x.unregisterApplication(T)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Re(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Fy(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(ol,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Ve(No),Ve(Eo),Ve(vh),Ve(Ke),Ve(pf))},o.\u0275prov=xt({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Fy(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let fw=!0,pw=!1;function uN(){return pw=!0,fw}function cN(){if(pw)throw new Error("Cannot enable prod mode after platform setup.");fw=!1}let $1=(()=>{class o{}return o.__NG_ELEMENT_ID__=W1,o})();function W1(o){return function q1(o,a,u){if(kd(o)&&!u){const d=Ai(o.index,a);return new Pt(d,d)}return 47&o.type?new Pt(a[16],a):null}(Dn(),De(),16==(16&o))}class K1{constructor(){}supports(a){return ad(a)}create(a){return new gN(a)}}const pN=(o,a)=>a;class gN{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||pN}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,f=0,m=null;for(;u||d;){const b=!d||u&&u.currentIndex<J1(d,f,m)?u:d,E=J1(b,f,m),T=b.currentIndex;if(b===d)f--,d=d._nextRemoved;else if(u=u._next,null==b.previousIndex)f++;else{m||(m=[]);const N=E-f,x=T-f;if(N!=x){for(let W=0;W<N;W++){const X=W<m.length?m[W]:m[W]=0,be=X+W;x<=be&&be<N&&(m[W]=X+1)}m[b.previousIndex]=x-N}}E!==T&&a(b,E,T)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!ad(a))throw new Re(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,b,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)m=a[E],b=this._trackByFn(E,m),null!==u&&Object.is(u.trackById,b)?(d&&(u=this._verifyReinsertion(u,m,b,E)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,b,E),d=!0),u=u._next}else f=0,function qC(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[od()]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,E=>{b=this._trackByFn(f,E),null!==u&&Object.is(u.trackById,b)?(d&&(u=this._verifyReinsertion(u,E,b,f)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,b,f),d=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,f)):a=this._addAfter(new mN(u,d),m,f),a}_verifyReinsertion(a,u,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Y1),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Y1),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class mN{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _N{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class Y1{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new _N,this.map.set(u,d)),d.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function J1(o,a,u){const d=o.previousIndex;if(null===d)return d;let f=0;return u&&d<u.length&&(f=u[d]),d+a+f}class Q1{constructor(){}supports(a){return a instanceof Map||D_(a)}create(){return new yN}}class yN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||D_(a)))throw new Re(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const m=f._prev,b=f._next;return m&&(m._next=b),b&&(b._prev=m),f._next=null,f._prev=null,f}const d=new vN(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class vN{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new _w([new K1])}let _w=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(null!=d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||mw()),deps:[[o,new rs,new br]]}}find(u){const d=this.factories.find(f=>f.supports(u));if(null!=d)return d;throw new Re(901,"")}}return o.\u0275prov=xt({token:o,providedIn:"root",factory:mw}),o})();function yw(){return new vw([new Q1])}let vw=(()=>{class o{constructor(u){this.factories=u}static create(u,d){if(d){const f=d.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:d=>o.create(u,d||yw()),deps:[[o,new rs,new br]]}}find(u){const d=this.factories.find(m=>m.supports(u));if(d)return d;throw new Re(901,"")}}return o.\u0275prov=xt({token:o,providedIn:"root",factory:yw}),o})();const hc=_f(null,"core",[{provide:bd,useValue:"unknown"},{provide:ky,deps:[Eo]},{provide:mf,deps:[]},{provide:cw,deps:[]}]);let nD=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Ve(Ng))},o.\u0275mod=Ji({type:o}),o.\u0275inj=Lt({}),o})()},3942:(Je,he,k)=>{"use strict";k.d(he,{Z:()=>Re});var l=k(2090),z=k(4859),F=k(9681),le=k(1877);class ae{constructor(ye,ve){this._delegate=ye,this.firebase=ve,(0,F._addComponent)(ye,new z.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ye,ve=F._DEFAULT_ENTRY_NAME){var Te;this._delegate.checkDestroyed();const Be=this._delegate.container.getProvider(ye);return!Be.isInitialized()&&"EXPLICIT"===(null===(Te=Be.getComponent())||void 0===Te?void 0:Te.instantiationMode)&&Be.initialize(),Be.getImmediate({identifier:ve})}_removeServiceInstance(ye,ve=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(ve)}_addComponent(ye){(0,F._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,F._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function se(){const je=function ee(je){const ye={},ve={__esModule:!0,initializeApp:function Pe(fe,H={}){const oe=F.initializeApp(fe,H);if((0,l.r3)(ye,oe.name))return ye[oe.name];const Ne=new je(oe,ve);return ye[oe.name]=Ne,Ne},app:Be,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function we(fe){const H=fe.name,oe=H.replace("-compat","");if(F._registerComponent(fe)&&"PUBLIC"===fe.type){const Ne=(rt=Be())=>{if("function"!=typeof rt[oe])throw re.create("invalid-app-argument",{appName:H});return rt[oe]()};void 0!==fe.serviceProps&&(0,l.ZB)(Ne,fe.serviceProps),ve[oe]=Ne,je.prototype[oe]=function(...rt){return this._getService.bind(this,H).apply(this,fe.multipleInstances?rt:[])}}return"PUBLIC"===fe.type?ve[oe]:null},removeApp:function Te(fe){delete ye[fe]},useAsService:function ge(fe,H){return"serverAuth"===H?null:H},modularAPIs:F}};function Be(fe){if(!(0,l.r3)(ye,fe=fe||F._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:fe});return ye[fe]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function Oe(){return Object.keys(ye).map(fe=>ye[fe])}}),Be.App=je,ve}(ae);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:se,extendNamespace:function ye(ve){(0,l.ZB)(je,ve)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),je}(),G=new le.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Re=j;!function Ce(je){(0,F.registerVersion)("@firebase/app-compat","0.1.27",je)}()},9681:(Je,he,k)=>{"use strict";k.r(he),k.d(he,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>ei,_DEFAULT_ENTRY_NAME:()=>jt,_addComponent:()=>ln,_addOrOverwriteComponent:()=>xt,_apps:()=>yn,_clearComponents:()=>jn,_components:()=>vn,_getProvider:()=>Lt,_registerComponent:()=>bn,_removeServiceInstance:()=>St,deleteApp:()=>_t,getApp:()=>cr,getApps:()=>Yr,initializeApp:()=>Kr,onLog:()=>Hn,registerVersion:()=>Ln,setLogLevel:()=>no});var l=k(5861),z=k(4859),F=k(1877),le=k(2090),ae=k(8766);class te{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function re(q){const ie=q.getComponent();return"VERSION"===(null==ie?void 0:ie.type)}(Me)){const Xe=Me.getImmediate();return`${Xe.library}/${Xe.version}`}return null}).filter(Me=>Me).join(" ")}}const ee="@firebase/app",j=new F.Yd("@firebase/app"),jt="[DEFAULT]",It={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yn=new Map,vn=new Map;function ln(q,ie){try{q.container.addComponent(ie)}catch(Me){j.debug(`Component ${ie.name} failed to register with FirebaseApp ${q.name}`,Me)}}function xt(q,ie){q.container.addOrOverwriteComponent(ie)}function bn(q){const ie=q.name;if(vn.has(ie))return j.debug(`There were multiple attempts to register component ${ie}.`),!1;vn.set(ie,q);for(const Me of yn.values())ln(Me,q);return!0}function Lt(q,ie){const Me=q.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),q.container.getProvider(ie)}function St(q,ie,Me=jt){Lt(q,ie).clearInstance(Me)}function jn(){vn.clear()}const Nt=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class rn{constructor(ie,Me,Xe){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=Xe,this.container.addComponent(new z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw Nt.create("app-deleted",{appName:this._name})}}const ei="9.8.3";function Kr(q,ie={}){"object"!=typeof ie&&(ie={name:ie});const Me=Object.assign({name:jt,automaticDataCollectionEnabled:!1},ie),Xe=Me.name;if("string"!=typeof Xe||!Xe)throw Nt.create("bad-app-name",{appName:String(Xe)});const lt=yn.get(Xe);if(lt){if((0,le.vZ)(q,lt.options)&&(0,le.vZ)(Me,lt.config))return lt;throw Nt.create("duplicate-app",{appName:Xe})}const wt=new z.H0(Xe);for(const Et of vn.values())wt.addComponent(Et);const wn=new rn(q,Me,wt);return yn.set(Xe,wn),wn}function cr(q=jt){const ie=yn.get(q);if(!ie)throw Nt.create("no-app",{appName:q});return ie}function Yr(){return Array.from(yn.values())}function _t(q){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(q){const ie=q.name;yn.has(ie)&&(yn.delete(ie),yield Promise.all(q.container.getProviders().map(Me=>Me.delete())),q.isDeleted=!0)})).apply(this,arguments)}function Ln(q,ie,Me){var Xe;let lt=null!==(Xe=It[q])&&void 0!==Xe?Xe:q;Me&&(lt+=`-${Me}`);const wt=lt.match(/\s|\//),wn=ie.match(/\s|\//);if(wt||wn){const Et=[`Unable to register library "${lt}" with version "${ie}":`];return wt&&Et.push(`library name "${lt}" contains illegal characters (whitespace or "/")`),wt&&wn&&Et.push("and"),wn&&Et.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void j.warn(Et.join(" "))}bn(new z.wA(`${lt}-version`,()=>({library:lt,version:ie}),"VERSION"))}function Hn(q,ie){if(null!==q&&"function"!=typeof q)throw Nt.create("invalid-log-argument");(0,F.Am)(q,ie)}function no(q){(0,F.Ub)(q)}const Gn="firebase-heartbeat-store";let Fr=null;function Po(){return Fr||(Fr=(0,ae.X3)("firebase-heartbeat-database",1,{upgrade:(q,ie)=>{0===ie&&q.createObjectStore(Gn)}}).catch(q=>{throw Nt.create("storage-open",{originalErrorMessage:q.message})})),Fr}function st(){return(st=(0,l.Z)(function*(q){var ie;try{return(yield Po()).transaction(Gn).objectStore(Gn).get(Lr(q))}catch(Me){throw Nt.create("storage-get",{originalErrorMessage:null===(ie=Me)||void 0===ie?void 0:ie.message})}})).apply(this,arguments)}function bt(q,ie){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(q,ie){var Me;try{const lt=(yield Po()).transaction(Gn,"readwrite");return yield lt.objectStore(Gn).put(ie,Lr(q)),lt.done}catch(Xe){throw Nt.create("storage-set",{originalErrorMessage:null===(Me=Xe)||void 0===Me?void 0:Me.message})}})).apply(this,arguments)}function Lr(q){return`${q.name}!${q.options.appId}`}class Vi{constructor(ie){this.container=ie,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new K(Me),this._heartbeatsCachePromise=this._storage.read().then(Xe=>(this._heartbeatsCache=Xe,Xe))}triggerHeartbeat(){var ie=this;return(0,l.Z)(function*(){const Xe=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),lt=ji();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==lt&&!ie._heartbeatsCache.heartbeats.some(wt=>wt.date===lt))return ie._heartbeatsCache.heartbeats.push({date:lt,agent:Xe}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(wt=>{const wn=new Date(wt.date).valueOf();return Date.now()-wn<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,l.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const Me=ji(),{heartbeatsToSend:Xe,unsentEntries:lt}=function $(q,ie=1024){const Me=[];let Xe=q.slice();for(const lt of q){const wt=Me.find(wn=>wn.agent===lt.agent);if(wt){if(wt.dates.push(lt.date),Y(Me)>ie){wt.dates.pop();break}}else if(Me.push({agent:lt.agent,dates:[lt.date]}),Y(Me)>ie){Me.pop();break}Xe=Xe.slice(1)}return{heartbeatsToSend:Me,unsentEntries:Xe}}(ie._heartbeatsCache.heartbeats),wt=(0,le.L)(JSON.stringify({version:2,heartbeats:Xe}));return ie._heartbeatsCache.lastSentHeartbeatDate=Me,lt.length>0?(ie._heartbeatsCache.heartbeats=lt,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),wt})()}}function ji(){return(new Date).toISOString().substring(0,10)}class K{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,l.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function zt(q){return st.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var Me=this;return(0,l.Z)(function*(){var Xe;if(yield Me._canUseIndexedDBPromise){const wt=yield Me.read();return bt(Me.app,{lastSentHeartbeatDate:null!==(Xe=ie.lastSentHeartbeatDate)&&void 0!==Xe?Xe:wt.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var Me=this;return(0,l.Z)(function*(){var Xe;if(yield Me._canUseIndexedDBPromise){const wt=yield Me.read();return bt(Me.app,{lastSentHeartbeatDate:null!==(Xe=ie.lastSentHeartbeatDate)&&void 0!==Xe?Xe:wt.lastSentHeartbeatDate,heartbeats:[...wt.heartbeats,...ie.heartbeats]})}})()}}function Y(q){return(0,le.L)(JSON.stringify({version:2,heartbeats:q})).length}!function Ee(q){bn(new z.wA("platform-logger",ie=>new te(ie),"PRIVATE")),bn(new z.wA("heartbeat",ie=>new Vi(ie),"PRIVATE")),Ln(ee,"0.7.26",q),Ln(ee,"0.7.26","esm2017"),Ln("fire-js","")}("")},4859:(Je,he,k)=>{"use strict";k.d(he,{wA:()=>F,H0:()=>ee,zt:()=>ae});var l=k(5861),z=k(2090);class F{constructor(j,G,ne){this.name=j,this.instanceFactory=G,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const le="[DEFAULT]";class ae{constructor(j,G){this.name=j,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const G=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(G)){const ne=new z.BH;if(this.instancesDeferred.set(G,ne),this.isInitialized(G)||this.shouldAutoInitialize())try{const Ue=this.getOrInitializeService({instanceIdentifier:G});Ue&&ne.resolve(Ue)}catch(Ue){}}return this.instancesDeferred.get(G).promise}getImmediate(j){var G;const ne=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Ue=null!==(G=null==j?void 0:j.optional)&&void 0!==G&&G;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ce){if(Ue)return null;throw Ce}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function re(se){return"EAGER"===se.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:le})}catch(G){}for(const[G,ne]of this.instancesDeferred.entries()){const Ue=this.normalizeInstanceIdentifier(G);try{const Ce=this.getOrInitializeService({instanceIdentifier:Ue});ne.resolve(Ce)}catch(Ce){}}}}clearInstance(j=le){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,l.Z)(function*(){const G=Array.from(j.instances.values());yield Promise.all([...G.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...G.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=le){return this.instances.has(j)}getOptions(j=le){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:G={}}=j,ne=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ue=this.getOrInitializeService({instanceIdentifier:ne,options:G});for(const[Ce,Re]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ce)&&Re.resolve(Ue);return Ue}onInit(j,G){var ne;const Ue=this.normalizeInstanceIdentifier(G),Ce=null!==(ne=this.onInitCallbacks.get(Ue))&&void 0!==ne?ne:new Set;Ce.add(j),this.onInitCallbacks.set(Ue,Ce);const Re=this.instances.get(Ue);return Re&&j(Re,Ue),()=>{Ce.delete(j)}}invokeOnInitCallbacks(j,G){const ne=this.onInitCallbacks.get(G);if(ne)for(const Ue of ne)try{Ue(j,G)}catch(Ce){}}getOrInitializeService({instanceIdentifier:j,options:G={}}){let ne=this.instances.get(j);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(se=j,se===le?void 0:se),options:G}),this.instances.set(j,ne),this.instancesOptions.set(j,G),this.invokeOnInitCallbacks(ne,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,ne)}catch(Ue){}var se;return ne||null}normalizeInstanceIdentifier(j=le){return this.component?this.component.multipleInstances?j:le:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ee{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const G=this.getProvider(j.name);if(G.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);G.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const G=new ae(j,this);return this.providers.set(j,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(Je,he,k)=>{"use strict";k.d(he,{in:()=>z,Yd:()=>re,Ub:()=>ee,Am:()=>se});const l=[];var z=(()=>{return(j=z||(z={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",z;var j})();const F={debug:z.DEBUG,verbose:z.VERBOSE,info:z.INFO,warn:z.WARN,error:z.ERROR,silent:z.SILENT},le=z.INFO,ae={[z.DEBUG]:"log",[z.VERBOSE]:"log",[z.INFO]:"info",[z.WARN]:"warn",[z.ERROR]:"error"},te=(j,G,...ne)=>{if(G<j.logLevel)return;const Ue=(new Date).toISOString(),Ce=ae[G];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Ce](`[${Ue}]  ${j.name}:`,...ne)};class re{constructor(G){this.name=G,this._logLevel=le,this._logHandler=te,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in z))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?F[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,z.DEBUG,...G),this._logHandler(this,z.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,z.VERBOSE,...G),this._logHandler(this,z.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,z.INFO,...G),this._logHandler(this,z.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,z.WARN,...G),this._logHandler(this,z.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,z.ERROR,...G),this._logHandler(this,z.ERROR,...G)}}function ee(j){l.forEach(G=>{G.setLogLevel(j)})}function se(j,G){for(const ne of l){let Ue=null;G&&G.level&&(Ue=F[G.level]),ne.userLogHandler=null===j?null:(Ce,Re,...je)=>{const ye=je.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch(Te){return null}}).filter(ve=>ve).join(" ");Re>=(null!=Ue?Ue:Ce.logLevel)&&j({level:z[Re].toLowerCase(),message:ye,args:je,type:Ce.name})}}}},8766:(Je,he,k)=>{"use strict";k.d(he,{Lj:()=>Pe,X3:()=>Be});var l=k(5861);let F,le;const re=new WeakMap,ee=new WeakMap,se=new WeakMap,j=new WeakMap,G=new WeakMap;let Ce={get(H,oe,Ne){if(H instanceof IDBTransaction){if("done"===oe)return ee.get(H);if("objectStoreNames"===oe)return H.objectStoreNames||se.get(H);if("store"===oe)return Ne.objectStoreNames[1]?void 0:Ne.objectStore(Ne.objectStoreNames[0])}return ve(H[oe])},set:(H,oe,Ne)=>(H[oe]=Ne,!0),has:(H,oe)=>H instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in H};function ye(H){return"function"==typeof H?function je(H){return H!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return le||(le=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(H)?function(...oe){return H.apply(Te(this),oe),ve(re.get(this))}:function(...oe){return ve(H.apply(Te(this),oe))}:function(oe,...Ne){const rt=H.call(Te(this),oe,...Ne);return se.set(rt,oe.sort?oe.sort():[oe]),ve(rt)}}(H):(H instanceof IDBTransaction&&function Ue(H){if(ee.has(H))return;const oe=new Promise((Ne,rt)=>{const We=()=>{H.removeEventListener("complete",ht),H.removeEventListener("error",Ge),H.removeEventListener("abort",Ge)},ht=()=>{Ne(),We()},Ge=()=>{rt(H.error||new DOMException("AbortError","AbortError")),We()};H.addEventListener("complete",ht),H.addEventListener("error",Ge),H.addEventListener("abort",Ge)});ee.set(H,oe)}(H),((H,oe)=>oe.some(Ne=>H instanceof Ne))(H,function ae(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(H,Ce):H)}function ve(H){if(H instanceof IDBRequest)return function ne(H){const oe=new Promise((Ne,rt)=>{const We=()=>{H.removeEventListener("success",ht),H.removeEventListener("error",Ge)},ht=()=>{Ne(ve(H.result)),We()},Ge=()=>{rt(H.error),We()};H.addEventListener("success",ht),H.addEventListener("error",Ge)});return oe.then(Ne=>{Ne instanceof IDBCursor&&re.set(Ne,H)}).catch(()=>{}),G.set(oe,H),oe}(H);if(j.has(H))return j.get(H);const oe=ye(H);return oe!==H&&(j.set(H,oe),G.set(oe,H)),oe}const Te=H=>G.get(H);function Be(H,oe,{blocked:Ne,upgrade:rt,blocking:We,terminated:ht}={}){const Ge=indexedDB.open(H,oe),Xn=ve(Ge);return rt&&Ge.addEventListener("upgradeneeded",Fn=>{rt(ve(Ge.result),Fn.oldVersion,Fn.newVersion,ve(Ge.transaction))}),Ne&&Ge.addEventListener("blocked",()=>Ne()),Xn.then(Fn=>{ht&&Fn.addEventListener("close",()=>ht()),We&&Fn.addEventListener("versionchange",()=>We())}).catch(()=>{}),Xn}function Pe(H,{blocked:oe}={}){const Ne=indexedDB.deleteDatabase(H);return oe&&Ne.addEventListener("blocked",()=>oe()),ve(Ne).then(()=>{})}const Oe=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],ge=new Map;function fe(H,oe){if(!(H instanceof IDBDatabase)||oe in H||"string"!=typeof oe)return;if(ge.get(oe))return ge.get(oe);const Ne=oe.replace(/FromIndex$/,""),rt=oe!==Ne,We=we.includes(Ne);if(!(Ne in(rt?IDBIndex:IDBObjectStore).prototype)||!We&&!Oe.includes(Ne))return;const ht=function(){var Ge=(0,l.Z)(function*(Xn,...Fn){const Di=this.transaction(Xn,We?"readwrite":"readonly");let jt=Di.store;return rt&&(jt=jt.index(Fn.shift())),(yield Promise.all([jt[Ne](...Fn),We&&Di.done]))[0]});return function(Fn){return Ge.apply(this,arguments)}}();return ge.set(oe,ht),ht}!function Re(H){Ce=H(Ce)}(H=>LV(FV({},H),{get:(oe,Ne,rt)=>fe(oe,Ne)||H.get(oe,Ne,rt),has:(oe,Ne)=>!!fe(oe,Ne)||H.has(oe,Ne)}))},5861:(Je,he,k)=>{"use strict";function l(F,le,ae,te,re,ee,se){try{var j=F[ee](se),G=j.value}catch(ne){return void ae(ne)}j.done?le(G):Promise.resolve(G).then(te,re)}function z(F){return function(){var le=this,ae=arguments;return new Promise(function(te,re){var ee=F.apply(le,ae);function se(G){l(ee,te,re,se,j,"next",G)}function j(G){l(ee,te,re,se,j,"throw",G)}se(void 0)})}}k.d(he,{Z:()=>z})}},Je=>{Je(Je.s=7590)}]);